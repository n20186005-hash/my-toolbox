<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roman Numeral Converter</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="roman_numeral_converter">
    <meta name="category" content="Conversion">
    <meta name="icon" content="ğŸ”¢">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Roman Numeral Converter">
    <meta name="description" content="Convert between Roman numerals and Arabic numbers.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ç½—é©¬æ•°å­—è½¬æ¢å™¨">
    <meta name="lang-description-zh-CN" content="åœ¨ç½—é©¬æ•°å­—å’Œé˜¿æ‹‰ä¼¯æ•°å­—ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚">
    
    <meta name="lang-title-zh-TW" content="ç¾…é¦¬æ•¸å­—è½‰æ›å™¨">
    <meta name="lang-description-zh-TW" content="åœ¨ç¾…é¦¬æ•¸å­—å’Œé˜¿æ‹‰ä¼¯æ•¸å­—ä¹‹é–“é€²è¡Œè½‰æ›ã€‚">
    
    <meta name="lang-title-ja" content="ãƒ­ãƒ¼ãƒæ•°å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ãƒ­ãƒ¼ãƒæ•°å­—ã¨ã‚¢ãƒ©ãƒ“ã‚¢æ•°å­—ã‚’ç›¸äº’ã«å¤‰æ›ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ñ€Ğ¸Ğ¼ÑĞºĞ¸Ñ… Ñ†Ğ¸Ñ„Ñ€">
    <meta name="lang-description-ru" content="ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€Ğ¸Ğ¼ÑĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ² Ğ°Ñ€Ğ°Ğ±ÑĞºĞ¸Ğµ Ğ¸ Ğ½Ğ°Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .swap-btn { margin: -10px auto 10px; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="roman_numeral_converter" 
         data-category="converter" 
         data-title="Roman Numeral Converter" 
         data-icon="ğŸ”¢">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="rn-lang" onchange="RomanNumeralConverter.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ”¢ Roman Numeral Converter</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="arabic_label">Arabic Number</label>
                <input type="number" id="arabic-number" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 1987" min="1" max="3999">
            </div>
            
            <!-- äº¤æ¢æŒ‰é’® -->
            <button onclick="RomanNumeralConverter.swap()" class="swap-btn bg-gray-100 hover:bg-gray-200 transition" data-i18n="swap_btn">â†”ï¸</button>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="roman_label">Roman Numeral</label>
                <input type="text" id="roman-number" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. MCMLXXXVII">
            </div>
        </div>

        <button onclick="RomanNumeralConverter.convert()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_convert">Convert</button>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100 text-center">
            <div class="text-sm text-gray-500 mb-2" data-i18n="res_label">Conversion Result</div>
            <div id="rn-result" class="text-2xl font-bold text-blue-800">--</div>
        </div>
    </div>

    <script>
        const RomanNumeralConverter = {
            // ç½—é©¬æ•°å­—æ˜ å°„è¡¨
            romanValues: [
                { value: 1000, symbol: 'M' },
                { value: 900, symbol: 'CM' },
                { value: 500, symbol: 'D' },
                { value: 400, symbol: 'CD' },
                { value: 100, symbol: 'C' },
                { value: 90, symbol: 'XC' },
                { value: 50, symbol: 'L' },
                { value: 40, symbol: 'XL' },
                { value: 10, symbol: 'X' },
                { value: 9, symbol: 'IX' },
                { value: 5, symbol: 'V' },
                { value: 4, symbol: 'IV' },
                { value: 1, symbol: 'I' }
            ],

            i18n: {
                'en': {
                    title: 'ğŸ”¢ Roman Numeral Converter',
                    arabic_label: 'Arabic Number',
                    roman_label: 'Roman Numeral',
                    swap_btn: 'â†”ï¸',
                    btn_convert: 'Convert',
                    res_label: 'Conversion Result',
                    err_invalid_arabic: 'Please enter a number between 1 and 3999',
                    err_invalid_roman: 'Please enter a valid Roman numeral',
                    converting_arabic: 'Converting to Roman numeral:',
                    converting_roman: 'Converting to Arabic number:'
                },
                'zh-CN': {
                    title: 'ğŸ”¢ ç½—é©¬æ•°å­—è½¬æ¢å™¨',
                    arabic_label: 'é˜¿æ‹‰ä¼¯æ•°å­—',
                    roman_label: 'ç½—é©¬æ•°å­—',
                    swap_btn: 'â†”ï¸',
                    btn_convert: 'è½¬æ¢',
                    res_label: 'è½¬æ¢ç»“æœ',
                    err_invalid_arabic: 'è¯·è¾“å…¥1åˆ°3999ä¹‹é—´çš„æ•°å­—',
                    err_invalid_roman: 'è¯·è¾“å…¥æœ‰æ•ˆçš„ç½—é©¬æ•°å­—',
                    converting_arabic: 'è½¬æ¢ä¸ºç½—é©¬æ•°å­—ï¼š',
                    converting_roman: 'è½¬æ¢ä¸ºé˜¿æ‹‰ä¼¯æ•°å­—ï¼š'
                },
                'zh-TW': {
                    title: 'ğŸ”¢ ç¾…é¦¬æ•¸å­—è½‰æ›å™¨',
                    arabic_label: 'é˜¿æ‹‰ä¼¯æ•¸å­—',
                    roman_label: 'ç¾…é¦¬æ•¸å­—',
                    swap_btn: 'â†”ï¸',
                    btn_convert: 'è½‰æ›',
                    res_label: 'è½‰æ›çµæœ',
                    err_invalid_arabic: 'è«‹è¼¸å…¥1åˆ°3999ä¹‹é–“çš„æ•¸å­—',
                    err_invalid_roman: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„ç¾…é¦¬æ•¸å­—',
                    converting_arabic: 'è½‰æ›ç‚ºç¾…é¦¬æ•¸å­—ï¼š',
                    converting_roman: 'è½‰æ›ç‚ºé˜¿æ‹‰ä¼¯æ•¸å­—ï¼š'
                },
                'ja': {
                    title: 'ğŸ”¢ ãƒ­ãƒ¼ãƒæ•°å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«',
                    arabic_label: 'ã‚¢ãƒ©ãƒ“ã‚¢æ•°å­—',
                    roman_label: 'ãƒ­ãƒ¼ãƒæ•°å­—',
                    swap_btn: 'â†”ï¸',
                    btn_convert: 'å¤‰æ›',
                    res_label: 'å¤‰æ›çµæœ',
                    err_invalid_arabic: '1ã‹ã‚‰3999ã¾ã§ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_invalid_roman: 'æœ‰åŠ¹ãªãƒ­ãƒ¼ãƒæ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    converting_arabic: 'ãƒ­ãƒ¼ãƒæ•°å­—ã«å¤‰æ›ï¼š',
                    converting_roman: 'ã‚¢ãƒ©ãƒ“ã‚¢æ•°å­—ã«å¤‰æ›ï¼š'
                },
                'ru': {
                    title: 'ğŸ”¢ ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ñ€Ğ¸Ğ¼ÑĞºĞ¸Ñ… Ñ†Ğ¸Ñ„Ñ€',
                    arabic_label: 'ĞÑ€Ğ°Ğ±ÑĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹',
                    roman_label: 'Ğ Ğ¸Ğ¼ÑĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹',
                    swap_btn: 'â†”ï¸',
                    btn_convert: 'ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
                    res_label: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    err_invalid_arabic: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ¾Ñ‚ 1 Ğ´Ğ¾ 3999',
                    err_invalid_roman: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ñ€Ğ¸Ğ¼ÑĞºÑƒÑ Ñ†Ğ¸Ñ„Ñ€Ñƒ',
                    converting_arabic: 'ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ñ€Ğ¸Ğ¼ÑĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹:',
                    converting_roman: 'ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ°Ñ€Ğ°Ğ±ÑĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹:'
                }
            },

            init: () => {
                // åˆå§‹åŒ–ç¤ºä¾‹å€¼
                document.getElementById('arabic-number').value = 1987;
                document.getElementById('roman-number').value = "MCMLXXXVII";
            },

            changeLang: () => {
                const lang = document.getElementById('rn-lang').value;
                const texts = RomanNumeralConverter.i18n[lang];
                const elements = document.querySelectorAll('[data-id="roman_numeral_converter"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
            },

            // äº¤æ¢è¾“å…¥å€¼
            swap: () => {
                const arabicInput = document.getElementById('arabic-number');
                const romanInput = document.getElementById('roman-number');
                const temp = arabicInput.value;
                
                arabicInput.value = romanInput.value;
                romanInput.value = temp;
            },

            // é˜¿æ‹‰ä¼¯æ•°å­—è½¬ç½—é©¬æ•°å­—
            arabicToRoman: (num) => {
                let result = '';
                for (let i = 0; i < RomanNumeralConverter.romanValues.length; i++) {
                    while (num >= RomanNumeralConverter.romanValues[i].value) {
                        result += RomanNumeralConverter.romanValues[i].symbol;
                        num -= RomanNumeralConverter.romanValues[i].value;
                    }
                }
                return result;
            },

            // ç½—é©¬æ•°å­—è½¬é˜¿æ‹‰ä¼¯æ•°å­—
            romanToArabic: (roman) => {
                let result = 0;
                const romanUpper = roman.toUpperCase();
                
                for (let i = 0; i < RomanNumeralConverter.romanValues.length; i++) {
                    while (romanUpper.startsWith(RomanNumeralConverter.romanValues[i].symbol)) {
                        result += RomanNumeralConverter.romanValues[i].value;
                        romanUpper = romanUpper.replace(RomanNumeralConverter.romanValues[i].symbol, '');
                    }
                }
                
                // éªŒè¯è½¬æ¢æ˜¯å¦æœ‰æ•ˆï¼ˆè½¬æ¢åå†è½¬æ¢å›å»åº”è¯¥å’ŒåŸç½—é©¬æ•°å­—ä¸€è‡´ï¼‰
                if (romanUpper !== '' || 
                    RomanNumeralConverter.arabicToRoman(result) !== roman.toUpperCase()) {
                    return null;
                }
                
                return result;
            },

            // æ‰§è¡Œè½¬æ¢
            convert: () => {
                const arabicInput = document.getElementById('arabic-number').value.trim();
                const romanInput = document.getElementById('roman-number').value.trim();
                const lang = document.getElementById('rn-lang').value;
                const texts = RomanNumeralConverter.i18n[lang];
                const resultEl = document.getElementById('rn-result');

                // ä¼˜å…ˆå¤„ç†é˜¿æ‹‰ä¼¯æ•°å­—è¾“å…¥
                if (arabicInput) {
                    const num = parseInt(arabicInput);
                    
                    if (isNaN(num) || num < 1 || num > 3999) {
                        resultEl.innerText = texts.err_invalid_arabic;
                        resultEl.className = "text-xl font-bold text-red-600";
                        return;
                    }
                    
                    const roman = RomanNumeralConverter.arabicToRoman(num);
                    document.getElementById('roman-number').value = roman;
                    
                    resultEl.className = "text-2xl font-bold text-blue-800";
                    resultEl.innerText = `${texts.converting_arabic} ${roman}`;
                    return;
                }

                // å¤„ç†ç½—é©¬æ•°å­—è¾“å…¥
                if (romanInput) {
                    const arabic = RomanNumeralConverter.romanToArabic(romanInput);
                    
                    if (arabic === null) {
                        resultEl.innerText = texts.err_invalid_roman;
                        resultEl.className = "text-xl font-bold text-red-600";
                        return;
                    }
                    
                    document.getElementById('arabic-number').value = arabic;
                    
                    resultEl.className = "text-2xl font-bold text-blue-800";
                    resultEl.innerText = `${texts.converting_roman} ${arabic}`;
                    return;
                }

                // æ²¡æœ‰è¾“å…¥
                resultEl.innerText = texts.err_invalid_arabic;
                resultEl.className = "text-xl font-bold text-red-600";
            }
        };

        document.addEventListener('DOMContentLoaded', RomanNumeralConverter.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('rn-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    RomanNumeralConverter.changeLang();
                }
            }
        });
    </script>

</body>
</html>