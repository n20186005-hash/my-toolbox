<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Protein Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #eff6ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="prot_calc" 
         data-category="health" 
         data-title="Protein Calculator" 
         data-icon="ü•©">
        
        <div class="absolute top-4 right-4">
            <select id="pc-lang" onchange="ProtCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ü•© Protein Calculator</h2>

        <div class="mb-4">
            <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_weight">Weight</label>
            <div class="flex gap-2">
                <input type="number" id="pc-weight" class="flex-1 p-2 border rounded focus:ring-1 focus:ring-blue-500 outline-none" placeholder="70" value="70">
                <select id="pc-unit" class="border rounded bg-white text-sm px-2">
                    <option value="kg">kg</option>
                    <option value="lb">lbs</option>
                </select>
            </div>
        </div>

        <div class="mb-6">
            <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_activity">Activity / Goal</label>
            <select id="pc-activity" class="w-full p-2 border rounded bg-white text-sm">
                <option value="0.8" data-i18n="act_sed">Sedentary (Min Requirement)</option>
                <option value="1.2" data-i18n="act_active">Active / Endurance</option>
                <option value="1.6" data-i18n="act_strength">Strength Training / Muscle Gain</option>
                <option value="2.0" data-i18n="act_athlete">Elite Athlete</option>
            </select>
        </div>

        <button onclick="ProtCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate Protein</button>

        <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 text-center">
            <span class="text-sm text-gray-600 block mb-1" data-i18n="res_daily">Daily Protein Intake</span>
            <div id="pc-result" class="text-4xl font-bold text-blue-800">-- g</div>
            <div id="pc-range" class="text-xs text-gray-500 mt-2">Range: --</div>
        </div>
    </div>

    <script>
        const ProtCalc = {
            i18n: {
                'en': {
                    title: 'ü•© Protein Calculator',
                    lbl_weight: 'Current Weight',
                    lbl_activity: 'Activity / Goal',
                    act_sed: 'Sedentary (Min Requirement)',
                    act_active: 'Active / Endurance Sport',
                    act_strength: 'Strength Training / Muscle Gain',
                    act_athlete: 'Elite Athlete / Heavy Training',
                    btn_calc: 'Calculate Protein',
                    res_daily: 'Daily Protein Target'
                },
                'zh-CN': {
                    title: 'ü•© ËõãÁôΩË¥®ËÆ°ÁÆóÂô®',
                    lbl_weight: 'ÂΩìÂâç‰ΩìÈáç',
                    lbl_activity: 'Ê¥ªÂä®Èáè / ÁõÆÊ†á',
                    act_sed: '‰πÖÂùê‰∏çÂä® (ÊúÄ‰ΩéÈúÄÊ±Ç)',
                    act_active: 'Ê¥ªË∑É / ËÄêÂäõËøêÂä®',
                    act_strength: 'ÂäõÈáèËÆ≠ÁªÉ / Â¢ûËÇå',
                    act_athlete: '‰∏ì‰∏öËøêÂä®Âëò / È´òÂº∫Â∫¶ËÆ≠ÁªÉ',
                    btn_calc: 'ËÆ°ÁÆóËõãÁôΩË¥®ÈúÄÊ±Ç',
                    res_daily: 'ÊØèÊó•ËõãÁôΩË¥®ÁõÆÊ†á'
                },
                'zh-TW': {
                    title: 'ü•© ËõãÁôΩË≥™Ë®àÁÆóÂô®',
                    lbl_weight: 'Áï∂ÂâçÈ´îÈáç',
                    lbl_activity: 'Ê¥ªÂãïÈáè / ÁõÆÊ®ô',
                    act_sed: '‰πÖÂùê‰∏çÂãï (ÊúÄ‰ΩéÈúÄÊ±Ç)',
                    act_active: 'Ê¥ªË∫ç / ËÄêÂäõÈÅãÂãï',
                    act_strength: 'ÂäõÈáèË®ìÁ∑¥ / Â¢ûËÇå',
                    act_athlete: 'Â∞àÊ•≠ÈÅãÂãïÂì° / È´òÂº∑Â∫¶Ë®ìÁ∑¥',
                    btn_calc: 'Ë®àÁÆóËõãÁôΩË≥™ÈúÄÊ±Ç',
                    res_daily: 'ÊØèÊó•ËõãÁôΩË≥™ÁõÆÊ®ô'
                },
                'ja': {
                    title: 'ü•© „Çø„É≥„Éë„ÇØË≥™Ë®àÁÆó',
                    lbl_weight: '‰ΩìÈáç',
                    lbl_activity: 'Ê¥ªÂãï„É¨„Éô„É´ / ÁõÆÊ®ô',
                    act_sed: 'ÈÅãÂãï„Å™„Åó (ÊúÄ‰ΩéÂøÖË¶ÅÈáè)',
                    act_active: 'Ê¥ªÂãïÁöÑ / ÊåÅ‰πÖÁ≥ª„Çπ„Éù„Éº„ÉÑ',
                    act_strength: 'Á≠ã„Éà„É¨ / Á≠ãËÇâÂ¢óÂº∑',
                    act_athlete: '„Ç¢„Çπ„É™„Éº„Éà / È´òÂº∑Â∫¶',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_daily: '1Êó•„ÅÆ„Çø„É≥„Éë„ÇØË≥™ÊëÇÂèñÈáè'
                },
                'ru': {
                    title: 'ü•© –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–µ–ª–∫–∞',
                    lbl_weight: '–í–µ—Å',
                    lbl_activity: '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å / –¶–µ–ª—å',
                    act_sed: '–°–∏–¥—è—á–∏–π (–ú–∏–Ω–∏–º—É–º)',
                    act_active: '–ê–∫—Ç–∏–≤–Ω—ã–π / –ö–∞—Ä–¥–∏–æ',
                    act_strength: '–°–∏–ª–æ–≤—ã–µ / –ù–∞–±–æ—Ä –º–∞—Å—Å—ã',
                    act_athlete: '–ê—Ç–ª–µ—Ç / –¢—è–∂–µ–ª—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_daily: '–ë–µ–ª–æ–∫ –≤ –¥–µ–Ω—å'
                },
                'es': {
                    title: 'ü•© Calculadora de Prote√≠na',
                    lbl_weight: 'Peso Actual',
                    lbl_activity: 'Actividad / Meta',
                    act_sed: 'Sedentario (M√≠nimo)',
                    act_active: 'Activo / Resistencia',
                    act_strength: 'Fuerza / Ganar M√∫sculo',
                    act_athlete: 'Atleta de √âlite',
                    btn_calc: 'Calcular',
                    res_daily: 'Objetivo Diario'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('pc-lang').value;
                const texts = ProtCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="prot_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(texts[key]) {
                        if(el.tagName === 'OPTION') el.text = texts[key];
                        else el.innerText = texts[key];
                    }
                });
            },

            calc: () => {
                const wInput = parseFloat(document.getElementById('pc-weight').value);
                const unit = document.getElementById('pc-unit').value;
                const factor = parseFloat(document.getElementById('pc-activity').value);

                if (isNaN(wInput)) return;

                let weightKg = wInput;
                if (unit === 'lb') weightKg = wInput * 0.453592;

                // Protein needs: factor * weight (kg)
                // e.g., Sedentary 0.8g/kg, Strength 1.6g/kg
                const target = Math.round(weightKg * factor);
                
                // Range +/- 10%
                const min = Math.round(target * 0.9);
                const max = Math.round(target * 1.1);

                document.getElementById('pc-result').innerText = target + " g";
                document.getElementById('pc-range').innerText = `Range: ${min} - ${max} g`;
            }
        };
        
        ProtCalc.calc();
    </script>
</body>
</html>