<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Password Generator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #fdf2f8; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="pwd_gen" 
         data-category="security" 
         data-title="Password Generator" 
         data-icon="üîë">
        
        <div class="absolute top-4 right-4">
            <select id="pg-lang" onchange="PwdGen.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üîë Password Generator</h2>

        <div class="mb-6">
            <div class="flex justify-between items-center mb-1">
                <label class="text-sm font-medium text-gray-700" data-i18n="lbl_len">Password Length</label>
                <span id="pg-len-val" class="text-sm font-bold text-pink-600">12</span>
            </div>
            <input type="range" id="pg-len" min="4" max="64" value="12" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-pink-600" oninput="document.getElementById('pg-len-val').innerText = this.value">
        </div>

        <div class="grid grid-cols-2 gap-3 mb-6 text-sm">
            <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="pg-upper" checked class="w-4 h-4 text-pink-600 rounded">
                <span class="ml-2" data-i18n="opt_upper">Uppercase (A-Z)</span>
            </label>
            <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="pg-lower" checked class="w-4 h-4 text-pink-600 rounded">
                <span class="ml-2" data-i18n="opt_lower">Lowercase (a-z)</span>
            </label>
            <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="pg-num" checked class="w-4 h-4 text-pink-600 rounded">
                <span class="ml-2" data-i18n="opt_num">Numbers (0-9)</span>
            </label>
            <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="pg-sym" checked class="w-4 h-4 text-pink-600 rounded">
                <span class="ml-2" data-i18n="opt_sym">Symbols (@#$%)</span>
            </label>
            <label class="flex items-center cursor-pointer col-span-2">
                <input type="checkbox" id="pg-ambig" class="w-4 h-4 text-pink-600 rounded">
                <span class="ml-2" data-i18n="opt_ambig">Exclude Ambiguous (il1Lo0O)</span>
            </label>
        </div>

        <button onclick="PwdGen.generate()" class="w-full bg-pink-600 text-white py-2 rounded font-bold hover:bg-pink-700 transition mb-6" data-i18n="btn_gen">Generate Password</button>

        <div class="bg-gray-100 p-4 rounded-lg border border-gray-200 relative flex items-center">
            <div id="pg-result" class="text-xl font-mono text-gray-800 break-all w-full pr-8">--</div>
            <button onclick="PwdGen.copy()" class="absolute top-2 right-2 text-gray-400 hover:text-pink-600 p-2" title="Copy">
                üìã
            </button>
        </div>
        <div id="pg-msg" class="text-xs text-center text-pink-600 mt-2 h-4"></div>
    </div>

    <script>
        const PwdGen = {
            i18n: {
                'en': {
                    title: 'üîë Password Generator',
                    lbl_len: 'Password Length',
                    opt_upper: 'Uppercase (A-Z)',
                    opt_lower: 'Lowercase (a-z)',
                    opt_num: 'Numbers (0-9)',
                    opt_sym: 'Symbols (@#$%)',
                    opt_ambig: 'Exclude Ambiguous (il1Lo0O)',
                    btn_gen: 'Generate Password',
                    msg_copied: 'Copied to clipboard!',
                    err_sel: 'Please select at least one character type.'
                },
                'zh-CN': {
                    title: 'üîë ÂØÜÁ†ÅÁîüÊàêÂô®',
                    lbl_len: 'ÂØÜÁ†ÅÈïøÂ∫¶',
                    opt_upper: 'Â§ßÂÜôÂ≠óÊØç (A-Z)',
                    opt_lower: 'Â∞èÂÜôÂ≠óÊØç (a-z)',
                    opt_num: 'Êï∞Â≠ó (0-9)',
                    opt_sym: 'Á¨¶Âè∑ (@#$%)',
                    opt_ambig: 'ÊéíÈô§ÊòìÊ∑∑Ê∑ÜÂ≠óÁ¨¶ (il1Lo0O)',
                    btn_gen: 'ÁîüÊàêÂØÜÁ†Å',
                    msg_copied: 'Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ',
                    err_sel: 'ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏ÄÁßçÂ≠óÁ¨¶Á±ªÂûã„ÄÇ'
                },
                'zh-TW': {
                    title: 'üîë ÂØÜÁ¢ºÁîüÊàêÂô®',
                    lbl_len: 'ÂØÜÁ¢ºÈï∑Â∫¶',
                    opt_upper: 'Â§ßÂØ´Â≠óÊØç (A-Z)',
                    opt_lower: 'Â∞èÂØ´Â≠óÊØç (a-z)',
                    opt_num: 'Êï∏Â≠ó (0-9)',
                    opt_sym: 'Á¨¶Ëôü (@#$%)',
                    opt_ambig: 'ÊéíÈô§ÊòìÊ∑∑Ê∑ÜÂ≠óÁ¨¶ (il1Lo0O)',
                    btn_gen: 'ÁîüÊàêÂØÜÁ¢º',
                    msg_copied: 'Â∑≤Ë§áË£ΩÂà∞Ââ™Ë≤ºÁ∞øÔºÅ',
                    err_sel: 'Ë´ãËá≥Â∞ëÈÅ∏Êìá‰∏ÄÁ®ÆÂ≠óÁ¨¶È°ûÂûã„ÄÇ'
                },
                'ja': {
                    title: 'üîë „Éë„Çπ„ÉØ„Éº„ÉâÁîüÊàê',
                    lbl_len: '„Éë„Çπ„ÉØ„Éº„Éâ„ÅÆÈï∑„Åï',
                    opt_upper: 'Ëã±Â§ßÊñáÂ≠ó (A-Z)',
                    opt_lower: 'Ëã±Â∞èÊñáÂ≠ó (a-z)',
                    opt_num: 'Êï∞Â≠ó (0-9)',
                    opt_sym: 'Ë®òÂè∑ (@#$%)',
                    opt_ambig: 'Á¥õ„Çâ„Çè„Åó„ÅÑÊñáÂ≠ó„ÇíÈô§„Åè (il1Lo0O)',
                    btn_gen: 'ÁîüÊàê„Åô„Çã',
                    msg_copied: '„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ',
                    err_sel: 'Â∞ë„Å™„Åè„Å®„ÇÇ1„Å§„ÅÆÊñáÂ≠óÁ®Æ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
                },
                'ru': {
                    title: 'üîë –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π',
                    lbl_len: '–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è',
                    opt_upper: '–ó–∞–≥–ª–∞–≤–Ω—ã–µ (A-Z)',
                    opt_lower: '–°—Ç—Ä–æ—á–Ω—ã–µ (a-z)',
                    opt_num: '–¶–∏—Ñ—Ä—ã (0-9)',
                    opt_sym: '–°–∏–º–≤–æ–ª—ã (@#$%)',
                    opt_ambig: '–ò—Å–∫–ª. –ø–æ—Ö–æ–∂–∏–µ (il1Lo0O)',
                    btn_gen: '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å',
                    msg_copied: '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!',
                    err_sel: '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤.'
                },
                'es': {
                    title: 'üîë Generador de Contrase√±as',
                    lbl_len: 'Longitud',
                    opt_upper: 'May√∫sculas (A-Z)',
                    opt_lower: 'Min√∫sculas (a-z)',
                    opt_num: 'N√∫meros (0-9)',
                    opt_sym: 'S√≠mbolos (@#$%)',
                    opt_ambig: 'Excluir Ambiguos (il1Lo0O)',
                    btn_gen: 'Generar',
                    msg_copied: '¬°Copiado!',
                    err_sel: 'Seleccione al menos un tipo.'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('pg-lang').value;
                const texts = PwdGen.i18n[lang];
                const elements = document.querySelectorAll('[data-id="pwd_gen"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
            },

            generate: () => {
                const len = parseInt(document.getElementById('pg-len').value);
                const useUpper = document.getElementById('pg-upper').checked;
                const useLower = document.getElementById('pg-lower').checked;
                const useNum = document.getElementById('pg-num').checked;
                const useSym = document.getElementById('pg-sym').checked;
                const excludeAmbig = document.getElementById('pg-ambig').checked;
                
                let chars = "";
                let upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
                let lower = "abcdefghijklmnopqrstuvwxyz";
                let num = "0123456789";
                let sym = "!@#$%^&*()_+~`|}{[]:;?><,./-=";

                if (excludeAmbig) {
                    upper = upper.replace(/[IO]/g, '');
                    lower = lower.replace(/[lo]/g, '');
                    num = num.replace(/[01]/g, '');
                    sym = sym.replace(/[|]/g, ''); // simplistic ambiguity filter
                }

                if (useUpper) chars += upper;
                if (useLower) chars += lower;
                if (useNum) chars += num;
                if (useSym) chars += sym;

                const lang = document.getElementById('pg-lang').value;
                const txt = PwdGen.i18n[lang];
                const msgEl = document.getElementById('pg-msg');

                if (chars === "") {
                    msgEl.innerText = txt.err_sel;
                    document.getElementById('pg-result').innerText = "--";
                    return;
                }

                msgEl.innerText = "";
                let pwd = "";
                for (let i = 0; i < len; i++) {
                    const r = Math.floor(Math.random() * chars.length);
                    pwd += chars.charAt(r);
                }

                document.getElementById('pg-result').innerText = pwd;
            },

            copy: () => {
                const text = document.getElementById('pg-result').innerText;
                if (text === "--") return;

                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);

                const lang = document.getElementById('pg-lang').value;
                const txt = PwdGen.i18n[lang];
                
                const msgEl = document.getElementById('pg-msg');
                msgEl.innerText = txt.msg_copied;
                setTimeout(() => msgEl.innerText = "", 2000);
            }
        };
        
        // Init generate
        setTimeout(PwdGen.generate, 500);
    </script>
</body>
</html>