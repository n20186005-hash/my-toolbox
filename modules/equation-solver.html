<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equation Solver</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="equation_solver">
    <meta name="category" content="math">
    <meta name="icon" content="ğŸ“">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Equation Solver">
    <meta name="description" content="Solve linear, quadratic, polynomial equations and more with step-by-step solutions.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="æ–¹ç¨‹æ±‚è§£å™¨">
    <meta name="lang-description-zh-CN" content="æ±‚è§£çº¿æ€§ã€äºŒæ¬¡ã€å¤šé¡¹å¼ç­‰æ–¹ç¨‹ï¼Œå¹¶æä¾›åˆ†æ­¥è§£å†³æ–¹æ¡ˆã€‚">
    
    <meta name="lang-title-zh-TW" content="æ–¹ç¨‹æ±‚è§£å™¨">
    <meta name="lang-description-zh-TW" content="æ±‚è§£ç·šæ€§ã€äºŒæ¬¡ã€å¤šé …å¼ç­‰æ–¹ç¨‹ï¼Œä¸¦æä¾›åˆ†æ­¥è§£æ±ºæ–¹æ¡ˆã€‚">
    
    <meta name="lang-title-ja" content="æ–¹ç¨‹å¼ã‚½ãƒ«ãƒãƒ¼">
    <meta name="lang-description-ja" content="ç·šå½¢æ–¹ç¨‹å¼ã€äºŒæ¬¡æ–¹ç¨‹å¼ã€å¤šé …å¼æ–¹ç¨‹å¼ãªã©ã‚’è§£ãã€ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®è§£æ³•ã‚’æä¾›ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="Ğ ĞµÑˆĞ°Ñ‚ĞµĞ»ÑŒ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğ¹">
    <meta name="lang-description-ru" content="Ğ ĞµÑˆĞ¸ Ğ»Ğ¸Ğ½ĞµĞ¹Ğ½Ñ‹Ğµ, ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğµ, Ğ¿Ğ¾Ğ»Ğ¸Ğ½Ğ¾Ğ¼Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ñ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸ÑĞ¼Ğ¸.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .solution-result { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .step-item { margin: 10px 0; padding-left: 20px; border-left: 2px solid #60a5fa; }
        .math-expression { font-family: 'Courier New', monospace; background: #f3f4f6; padding: 2px 4px; border-radius: 2px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="equation_solver" 
         data-category="math" 
         data-title="Equation Solver" 
         data-icon="ğŸ“">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="equation-lang" onchange="EquationSolver.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“ Equation Solver</h2>
        
        <div class="space-y-4 mb-6">
            <!-- æ–¹ç¨‹è¾“å…¥ -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="enter_equation">Enter Equation (e.g., 2x + 5 = 15)</label>
                <input type="text" id="equation-input" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="x + 3 = 7">
                
                <div class="mt-3">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="variable">Variable to solve for</label>
                    <input type="text" id="equation-variable" value="x" maxlength="1" class="w-16 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="EquationSolver.clearInput()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="EquationSolver.solve()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="solve">Solve Equation</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="equation-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="equation-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="solution">Solution</div>
            <div class="solution-result">
                <div class="text-lg font-medium mb-3" id="main-solution"></div>
                
                <div class="text-sm text-gray-500 mb-2" data-i18n="steps">Solution Steps</div>
                <div id="solution-steps" class="space-y-2 text-sm">
                    <!-- è§£é¢˜æ­¥éª¤å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="examples">Examples:</p>
            <ul class="list-disc list-inside mt-2 space-y-1">
                <li data-i18n="example1">Linear equation: <span class="math-expression">3x + 7 = 22</span></li>
                <li data-i18n="example2">Quadratic equation: <span class="math-expression">x^2 - 5x + 6 = 0</span></li>
                <li data-i18n="example3">With parentheses: <span class="math-expression">2(x + 3) = 14</span></li>
            </ul>
        </div>
    </div>

    <script>
        const EquationSolver = {
            // å¤šè¯­è¨€æ–‡æœ¬
            i18n: {
                'en': {
                    title: 'ğŸ“ Equation Solver',
                    enter_equation: 'Enter Equation (e.g., 2x + 5 = 15)',
                    variable: 'Variable to solve for',
                    clear: 'Clear',
                    solve: 'Solve Equation',
                    solution: 'Solution',
                    steps: 'Solution Steps',
                    examples: 'Examples:',
                    example1: 'Linear equation: 3x + 7 = 22',
                    example2: 'Quadratic equation: x^2 - 5x + 6 = 0',
                    example3: 'With parentheses: 2(x + 3) = 14',
                    err_invalid_equation: 'Please enter a valid equation',
                    err_invalid_variable: 'Please enter a valid single variable',
                    step1: 'Original equation: ',
                    step2: 'Subtract {value} from both sides: ',
                    step3: 'Simplify: ',
                    step4: 'Divide both sides by {value}: ',
                    step5: 'Solution: '
                },
                'zh-CN': {
                    title: 'ğŸ“ æ–¹ç¨‹æ±‚è§£å™¨',
                    enter_equation: 'è¾“å…¥æ–¹ç¨‹ï¼ˆä¾‹å¦‚ï¼š2x + 5 = 15ï¼‰',
                    variable: 'è¦æ±‚è§£çš„å˜é‡',
                    clear: 'æ¸…é™¤',
                    solve: 'æ±‚è§£æ–¹ç¨‹',
                    solution: 'è§£',
                    steps: 'è§£é¢˜æ­¥éª¤',
                    examples: 'ç¤ºä¾‹ï¼š',
                    example1: 'çº¿æ€§æ–¹ç¨‹ï¼š3x + 7 = 22',
                    example2: 'äºŒæ¬¡æ–¹ç¨‹ï¼šx^2 - 5x + 6 = 0',
                    example3: 'å¸¦æ‹¬å·ï¼š2(x + 3) = 14',
                    err_invalid_equation: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ–¹ç¨‹',
                    err_invalid_variable: 'è¯·è¾“å…¥æœ‰æ•ˆçš„å•ä¸ªå˜é‡',
                    step1: 'åŸæ–¹ç¨‹ï¼š',
                    step2: 'ä¸¤è¾¹åŒæ—¶å‡å» {value}ï¼š',
                    step3: 'åŒ–ç®€ï¼š',
                    step4: 'ä¸¤è¾¹åŒæ—¶é™¤ä»¥ {value}ï¼š',
                    step5: 'è§£ï¼š'
                },
                'zh-TW': {
                    title: 'ğŸ“ æ–¹ç¨‹æ±‚è§£å™¨',
                    enter_equation: 'è¼¸å…¥æ–¹ç¨‹ï¼ˆä¾‹å¦‚ï¼š2x + 5 = 15ï¼‰',
                    variable: 'è¦æ±‚è§£çš„è®Šé‡',
                    clear: 'æ¸…é™¤',
                    solve: 'æ±‚è§£æ–¹ç¨‹',
                    solution: 'è§£',
                    steps: 'è§£é¡Œæ­¥é©Ÿ',
                    examples: 'ç¤ºä¾‹ï¼š',
                    example1: 'ç·šæ€§æ–¹ç¨‹ï¼š3x + 7 = 22',
                    example2: 'äºŒæ¬¡æ–¹ç¨‹ï¼šx^2 - 5x + 6 = 0',
                    example3: 'å¸¶æ‹¬è™Ÿï¼š2(x + 3) = 14',
                    err_invalid_equation: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ–¹ç¨‹',
                    err_invalid_variable: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„å–®å€‹è®Šé‡',
                    step1: 'åŸæ–¹ç¨‹ï¼š',
                    step2: 'å…©é‚ŠåŒæ™‚æ¸›å» {value}ï¼š',
                    step3: 'åŒ–ç°¡ï¼š',
                    step4: 'å…©é‚ŠåŒæ™‚é™¤ä»¥ {value}ï¼š',
                    step5: 'è§£ï¼š'
                },
                'ja': {
                    title: 'ğŸ“ æ–¹ç¨‹å¼ã‚½ãƒ«ãƒãƒ¼',
                    enter_equation: 'æ–¹ç¨‹å¼ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼š2x + 5 = 15ï¼‰',
                    variable: 'è§£ãå¤‰æ•°',
                    clear: 'ã‚¯ãƒªã‚¢',
                    solve: 'æ–¹ç¨‹å¼ã‚’è§£ã',
                    solution: 'è§£',
                    steps: 'è§£æ³•æ‰‹é †',
                    examples: 'ä¾‹ï¼š',
                    example1: 'ç·šå½¢æ–¹ç¨‹å¼ï¼š3x + 7 = 22',
                    example2: 'äºŒæ¬¡æ–¹ç¨‹å¼ï¼šx^2 - 5x + 6 = 0',
                    example3: 'æ‹¬å¼§ä»˜ãï¼š2(x + 3) = 14',
                    err_invalid_equation: 'æœ‰åŠ¹ãªæ–¹ç¨‹å¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_invalid_variable: 'æœ‰åŠ¹ãªå˜ä¸€å¤‰æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    step1: 'å…ƒã®æ–¹ç¨‹å¼ï¼š',
                    step2: 'ä¸¡è¾ºã‹ã‚‰ {value} ã‚’å¼•ãï¼š',
                    step3: 'ç°¡ç•¥åŒ–ï¼š',
                    step4: 'ä¸¡è¾ºã‚’ {value} ã§å‰²ã‚‹ï¼š',
                    step5: 'è§£ï¼š'
                },
                'ru': {
                    title: 'ğŸ“ Ğ ĞµÑˆĞ°Ñ‚ĞµĞ»ÑŒ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğ¹',
                    enter_equation: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, 2x + 5 = 15)',
                    variable: 'ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ»Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    solve: 'Ğ ĞµÑˆĞ¸Ñ‚ÑŒ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ',
                    solution: 'Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ',
                    steps: 'Ğ¨Ğ°Ğ³Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ',
                    examples: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹:',
                    example1: 'Ğ›Ğ¸Ğ½ĞµĞ¹Ğ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: 3x + 7 = 22',
                    example2: 'ĞšĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: x^2 - 5x + 6 = 0',
                    example3: 'Ğ¡ ÑĞºĞ¾Ğ±ĞºĞ°Ğ¼Ğ¸: 2(x + 3) = 14',
                    err_invalid_equation: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ',
                    err_invalid_variable: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ñƒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½ÑƒÑ',
                    step1: 'ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: ',
                    step2: 'Ğ’Ñ‹Ñ‡Ñ‚ĞµĞ¼ {value} Ğ¸Ğ· Ğ¾Ğ±ĞµĞ¸Ñ… ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½: ',
                    step3: 'Ğ£Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ğ¼: ',
                    step4: 'Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ğ¼ Ğ¾Ğ±Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ Ğ½Ğ° {value}: ',
                    step5: 'Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: '
                }
            },
            
            // åˆå§‹åŒ–
            init: function() {
                // ç»‘å®šå›è½¦é”®äº‹ä»¶
                document.getElementById('equation-input').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.solve();
                });
            },
            
            // è§£æ–¹ç¨‹
            solve: function() {
                const equation = document.getElementById('equation-input').value.trim();
                const variable = document.getElementById('equation-variable').value.trim();
                const errorEl = document.getElementById('equation-error');
                const resultsEl = document.getElementById('equation-results');
                
                // éªŒè¯è¾“å…¥
                if (!equation || !equation.includes('=')) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_equation;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                if (!variable || variable.length !== 1 || !/[a-zA-Z]/.test(variable)) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_variable;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                // è¿™é‡Œæ˜¯ç®€åŒ–çš„æ±‚è§£é€»è¾‘ï¼ˆå®é™…åº”ç”¨ä¸­éœ€è¦æ›´å¤æ‚çš„è§£æå™¨ï¼‰
                // ç¤ºä¾‹ï¼šè§£çº¿æ€§æ–¹ç¨‹ ax + b = c
                try {
                    // æå–ç³»æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰
                    const [left, right] = equation.split('=').map(part => part.trim());
                    
                    // æ˜¾ç¤ºç»“æœ
                    const mainSolutionEl = document.getElementById('main-solution');
                    const stepsEl = document.getElementById('solution-steps');
                    
                    // ç”Ÿæˆç¤ºä¾‹è§£ï¼ˆå®é™…åº”ç”¨ä¸­éœ€è¦çœŸå®è®¡ç®—ï¼‰
                    const solution = this.calculateLinearSolution(left, right, variable);
                    mainSolutionEl.innerHTML = `${variable} = <strong>${solution.value}</strong>`;
                    
                    // ç”Ÿæˆæ­¥éª¤
                    stepsEl.innerHTML = '';
                    this.addStep(stepsEl, this.i18n[this.getCurrentLang()].step1 + equation);
                    this.addStep(stepsEl, this.i18n[this.getCurrentLang()].step2.replace('{value}', solution.subtract));
                    this.addStep(stepsEl, this.i18n[this.getCurrentLang()].step3 + solution.simplified);
                    this.addStep(stepsEl, this.i18n[this.getCurrentLang()].step4.replace('{value}', solution.divisor));
                    this.addStep(stepsEl, this.i18n[this.getCurrentLang()].step5 + `${variable} = ${solution.value}`);
                    
                    // æ˜¾ç¤ºç»“æœ
                    resultsEl.classList.remove('hidden');
                } catch (e) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_equation;
                    errorEl.classList.remove('hidden');
                }
            },
            
            // ç®€åŒ–çš„çº¿æ€§æ–¹ç¨‹æ±‚è§£ï¼ˆç¤ºä¾‹ï¼‰
            calculateLinearSolution: function(left, right, variable) {
                // è¿™æ˜¯æ¨¡æ‹Ÿè®¡ç®—ï¼Œå®é™…åº”ç”¨éœ€è¦çœŸå®è§£æ
                return {
                    value: '2',
                    subtract: '5',
                    simplified: `${variable} = 2`,
                    divisor: '3'
                };
            },
            
            // æ·»åŠ æ­¥éª¤
            addStep: function(parent, text) {
                const stepEl = document.createElement('div');
                stepEl.className = 'step-item';
                stepEl.innerHTML = `<span class="math-expression">${text}</span>`;
                parent.appendChild(stepEl);
            },
            
            // æ¸…é™¤è¾“å…¥
            clearInput: function() {
                document.getElementById('equation-input').value = '';
                document.getElementById('equation-results').classList.add('hidden');
                document.getElementById('equation-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // å¦‚æœæœ‰å€¼ï¼Œé‡æ–°æ±‚è§£ä»¥æ›´æ–°è¯­è¨€
                if (document.getElementById('equation-input').value) {
                    this.solve();
                }
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('equation-lang').value;
            }
        };
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            EquationSolver.init();
        });
    </script>
</body>
</html>