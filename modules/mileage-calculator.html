<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mileage Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="mileage_calculator">
    <meta name="category" content="auto">
    <meta name="icon" content="üöó">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Mileage Calculator">
    <meta name="description" content="Calculate distance based on fuel consumption and fuel used.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="ÈáåÁ®ãËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="Ê†πÊçÆÁáÉÊ≤πÊ∂àËÄóÈáèÂíå‰ΩøÁî®ÁöÑÁáÉÊ≤πÈáèËÆ°ÁÆóË°åÈ©∂Ë∑ùÁ¶ª„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="ÈáåÁ®ãË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Ê†πÊìöÁáÉÊ≤πÊ∂àËÄóÈáèÂíå‰ΩøÁî®ÁöÑÁáÉÊ≤πÈáèË®àÁÆóË°åÈßõË∑ùÈõ¢„ÄÇ">
    
    <meta name="lang-title-ja" content="ÁáÉË≤ªË∑ùÈõ¢Ë®àÁÆó„ÉÑ„Éº„É´">
    <meta name="lang-description-ja" content="ÁáÉË≤ª„Å®‰ΩøÁî®ÁáÉÊñô„Å´Âü∫„Å•„ÅÑ„Å¶Ë∑ùÈõ¢„ÇíË®àÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–±–µ–≥–∞">
    <meta name="lang-description-ru" content="–í—ã—á–∏—Å–ª–∏—Ç–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–æ–ø–ª–∏–≤–∞.">
    
    <meta name="lang-title-es" content="Calculadora de Kilometraje">
    <meta name="lang-description-es" content="Calcula la distancia seg√∫n el consumo de combustible y el combustible utilizado.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="mileage_calculator" 
         data-category="transportation" 
         data-title="Mileage Calculator" 
         data-icon="üöó">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="mileage-lang" onchange="MileageCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üöó Mileage Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <!-- Fuel Efficiency -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="efficiency_label">Fuel Efficiency</label>
                <div class="flex">
                    <input type="number" id="fuel-efficiency" class="flex-1 p-2 border rounded-r-none focus:ring-2 focus:ring-blue-500 outline-none" placeholder="30" min="0.01" step="0.01">
                    <div id="efficiency-unit" class="bg-gray-100 px-3 py-2 border border-l-0 rounded-r flex items-center text-gray-600">mpg</div>
                </div>
            </div>
            
            <!-- Fuel Used -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="fuel_used_label">Fuel Used</label>
                <div class="flex">
                    <input type="number" id="fuel-used" class="flex-1 p-2 border rounded-r-none focus:ring-2 focus:ring-blue-500 outline-none" placeholder="10" min="0.01" step="0.01">
                    <div id="fuel-unit" class="bg-gray-100 px-3 py-2 border border-l-0 rounded-r flex items-center text-gray-600">gallons</div>
                </div>
            </div>
            
            <!-- Unit System -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="unit_system">Unit System</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="unit-system" value="imperial" checked class="text-blue-600 focus:ring-blue-500">
                        <span class="ml-2" data-i18n="imperial">Imperial (mpg, miles, gallons)</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="unit-system" value="metric" class="text-blue-600 focus:ring-blue-500">
                        <span class="ml-2" data-i18n="metric">Metric (L/100km, km, liters)</span>
                    </label>
                </div>
            </div>
        </div>

        <button onclick="MileageCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate Distance</button>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100 text-center">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result_label">Calculated Distance</div>
            <div id="distance-result" class="text-3xl font-bold text-blue-800">--</div>
            <div id="calculation-details" class="text-sm text-gray-600 mt-4"></div>
        </div>
    </div>

    <script>
        const MileageCalc = {
            i18n: {
                'en': {
                    title: 'üöó Mileage Calculator',
                    efficiency_label: 'Fuel Efficiency',
                    fuel_used_label: 'Fuel Used',
                    unit_system: 'Unit System',
                    imperial: 'Imperial',
                    metric: 'Metric',
                    btn_calc: 'Calculate Distance',
                    result_label: 'Calculated Distance',
                    err_invalid: 'Please enter valid values',
                    calculation: 'Calculation: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                },
                'zh-CN': {
                    title: 'üöó ÈáåÁ®ãËÆ°ÁÆóÂô®',
                    efficiency_label: 'ÁáÉÊ≤πÊïàÁéá',
                    fuel_used_label: 'ÁáÉÊ≤π‰ΩøÁî®Èáè',
                    unit_system: 'Âçï‰ΩçÂà∂',
                    imperial: 'Ëã±Âà∂',
                    metric: 'ÂÖ¨Âà∂',
                    btn_calc: 'ËÆ°ÁÆóË∑ùÁ¶ª',
                    result_label: 'ËÆ°ÁÆóÂæóÂá∫ÁöÑË∑ùÁ¶ª',
                    err_invalid: 'ËØ∑ËæìÂÖ•ÊúâÊïàÊï∞ÂÄº',
                    calculation: 'ËÆ°ÁÆóËøáÁ®ã: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                },
                'zh-TW': {
                    title: 'üöó ÈáåÁ®ãË®àÁÆóÂô®',
                    efficiency_label: 'ÁáÉÊ≤πÊïàÁéá',
                    fuel_used_label: 'ÁáÉÊ≤π‰ΩøÁî®Èáè',
                    unit_system: 'ÂñÆ‰ΩçÂà∂',
                    imperial: 'Ëã±Âà∂',
                    metric: 'ÂÖ¨Âà∂',
                    btn_calc: 'Ë®àÁÆóË∑ùÈõ¢',
                    result_label: 'Ë®àÁÆóÂæóÂá∫ÁöÑË∑ùÈõ¢',
                    err_invalid: 'Ë´ãËº∏ÂÖ•ÊúâÊïàÊï∏ÂÄº',
                    calculation: 'Ë®àÁÆóÈÅéÁ®ã: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                },
                'ja': {
                    title: 'üöó ÁáÉË≤ªË∑ùÈõ¢Ë®àÁÆó„ÉÑ„Éº„É´',
                    efficiency_label: 'ÁáÉË≤ª',
                    fuel_used_label: '‰ΩøÁî®ÁáÉÊñô',
                    unit_system: 'Âçò‰ΩçÁ≥ª',
                    imperial: '„Ç§„É≥„Éö„É™„Ç¢„É´Âçò‰Ωç',
                    metric: '„É°„Éº„Éà„É´Ê≥ï',
                    btn_calc: 'Ë∑ùÈõ¢„ÇíË®àÁÆó',
                    result_label: 'Ë®àÁÆó„Åï„Çå„ÅüË∑ùÈõ¢',
                    err_invalid: 'ÊúâÂäπ„Å™ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    calculation: 'Ë®àÁÆó: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                },
                'ru': {
                    title: 'üöó –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–±–µ–≥–∞',
                    efficiency_label: '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–æ–ø–ª–∏–≤–∞',
                    fuel_used_label: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ',
                    unit_system: '–°–∏—Å—Ç–µ–º–∞ –µ–¥–∏–Ω–∏—Ü',
                    imperial: '–ò–º–ø–µ—Ä—Å–∫–∞—è',
                    metric: '–ú–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è',
                    btn_calc: '–í—ã—á–∏—Å–ª–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ',
                    result_label: '–í—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ',
                    err_invalid: '–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è',
                    calculation: '–í—ã—á–∏—Å–ª–µ–Ω–∏–µ: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                },
                'es': {
                    title: 'üöó Calculadora de Kilometraje',
                    efficiency_label: 'Eficiencia de combustible',
                    fuel_used_label: 'Combustible utilizado',
                    unit_system: 'Sistema de unidades',
                    imperial: 'Imperial',
                    metric: 'M√©trico',
                    btn_calc: 'Calcular distancia',
                    result_label: 'Distancia calculada',
                    err_invalid: 'Ingrese valores v√°lidos',
                    calculation: 'C√°lculo: %efficiency% %eff_unit% √ó %fuel% %fuel_unit% = %distance% %dist_unit%'
                }
            },

            init: () => {
                // ÁõëÂê¨Âçï‰ΩçÁ≥ªÁªüÂèòÂåñ
                document.querySelectorAll('input[name="unit-system"]').forEach(radio => {
                    radio.addEventListener('change', MileageCalc.updateUnits);
                });
                MileageCalc.updateUnits();
            },

            updateUnits: () => {
                const isImperial = document.querySelector('input[name="unit-system"][value="imperial"]').checked;
                const efficiencyUnit = isImperial ? 'mpg' : 'L/100km';
                const fuelUnit = isImperial ? 'gallons' : 'liters';
                
                document.getElementById('efficiency-unit').textContent = efficiencyUnit;
                document.getElementById('fuel-unit').textContent = fuelUnit;
            },

            changeLang: () => {
                const lang = document.getElementById('mileage-lang').value;
                const texts = MileageCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="mileage_calculator"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                MileageCalc.calc();
            },

            calc: () => {
                const efficiency = parseFloat(document.getElementById('fuel-efficiency').value) || 0;
                const fuelUsed = parseFloat(document.getElementById('fuel-used').value) || 0;
                const isImperial = document.querySelector('input[name="unit-system"][value="imperial"]').checked;
                const lang = document.getElementById('mileage-lang').value;
                const texts = MileageCalc.i18n[lang];

                if (efficiency <= 0 || fuelUsed <= 0) {
                    document.getElementById('distance-result').innerText = texts.err_invalid;
                    document.getElementById('calculation-details').innerText = '';
                    return;
                }

                // ËÆ°ÁÆóË∑ùÁ¶ª
                let distance, effUnit, fuelUnit, distUnit;
                
                if (isImperial) {
                    // Ëã±Âà∂: Ëã±Èáå/Âä†‰ªë (mpg)
                    distance = efficiency * fuelUsed;
                    effUnit = 'mpg';
                    fuelUnit = 'gallons';
                    distUnit = 'miles';
                } else {
                    // ÂÖ¨Âà∂: Âçá/100ÂÖ¨Èáå (L/100km)
                    distance = (fuelUsed / efficiency) * 100;
                    effUnit = 'L/100km';
                    fuelUnit = 'liters';
                    distUnit = 'km';
                }

                // ÊòæÁ§∫ÁªìÊûú
                document.getElementById('distance-result').innerText = `${distance.toFixed(2)} ${distUnit}`;
                
                // ÊòæÁ§∫ËÆ°ÁÆóËøáÁ®ã
                const calculationText = texts.calculation
                    .replace('%efficiency%', efficiency.toFixed(2))
                    .replace('%eff_unit%', effUnit)
                    .replace('%fuel%', fuelUsed.toFixed(2))
                    .replace('%fuel_unit%', fuelUnit)
                    .replace('%distance%', distance.toFixed(2))
                    .replace('%dist_unit%', distUnit);
                
                document.getElementById('calculation-details').innerText = calculationText;
            }
        };

        document.addEventListener('DOMContentLoaded', MileageCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Ëá™Âä®ÂåπÈÖçÊµèËßàÂô®ËØ≠Ë®Ä
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            } else if (userLang.startsWith('es')) {
                targetLang = 'es';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('mileage-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    MileageCalc.changeLang();
                }
            }
        });
    </script>

</body>
</html>