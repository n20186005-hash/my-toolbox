<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonometry Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="trigonometry_calculator">
    <meta name="category" content="math">
    <meta name="icon" content="sin">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="Trigonometry Calculator">
    <meta name="description" content="Calculate sine, cosine, tangent and other trigonometric functions.">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="三角函数计算器">
    <meta name="lang-description-zh-CN" content="计算正弦、余弦、正切和其他三角函数。">
    
    <meta name="lang-title-zh-TW" content="三角函數計算器">
    <meta name="lang-description-zh-TW" content="計算正弦、餘弦、正切和其他三角函數。">
    
    <meta name="lang-title-ja" content="三角関数計算機">
    <meta name="lang-description-ja" content="正弦、余弦、正接などの三角関数を計算します。">
    
    <meta name="lang-title-ru" content="Тригонометрический калькулятор">
    <meta name="lang-description-ru" content="Вычислите синус, косинус, тангенс и другие тригонометрические функции.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result { background-color: #fef3c7; border: 1px solid #f59e0b; color: #92400e; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .info { background-color: #eff8ff; border: 1px solid #3b82f6; color: #1e40af; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="trigonometry_calculator" 
         data-category="math" 
         data-title="Trigonometry Calculator" 
         data-icon="sin">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="trig-lang" onchange="TrigCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">sin Trigonometry Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="function">Trigonometric Function</label>
                <div class="grid grid-cols-3 gap-2">
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="sin" checked class="text-green-600 focus:ring-green-500">
                        <span data-i18n="sin">sin</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="cos" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="cos">cos</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="tan" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="tan">tan</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="csc" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="csc">csc</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="sec" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="sec">sec</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="trig-function" value="cot" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="cot">cot</span>
                    </label>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="angle">Angle Value</label>
                <input type="number" id="angle-value" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 30" value="30">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="unit">Unit</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="angle-unit" value="degrees" checked class="text-green-600 focus:ring-green-500">
                        <span data-i18n="degrees">Degrees</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="angle-unit" value="radians" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="radians">Radians</span>
                    </label>
                </div>
            </div>
        </div>

        <button onclick="TrigCalc.calc()" class="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_calc">Calculate</button>

        <div class="bg-green-50 p-6 rounded-lg border border-green-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div id="trig-result" class="text-2xl font-bold text-green-800">--</div>
            
            <div class="text-sm text-gray-500 mb-2 mt-6" data-i18n="formula">Formula</div>
            <div id="trig-formula" class="text-lg font-medium text-green-700">--</div>
            
            <div class="info text-sm mt-4" data-i18n="info_text">Calculates trigonometric functions for given angles in degrees or radians.</div>
        </div>
    </div>

    <script>
        const TrigCalc = {
            i18n: {
                'en': {
                    title: 'sin Trigonometry Calculator',
                    function: 'Trigonometric Function',
                    sin: 'sin',
                    cos: 'cos',
                    tan: 'tan',
                    csc: 'csc',
                    sec: 'sec',
                    cot: 'cot',
                    angle: 'Angle Value',
                    unit: 'Unit',
                    degrees: 'Degrees',
                    radians: 'Radians',
                    btn_calc: 'Calculate',
                    result: 'Result',
                    formula: 'Formula',
                    info_text: 'Calculates trigonometric functions for given angles in degrees or radians.',
                    err_invalid: 'Please enter a valid angle',
                    err_undefined: 'Function is undefined for this angle'
                },
                'zh-CN': {
                    title: 'sin 三角函数计算器',
                    function: '三角函数',
                    sin: '正弦',
                    cos: '余弦',
                    tan: '正切',
                    csc: '余割',
                    sec: '正割',
                    cot: '余切',
                    angle: '角度值',
                    unit: '单位',
                    degrees: '度',
                    radians: '弧度',
                    btn_calc: '计算',
                    result: '结果',
                    formula: '公式',
                    info_text: '计算给定角度（度或弧度）的三角函数值。',
                    err_invalid: '请输入有效的角度',
                    err_undefined: '此角度的函数值未定义'
                },
                'zh-TW': {
                    title: 'sin 三角函數計算器',
                    function: '三角函數',
                    sin: '正弦',
                    cos: '餘弦',
                    tan: '正切',
                    csc: '餘割',
                    sec: '正割',
                    cot: '餘切',
                    angle: '角度值',
                    unit: '單位',
                    degrees: '度',
                    radians: '弧度',
                    btn_calc: '計算',
                    result: '結果',
                    formula: '公式',
                    info_text: '計算給定角度（度或弧度）的三角函數值。',
                    err_invalid: '請輸入有效的角度',
                    err_undefined: '此角度的函數值未定義'
                },
                'ja': {
                    title: 'sin 三角関数計算機',
                    function: '三角関数',
                    sin: 'sin',
                    cos: 'cos',
                    tan: 'tan',
                    csc: 'csc',
                    sec: 'sec',
                    cot: 'cot',
                    angle: '角度値',
                    unit: '単位',
                    degrees: '度',
                    radians: 'ラジアン',
                    btn_calc: '計算',
                    result: '結果',
                    formula: '公式',
                    info_text: '度またはラジアンで指定された角度の三角関数を計算します。',
                    err_invalid: '有効な角度を入力してください',
                    err_undefined: 'この角度の関数は定義されていません'
                },
                'ru': {
                    title: 'sin Тригонометрический калькулятор',
                    function: 'Тригонометрическая функция',
                    sin: 'син',
                    cos: 'кос',
                    tan: 'тан',
                    csc: 'косек',
                    sec: 'сек',
                    cot: 'котан',
                    angle: 'Значение угла',
                    unit: 'Единица',
                    degrees: 'Градусы',
                    radians: 'Радианы',
                    btn_calc: 'Вычислить',
                    result: 'Результат',
                    formula: 'Формула',
                    info_text: 'Вычисляет тригонометрические функции для заданных углов в градусах или радианах.',
                    err_invalid: 'Пожалуйста, введите действительный угол',
                    err_undefined: 'Функция не определена для этого угла'
                }
            },

            init: function() {
                this.changeLang();
            },

            changeLang: function() {
                const lang = document.getElementById('trig-lang').value;
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang] && this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
            },

            calc: function() {
                const lang = document.getElementById('trig-lang').value;
                const func = document.querySelector('input[name="trig-function"]:checked').value;
                const angle = parseFloat(document.getElementById('angle-value').value);
                const unit = document.querySelector('input[name="angle-unit"]:checked').value;
                
                // 验证角度
                if (isNaN(angle)) {
                    alert(this.i18n[lang].err_invalid);
                    return;
                }
                
                // 转换为弧度（如果需要）
                const angleInRadians = unit === 'degrees' ? angle * (Math.PI / 180) : angle;
                
                let result, formula;
                
                try {
                    switch(func) {
                        case 'sin':
                            result = Math.sin(angleInRadians);
                            formula = `sin(${angle}${unit === 'degrees' ? '°' : 'rad'})`;
                            break;
                        case 'cos':
                            result = Math.cos(angleInRadians);
                            formula = `cos(${angle}${unit === 'degrees' ? '°' : 'rad'})`;
                            break;
                        case 'tan':
                            // 检查正切未定义的角度
                            if (unit === 'degrees' && (angle % 180 === 90)) {
                                throw new Error('undefined');
                            }
                            result = Math.tan(angleInRadians);
                            formula = `tan(${angle}${unit === 'degrees' ? '°' : 'rad'})`;
                            break;
                        case 'csc':
                            const sinVal = Math.sin(angleInRadians);
                            if (sinVal === 0) throw new Error('undefined');
                            result = 1 / sinVal;
                            formula = `csc(${angle}${unit === 'degrees' ? '°' : 'rad'}) = 1/sin(...)`;
                            break;
                        case 'sec':
                            const cosVal = Math.cos(angleInRadians);
                            if (cosVal === 0) throw new Error('undefined');
                            result = 1 / cosVal;
                            formula = `sec(${angle}${unit === 'degrees' ? '°' : 'rad'}) = 1/cos(...)`;
                            break;
                        case 'cot':
                            const tanVal = Math.tan(angleInRadians);
                            if (tanVal === 0) throw new Error('undefined');
                            result = 1 / tanVal;
                            formula = `cot(${angle}${unit === 'degrees' ? '°' : 'rad'}) = 1/tan(...)`;
                            break;
                    }
                    
                    // 显示结果
                    document.getElementById('trig-result').textContent = result.toFixed(6);
                    document.getElementById('trig-formula').textContent = `${formula} = ${result.toFixed(6)}`;
                } catch (e) {
                    if (e.message === 'undefined') {
                        alert(this.i18n[lang].err_undefined);
                        document.getElementById('trig-result').textContent = this.i18n[lang].err_undefined;
                        document.getElementById('trig-formula').textContent = '--';
                    }
                }
            }
        };

        // 初始化计算器
        document.addEventListener('DOMContentLoaded', () => {
            TrigCalc.init();
        });
    </script>
</body>
</html>