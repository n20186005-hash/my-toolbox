<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marriage Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="marriage_calculator">
    <meta name="category" content="life">
    <meta name="icon" content="ğŸ’">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Marriage Calculator">
    <meta name="description" content="Estimate your marriage compatibility based on personal information.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="å©šå§»è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="æ ¹æ®ä¸ªäººä¿¡æ¯ä¼°ç®—å©šå§» compatibilityã€‚">
    
    <meta name="lang-title-zh-TW" content="å©šå§»è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="æ ¹æ“šå€‹äººä¿¡æ¯ä¼°ç®—å©šå§»ç›¸å®¹æ€§ã€‚">
    
    <meta name="lang-title-ja" content="çµå©šè¨ˆç®—æ©Ÿ">
    <meta name="lang-description-ja" content="å€‹äººæƒ…å ±ã«åŸºã¥ã„ã¦çµå©šã®ç›¸æ€§ã‚’æ¨å®šã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ±Ñ€Ğ°ĞºĞ°">
    <meta name="lang-description-ru" content="ĞÑ†ĞµĞ½Ğ¸Ñ‚Ğµ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ±Ñ€Ğ°ĞºĞ° Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸.">
    
    <meta name="lang-title-es" content="Calculadora de matrimonio">
    <meta name="lang-description-es" content="Estime su compatibilidad matrimonial segÃºn la informaciÃ³n personal.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .compatibility-bar { height: 10px; background: #e5e7eb; border-radius: 5px; overflow: hidden; margin: 10px 0; }
        .compatibility-fill { height: 100%; background: linear-gradient(90deg, #10b981 0%, #34d399 100%); transition: width 1s ease-in-out; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/life/marriage-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="marriage_calculator" 
         data-category="relationship" 
         data-title="Marriage Calculator" 
         data-icon="ğŸ’">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="marriage-lang" onchange="MarriageCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                <option value="es">EspaÃ±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ’ Marriage Calculator</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="partner1_age_label">Partner 1 Age</label>
                <input type="number" id="partner1_age" class="w-full p-2 border rounded focus:ring-2 focus:ring-pink-500 outline-none" placeholder="e.g. 30" min="18" max="100" value="30">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="partner2_age_label">Partner 2 Age</label>
                <input type="number" id="partner2_age" class="w-full p-2 border rounded focus:ring-2 focus:ring-pink-500 outline-none" placeholder="e.g. 28" min="18" max="100" value="28">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="relationship_length_label">Relationship Length (months)</label>
                <input type="number" id="relationship_length" class="w-full p-2 border rounded focus:ring-2 focus:ring-pink-500 outline-none" placeholder="e.g. 24" min="1" max="120" value="24">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="common_interests_label">Common Interests (0-10)</label>
                <input type="number" id="common_interests" class="w-full p-2 border rounded focus:ring-2 focus:ring-pink-500 outline-none" placeholder="e.g. 7" min="0" max="10" value="7">
            </div>
            <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="communication_label">Communication Quality (0-10)</label>
                <input type="number" id="communication" class="w-full p-2 border rounded focus:ring-2 focus:ring-pink-500 outline-none" placeholder="e.g. 8" min="0" max="10" value="8">
            </div>
        </div>

        <button onclick="MarriageCalc.calc()" class="w-full bg-pink-600 text-white py-2 rounded font-bold hover:bg-pink-700 transition mb-6" data-i18n="btn_calc">Calculate Compatibility</button>

        <div class="bg-pink-50 p-6 rounded-lg border border-pink-100 text-center">
            <div class="text-sm text-gray-500 mb-2" data-i18n="res_label">Marriage Compatibility Score</div>
            <div id="marriage-result" class="text-3xl font-bold text-pink-800">--</div>
            
            <div class="compatibility-bar">
                <div id="compatibility-fill" class="compatibility-fill" style="width: 0%"></div>
            </div>
            
            <div id="marriage-comment" class="mt-4 p-3 bg-white rounded border border-gray-100 text-left"></div>
            
            <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: This is for entertainment only. Real relationships are complex and unique.</div>
        </div>
    </div>

    <script>
        const MarriageCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ’ Marriage Calculator',
                    partner1_age_label: 'Partner 1 Age',
                    partner2_age_label: 'Partner 2 Age',
                    relationship_length_label: 'Relationship Length (months)',
                    common_interests_label: 'Common Interests (0-10)',
                    communication_label: 'Communication Quality (0-10)',
                    btn_calc: 'Calculate Compatibility',
                    res_label: 'Marriage Compatibility Score',
                    err_invalid: 'Please enter valid numbers',
                    disclaimer: 'Disclaimer: This is for entertainment only. Real relationships are complex and unique.',
                    comments: {
                        30: 'Low compatibility. Significant work would be needed for a successful marriage.',
                        50: 'Moderate compatibility. There are potential challenges to address.',
                        70: 'Good compatibility. Strong foundation for a successful marriage.',
                        90: 'Excellent compatibility. Very strong potential for a lasting marriage.'
                    }
                },
                'zh-CN': {
                    title: 'ğŸ’ å©šå§»è®¡ç®—å™¨',
                    partner1_age_label: 'ä¼´ä¾£1å¹´é¾„',
                    partner2_age_label: 'ä¼´ä¾£2å¹´é¾„',
                    relationship_length_label: 'æ‹çˆ±æ—¶é•¿ï¼ˆæœˆï¼‰',
                    common_interests_label: 'å…±åŒå…´è¶£ï¼ˆ0-10ï¼‰',
                    communication_label: 'æ²Ÿé€šè´¨é‡ï¼ˆ0-10ï¼‰',
                    btn_calc: 'è®¡ç®—ç›¸å®¹æ€§',
                    res_label: 'å©šå§»ç›¸å®¹æ€§å¾—åˆ†',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—',
                    disclaimer: 'å…è´£å£°æ˜ï¼šä»…ä¾›å¨±ä¹ã€‚çœŸå®çš„å…³ç³»æ˜¯å¤æ‚ä¸”ç‹¬ç‰¹çš„ã€‚',
                    comments: {
                        30: 'ç›¸å®¹æ€§ä½ã€‚æˆåŠŸçš„å©šå§»éœ€è¦å¤§é‡åŠªåŠ›ã€‚',
                        50: 'ç›¸å®¹æ€§ä¸­ç­‰ã€‚æœ‰ä¸€äº›æ½œåœ¨æŒ‘æˆ˜éœ€è¦è§£å†³ã€‚',
                        70: 'ç›¸å®¹æ€§è‰¯å¥½ã€‚æœ‰åšå®çš„åŸºç¡€å»ºç«‹æˆåŠŸçš„å©šå§»ã€‚',
                        90: 'ç›¸å®¹æ€§æä½³ã€‚éå¸¸æœ‰å¯èƒ½å»ºç«‹æŒä¹…çš„å©šå§»ã€‚'
                    }
                },
                'zh-TW': {
                    title: 'ğŸ’ å©šå§»è¨ˆç®—å™¨',
                    partner1_age_label: 'ä¼´ä¾¶1å¹´é½¡',
                    partner2_age_label: 'ä¼´ä¾¶2å¹´é½¡',
                    relationship_length_label: 'æˆ€æ„›æ™‚é•·ï¼ˆæœˆï¼‰',
                    common_interests_label: 'å…±åŒèˆˆè¶£ï¼ˆ0-10ï¼‰',
                    communication_label: 'æºé€šå“è³ªï¼ˆ0-10ï¼‰',
                    btn_calc: 'è¨ˆç®—ç›¸å®¹æ€§',
                    res_label: 'å©šå§»ç›¸å®¹æ€§å¾—åˆ†',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—',
                    disclaimer: 'å…è²¬è²æ˜ï¼šåƒ…ä¾›å¨›æ¨‚ã€‚çœŸå¯¦çš„é—œä¿‚æ˜¯è¤‡é›œä¸”ç¨ç‰¹çš„ã€‚',
                    comments: {
                        30: 'ç›¸å®¹æ€§ä½ã€‚æˆåŠŸçš„å©šå§»éœ€è¦å¤§é‡åŠªåŠ›ã€‚',
                        50: 'ç›¸å®¹æ€§ä¸­ç­‰ã€‚æœ‰ä¸€äº›æ½›åœ¨æŒ‘æˆ°éœ€è¦è§£æ±ºã€‚',
                        70: 'ç›¸å®¹æ€§è‰¯å¥½ã€‚æœ‰å …å¯¦çš„åŸºç¤å»ºç«‹æˆåŠŸçš„å©šå§»ã€‚',
                        90: 'ç›¸å®¹æ€§æ¥µä½³ã€‚éå¸¸æœ‰å¯èƒ½å»ºç«‹æŒä¹…çš„å©šå§»ã€‚'
                    }
                },
                'ja': {
                    title: 'ğŸ’ çµå©šè¨ˆç®—æ©Ÿ',
                    partner1_age_label: 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼1ã®å¹´é½¢',
                    partner2_age_label: 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼2ã®å¹´é½¢',
                    relationship_length_label: 'æ‹æ„›æœŸé–“ï¼ˆæœˆï¼‰',
                    common_interests_label: 'å…±é€šã®èˆˆå‘³ï¼ˆ0-10ï¼‰',
                    communication_label: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è³ªï¼ˆ0-10ï¼‰',
                    btn_calc: 'ç›¸æ€§ã‚’è¨ˆç®—',
                    res_label: 'çµå©šç›¸æ€§ã‚¹ã‚³ã‚¢',
                    err_invalid: 'æœ‰åŠ¹ãªæ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    disclaimer: 'å…è²¬äº‹é …ï¼šå¨¯æ¥½ç›®çš„ã®ã¿ã§ã™ã€‚å®Ÿéš›ã®äººé–“é–¢ä¿‚ã¯è¤‡é›‘ã§ç‹¬ç‰¹ã§ã™ã€‚',
                    comments: {
                        30: 'ç›¸æ€§ãŒä½ã„ã§ã™ã€‚æˆåŠŸã—ãŸçµå©šã«ã¯å¤šãã®åŠªåŠ›ãŒå¿…è¦ã§ã™ã€‚',
                        50: 'ç›¸æ€§ãŒæ™®é€šã§ã™ã€‚è§£æ±ºã™ã¹ãæ½œåœ¨çš„ãªèª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚',
                        70: 'ç›¸æ€§ãŒè‰¯å¥½ã§ã™ã€‚æˆåŠŸã—ãŸçµå©šã®ãŸã‚ã®å¼·å›ºãªåŸºç›¤ãŒã‚ã‚Šã¾ã™ã€‚',
                        90: 'ç›¸æ€§ãŒéå¸¸ã«è‰¯å¥½ã§ã™ã€‚é•·ç¶šãã™ã‚‹çµå©šã®å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã§ã™ã€‚'
                    }
                },
                'ru': {
                    title: 'ğŸ’ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ±Ñ€Ğ°ĞºĞ°',
                    partner1_age_label: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ° 1',
                    partner2_age_label: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ° 2',
                    relationship_length_label: 'ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¹ (Ğ¼ĞµÑÑÑ†Ñ‹)',
                    common_interests_label: 'ĞĞ±Ñ‰Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑÑ‹ (0-10)',
                    communication_label: 'ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (0-10)',
                    btn_calc: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ',
                    res_label: 'ĞÑ†ĞµĞ½ĞºĞ° ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ±Ñ€Ğ°ĞºĞµ',
                    err_invalid: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°',
                    disclaimer: 'ĞÑ‚ĞºĞ°Ğ· Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸: Ğ­Ñ‚Ğ¾ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ. Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹ Ğ¸ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹.',
                    comments: {
                        30: 'ĞĞ¸Ğ·ĞºĞ°Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ. Ğ”Ğ»Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ Ğ±Ñ€Ğ°ĞºĞ° Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ‚Ñ€ÑƒĞ´.',
                        50: 'Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ. Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‚ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ñ€ĞµÑˆĞ¸Ñ‚ÑŒ.',
                        70: 'Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ°Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ. ĞŸÑ€Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¾ÑĞ½Ğ¾Ğ²Ğ° Ğ´Ğ»Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ³Ğ¾ Ğ±Ñ€Ğ°ĞºĞ°.',
                        90: 'ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ°Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ. ĞÑ‡ĞµĞ½ÑŒ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ´Ğ»Ñ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ñ€Ğ°ĞºĞ°.'
                    }
                },
                'es': {
                    title: 'ğŸ’ Calculadora de matrimonio',
                    partner1_age_label: 'Edad de la pareja 1',
                    partner2_age_label: 'Edad de la pareja 2',
                    relationship_length_label: 'DuraciÃ³n de la relaciÃ³n (meses)',
                    common_interests_label: 'Intereses comunes (0-10)',
                    communication_label: 'Calidad de la comunicaciÃ³n (0-10)',
                    btn_calc: 'Calcular compatibilidad',
                    res_label: 'PuntuaciÃ³n de compatibilidad matrimonial',
                    err_invalid: 'Por favor, ingrese nÃºmeros vÃ¡lidos',
                    disclaimer: 'Descargo de responsabilidad: Esto es solo para entretenimiento. Las relaciones reales son complejas y Ãºnicas.',
                    comments: {
                        30: 'Baja compatibilidad. Se necesitarÃ­a un trabajo significativo para un matrimonio exitoso.',
                        50: 'Compatibilidad moderada. Hay desafÃ­os potenciales que abordar.',
                        70: 'Buena compatibilidad. Base sÃ³lida para un matrimonio exitoso.',
                        90: 'Excelente compatibilidad. Potencial muy fuerte para un matrimonio duradero.'
                    }
                }
            },

            init: () => {},

            changeLang: () => {
                const lang = document.getElementById('marriage-lang').value;
                const texts = MarriageCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="marriage_calculator"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                MarriageCalc.calc();
            },

            getComment: (score, texts) => {
                if (score >= 90) return texts.comments[90];
                if (score >= 70) return texts.comments[70];
                if (score >= 50) return texts.comments[50];
                return texts.comments[30];
            },

            calc: () => {
                const age1 = parseInt(document.getElementById('partner1_age').value) || 0;
                const age2 = parseInt(document.getElementById('partner2_age').value) || 0;
                const length = parseInt(document.getElementById('relationship_length').value) || 0;
                const interests = parseInt(document.getElementById('common_interests').value) || 0;
                const communication = parseInt(document.getElementById('communication').value) || 0;
                const lang = document.getElementById('marriage-lang').value;
                const texts = MarriageCalc.i18n[lang];

                const resultEl = document.getElementById('marriage-result');
                const barEl = document.getElementById('compatibility-fill');
                const commentEl = document.getElementById('marriage-comment');

                // éªŒè¯è¾“å…¥
                if (isNaN(age1) || isNaN(age2) || isNaN(length) || 
                    isNaN(interests) || isNaN(communication) || 
                    age1 < 18 || age2 < 18 || length < 1 ||
                    interests < 0 || interests > 10 || 
                    communication < 0 || communication > 10) {
                    resultEl.innerText = texts.err_invalid;
                    resultEl.className = "text-xl font-bold text-red-600";
                    barEl.style.width = "0%";
                    commentEl.innerText = "";
                    return;
                }

                // è®¡ç®—ç›¸å®¹æ€§å¾—åˆ†
                const ageDiff = Math.abs(age1 - age2);
                const ageScore = Math.max(0, 20 - (ageDiff * 2)); // å¹´é¾„å·®å¼‚å¾—åˆ†
                
                const lengthScore = Math.min(20, length / 6 * 10); // æ‹çˆ±æ—¶é•¿å¾—åˆ†
                
                const interestScore = interests * 3; // å…±åŒå…´è¶£å¾—åˆ†
                
                const communicationScore = communication * 3; // æ²Ÿé€šè´¨é‡å¾—åˆ†
                
                let totalScore = Math.round(ageScore + lengthScore + interestScore + communicationScore);
                totalScore = Math.max(0, Math.min(100, totalScore)); // ç¡®ä¿åœ¨0-100ä¹‹é—´

                // æ˜¾ç¤ºç»“æœ
                resultEl.className = "text-3xl font-bold text-pink-800";
                resultEl.innerText = totalScore + '%';
                barEl.style.width = totalScore + '%';
                commentEl.innerText = MarriageCalc.getComment(totalScore, texts);
            }
        };

        document.addEventListener('DOMContentLoaded', MarriageCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            } else if (userLang.startsWith('es')) {
                targetLang = 'es';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('marriage-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    MarriageCalc.changeLang();
                }
            }
        });
    </script>


    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>

</html>
