<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Volume Converter Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="vol_conv" 
         data-category="tools" 
         data-title="Volume Converter" 
         data-icon="ü•õ">
        
        <div class="absolute top-4 right-4">
            <select id="vc-lang" onchange="VolConv.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ü•õ Volume Converter</h2>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <!-- Input Side -->
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_from">From</label>
                <input type="number" id="vc-val-from" class="w-full p-2 border rounded mb-2 focus:ring-1 focus:ring-green-500" value="1" oninput="VolConv.convert('from')">
                <select id="vc-unit-from" class="w-full p-2 border rounded bg-white text-sm" onchange="VolConv.convert('from')">
                    <!-- Options populated by JS -->
                </select>
            </div>

            <!-- Output Side -->
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_to">To</label>
                <input type="number" id="vc-val-to" class="w-full p-2 border rounded mb-2 focus:ring-1 focus:ring-green-500 bg-gray-50" oninput="VolConv.convert('to')">
                <select id="vc-unit-to" class="w-full p-2 border rounded bg-white text-sm" onchange="VolConv.convert('from')">
                    <!-- Options populated by JS -->
                </select>
            </div>
        </div>
        
        <div class="text-xs text-gray-400 text-center" data-i18n="note">Supports Metric, US Liquid, and Imperial units.</div>
    </div>

    <script>
        const VolConv = {
            i18n: {
                'en': {
                    title: 'ü•õ Volume Converter',
                    lbl_from: 'From', lbl_to: 'To',
                    note: 'Supports Metric, US Liquid, and Imperial units.',
                    u_l: 'Liter (L)', u_ml: 'Milliliter (ml)', u_m3: 'Cubic Meter (m¬≥)',
                    u_gal: 'US Gallon', u_qt: 'US Quart', u_pt: 'US Pint', u_cup: 'US Cup',
                    u_floz: 'US Fluid Ounce', u_tbsp: 'US Tablespoon', u_tsp: 'US Teaspoon',
                    u_igal: 'Imperial Gallon', u_ifloz: 'Imperial Fl Oz'
                },
                'zh-CN': {
                    title: 'ü•õ ‰ΩìÁßØÂÆπÁßØÊç¢ÁÆó',
                    lbl_from: '‰ªé', lbl_to: 'Âà∞',
                    note: 'ÊîØÊåÅÂÖ¨Âà∂„ÄÅÁæéÂà∂ÂíåËã±Âà∂Âçï‰Ωç„ÄÇ',
                    u_l: 'Âçá (L)', u_ml: 'ÊØ´Âçá (ml)', u_m3: 'Á´ãÊñπÁ±≥ (m¬≥)',
                    u_gal: 'ÁæéÂà∂Âä†‰ªë (gal)', u_qt: 'ÁæéÂà∂Â§∏ËÑ± (qt)', u_pt: 'ÁæéÂà∂ÂìÅËÑ± (pt)', u_cup: 'ÁæéÂà∂ÊùØ (cup)',
                    u_floz: 'ÁæéÂà∂Ê∂≤ÁõéÂè∏ (fl oz)', u_tbsp: 'ÁæéÂà∂Ê±§Âã∫ (tbsp)', u_tsp: 'ÁæéÂà∂Ëå∂Âã∫ (tsp)',
                    u_igal: 'Ëã±Âà∂Âä†‰ªë', u_ifloz: 'Ëã±Âà∂Ê∂≤ÁõéÂè∏'
                },
                'zh-TW': {
                    title: 'ü•õ È´îÁ©çÂÆπÁ©çÊèõÁÆó',
                    lbl_from: 'Âæû', lbl_to: 'Âà∞',
                    note: 'ÊîØÊåÅÂÖ¨Âà∂„ÄÅÁæéÂà∂ÂíåËã±Âà∂ÂñÆ‰Ωç„ÄÇ',
                    u_l: 'ÂÖ¨Âçá (L)', u_ml: 'ÊØ´Âçá (ml)', u_m3: 'Á´ãÊñπÂÖ¨Â∞∫ (m¬≥)',
                    u_gal: 'ÁæéÂà∂Âä†‰æñ', u_qt: 'ÁæéÂà∂Â§∏ËÑ´', u_pt: 'ÁæéÂà∂ÂìÅËÑ´', u_cup: 'ÁæéÂà∂ÊùØ',
                    u_floz: 'ÁæéÂà∂Ê∂≤ÁõéÂè∏', u_tbsp: 'ÁæéÂà∂ÊπØÂåô', u_tsp: 'ÁæéÂà∂Ëå∂Âåô',
                    u_igal: 'Ëã±Âà∂Âä†‰æñ', u_ifloz: 'Ëã±Âà∂Ê∂≤ÁõéÂè∏'
                },
                'ja': {
                    title: 'ü•õ ‰ΩìÁ©ç„ÉªÂÆπÈáèÊèõÁÆó',
                    lbl_from: 'Â§âÊèõÂÖÉ', lbl_to: 'Â§âÊèõÂÖà',
                    note: '„É°„Éº„Éà„É´Ê≥ï„ÄÅÁ±≥ÂõΩÊ∂≤Èáè„ÄÅËã±Â∏ùÂõΩÂçò‰Ωç„Å´ÂØæÂøú„ÄÇ',
                    u_l: '„É™„ÉÉ„Éà„É´ (L)', u_ml: '„Éü„É™„É™„ÉÉ„Éà„É´ (ml)', u_m3: 'Á´ãÊñπ„É°„Éº„Éà„É´ (m¬≥)',
                    u_gal: 'Á±≥ÂõΩ„Ç¨„É≠„É≥', u_qt: 'Á±≥ÂõΩ„ÇØ„Ç©„Éº„Éà', u_pt: 'Á±≥ÂõΩ„Éë„Ç§„É≥„Éà', u_cup: 'Á±≥ÂõΩ„Ç´„ÉÉ„Éó',
                    u_floz: 'Á±≥ÂõΩÊ∂≤Èáè„Ç™„É≥„Çπ', u_tbsp: 'Á±≥ÂõΩÂ§ß„Åï„Åò', u_tsp: 'Á±≥ÂõΩÂ∞è„Åï„Åò',
                    u_igal: 'Ëã±„Ç¨„É≠„É≥', u_ifloz: 'Ëã±Ê∂≤Èáè„Ç™„É≥„Çπ'
                },
                'ru': {
                    title: 'ü•õ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –æ–±—ä–µ–º–∞',
                    lbl_from: '–ò–∑', lbl_to: '–í',
                    note: '–ú–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ, –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –∏ –∏–º–ø–µ—Ä—Å–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã.',
                    u_l: '–õ–∏—Ç—Ä (L)', u_ml: '–ú–∏–ª–ª–∏–ª–∏—Ç—Ä (ml)', u_m3: '–ö—É–±–æ–º–µ—Ç—Ä (m¬≥)',
                    u_gal: '–ì–∞–ª–ª–æ–Ω (US)', u_qt: '–ö–≤–∞—Ä—Ç–∞ (US)', u_pt: '–ü–∏–Ω—Ç–∞ (US)', u_cup: '–ß–∞—à–∫–∞ (US)',
                    u_floz: '–ñ–∏–¥–∫–∞—è —É–Ω—Ü–∏—è (US)', u_tbsp: '–°—Ç–æ–ª. –ª–æ–∂–∫–∞', u_tsp: '–ß–∞–π–Ω–∞—è –ª–æ–∂–∫–∞',
                    u_igal: '–ì–∞–ª–ª–æ–Ω (UK)', u_ifloz: '–ñ–∏–¥. —É–Ω—Ü–∏—è (UK)'
                },
                'es': {
                    title: 'ü•õ Conversor de Volumen',
                    lbl_from: 'De', lbl_to: 'A',
                    note: 'Soporta unidades M√©tricas, Imperiales y de EE.UU.',
                    u_l: 'Litro (L)', u_ml: 'Mililitro (ml)', u_m3: 'Metro C√∫bico (m¬≥)',
                    u_gal: 'Gal√≥n (EE.UU.)', u_qt: 'Cuarto (EE.UU.)', u_pt: 'Pinta (EE.UU.)', u_cup: 'Taza (EE.UU.)',
                    u_floz: 'Onza L√≠quida (EE.UU.)', u_tbsp: 'Cucharada', u_tsp: 'Cucharadita',
                    u_igal: 'Gal√≥n (Imp)', u_ifloz: 'Onza L√≠q. (Imp)'
                }
            },

            // Factor relative to 1 Liter
            units: [
                { k: 'l', f: 1, i: 'u_l' },
                { k: 'ml', f: 0.001, i: 'u_ml' },
                { k: 'm3', f: 1000, i: 'u_m3' },
                { k: 'gal', f: 3.78541, i: 'u_gal' }, // US Liquid Gallon
                { k: 'qt', f: 0.946353, i: 'u_qt' },
                { k: 'pt', f: 0.473176, i: 'u_pt' },
                { k: 'cup', f: 0.236588, i: 'u_cup' },
                { k: 'floz', f: 0.0295735, i: 'u_floz' },
                { k: 'tbsp', f: 0.0147868, i: 'u_tbsp' },
                { k: 'tsp', f: 0.00492892, i: 'u_tsp' },
                { k: 'igal', f: 4.54609, i: 'u_igal' }, // Imperial Gallon
                { k: 'ifloz', f: 0.0284131, i: 'u_ifloz' }
            ],

            init: () => {
                VolConv.populate('vc-unit-from');
                VolConv.populate('vc-unit-to');
                document.getElementById('vc-unit-from').value = 'l';
                document.getElementById('vc-unit-to').value = 'cup';
            },

            populate: (id) => {
                const sel = document.getElementById(id);
                const current = sel.value;
                const lang = document.getElementById('vc-lang').value;
                const txt = VolConv.i18n[lang];
                
                sel.innerHTML = '';
                VolConv.units.forEach(u => {
                    const opt = document.createElement('option');
                    opt.value = u.k;
                    opt.text = txt[u.i];
                    sel.appendChild(opt);
                });
                if(current) sel.value = current;
            },

            changeLang: () => {
                const lang = document.getElementById('vc-lang').value;
                const texts = VolConv.i18n[lang];
                
                // Static text
                document.querySelector('[data-i18n="title"]').innerText = texts.title;
                document.querySelector('[data-i18n="lbl_from"]').innerText = texts.lbl_from;
                document.querySelector('[data-i18n="lbl_to"]').innerText = texts.lbl_to;
                document.querySelector('[data-i18n="note"]').innerText = texts.note;

                // Update Selects
                VolConv.populate('vc-unit-from');
                VolConv.populate('vc-unit-to');
            },

            convert: (dir) => {
                const fromUnit = document.getElementById('vc-unit-from').value;
                const toUnit = document.getElementById('vc-unit-to').value;
                const u1 = VolConv.units.find(u => u.k === fromUnit).f;
                const u2 = VolConv.units.find(u => u.k === toUnit).f;

                let val;
                if (dir === 'from') {
                    val = parseFloat(document.getElementById('vc-val-from').value);
                    if (isNaN(val)) { document.getElementById('vc-val-to').value = ''; return; }
                    
                    // Convert to Liters then to Target
                    const res = (val * u1) / u2;
                    document.getElementById('vc-val-to').value = parseFloat(res.toPrecision(6));
                } else {
                    val = parseFloat(document.getElementById('vc-val-to').value);
                    if (isNaN(val)) { document.getElementById('vc-val-from').value = ''; return; }
                    
                    const res = (val * u2) / u1;
                    document.getElementById('vc-val-from').value = parseFloat(res.toPrecision(6));
                }
            }
        };
        
        VolConv.init();
    </script>
</body>
</html>