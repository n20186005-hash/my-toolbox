<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anorexic BMI Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #fdf2f2; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="anorexic_calc" 
         data-category="health" 
         data-title="Anorexic BMI Calculator" 
         data-icon="ğŸ¦´">
        
        <div class="absolute top-4 right-4">
            <select id="ac-lang" onchange="AnorexicCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">ç°¡é«”ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                <option value="es">EspaÃ±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ¦´ Anorexic BMI Calculator</h2>
        
        <p class="text-xs text-gray-500 mb-4" data-i18n="desc">Assess the severity of underweight based on BMI (WHO Standards).</p>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_age">Age</label>
                <input type="number" id="ac-age" class="w-full p-2 border rounded focus:ring-1 focus:ring-red-500 outline-none" placeholder="25" value="25">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_gender">Gender</label>
                <select id="ac-gender" class="w-full p-2 border rounded bg-white text-sm">
                    <option value="f" data-i18n="g_female">Female</option>
                    <option value="m" data-i18n="g_male">Male</option>
                </select>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_height">Height (cm)</label>
                <input type="number" id="ac-height" class="w-full p-2 border rounded focus:ring-1 focus:ring-red-500 outline-none" placeholder="165">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_weight">Weight (kg)</label>
                <input type="number" id="ac-weight" class="w-full p-2 border rounded focus:ring-1 focus:ring-red-500 outline-none" placeholder="45">
            </div>
        </div>

        <button onclick="AnorexicCalc.calc()" class="w-full bg-red-500 text-white py-2 rounded font-bold hover:bg-red-600 transition mb-6" data-i18n="btn_calc">Calculate BMI</button>

        <div class="bg-red-50 p-4 rounded-lg border border-red-100 text-center">
            <div class="mb-2">
                <span class="text-gray-500 text-xs uppercase tracking-wide" data-i18n="res_bmi">BMI Score</span>
                <div id="ac-score" class="text-3xl font-bold text-red-800">--</div>
            </div>
            <div class="border-t border-red-200 pt-2">
                <span class="text-gray-500 text-xs uppercase tracking-wide" data-i18n="res_status">Status</span>
                <div id="ac-status" class="text-lg font-bold text-red-600 mt-1">--</div>
            </div>
        </div>
        
        <div class="mt-4 text-xs text-gray-400" data-i18n="note">
            Note: This calculator uses WHO BMI classifications for thinness. It is not a medical diagnosis.
        </div>
    </div>

    <script>
        const AnorexicCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ¦´ Anorexic BMI Calculator',
                    desc: 'Assess the severity of underweight based on BMI (WHO Standards).',
                    lbl_age: 'Age', lbl_gender: 'Gender',
                    g_female: 'Female', g_male: 'Male',
                    lbl_height: 'Height (cm)', lbl_weight: 'Weight (kg)',
                    btn_calc: 'Calculate BMI',
                    res_bmi: 'BMI Score', res_status: 'Status',
                    st_sev: 'Severe Thinness (< 16)',
                    st_mod: 'Moderate Thinness (16 - 17)',
                    st_mild: 'Mild Thinness (17 - 18.5)',
                    st_norm: 'Normal Weight (18.5 - 25)',
                    st_over: 'Overweight (> 25)',
                    note: 'Note: This calculator uses WHO BMI classifications for thinness. It is not a medical diagnosis.'
                },
                'zh-CN': {
                    title: 'ğŸ¦´ ä½ä½“é‡/åŒé£Ÿç—‡ BMI è®¡ç®—',
                    desc: 'åŸºäº WHO æ ‡å‡†è¯„ä¼°ä½“é‡è¿‡è½»çš„ä¸¥é‡ç¨‹åº¦ã€‚',
                    lbl_age: 'å¹´é¾„', lbl_gender: 'æ€§åˆ«',
                    g_female: 'å¥³æ€§', g_male: 'ç”·æ€§',
                    lbl_height: 'èº«é«˜ (cm)', lbl_weight: 'ä½“é‡ (kg)',
                    btn_calc: 'è®¡ç®— BMI',
                    res_bmi: 'BMI æŒ‡æ•°', res_status: 'çŠ¶æ€è¯„ä¼°',
                    st_sev: 'é‡åº¦æ¶ˆç˜¦ (< 16)',
                    st_mod: 'ä¸­åº¦æ¶ˆç˜¦ (16 - 17)',
                    st_mild: 'è½»åº¦æ¶ˆç˜¦ (17 - 18.5)',
                    st_norm: 'æ­£å¸¸ä½“é‡ (18.5 - 25)',
                    st_over: 'è¶…é‡ (> 25)',
                    note: 'æ³¨æ„ï¼šæ­¤å·¥å…·ä»…åŸºäº BMI è¯„ä¼°æ¶ˆç˜¦ç¨‹åº¦ï¼Œä¸ä½œä¸ºåŒé£Ÿç—‡çš„åŒ»å­¦è¯Šæ–­ã€‚'
                },
                'zh-TW': {
                    title: 'ğŸ¦´ ä½é«”é‡/å­é£Ÿç—‡ BMI è¨ˆç®—',
                    desc: 'åŸºæ–¼ WHO æ¨™æº–è©•ä¼°é«”é‡éè¼•çš„åš´é‡ç¨‹åº¦ã€‚',
                    lbl_age: 'å¹´é½¡', lbl_gender: 'æ€§åˆ¥',
                    g_female: 'å¥³æ€§', g_male: 'ç”·æ€§',
                    lbl_height: 'èº«é«˜ (cm)', lbl_weight: 'é«”é‡ (kg)',
                    btn_calc: 'è¨ˆç®— BMI',
                    res_bmi: 'BMI æŒ‡æ•¸', res_status: 'ç‹€æ…‹è©•ä¼°',
                    st_sev: 'é‡åº¦æ¶ˆç˜¦ (< 16)',
                    st_mod: 'ä¸­åº¦æ¶ˆç˜¦ (16 - 17)',
                    st_mild: 'è¼•åº¦æ¶ˆç˜¦ (17 - 18.5)',
                    st_norm: 'æ­£å¸¸é«”é‡ (18.5 - 25)',
                    st_over: 'è¶…é‡ (> 25)',
                    note: 'æ³¨æ„ï¼šæ­¤å·¥å…·åƒ…åŸºæ–¼ BMI è©•ä¼°æ¶ˆç˜¦ç¨‹åº¦ï¼Œä¸ä½œç‚ºå­é£Ÿç—‡çš„é†«å­¸è¨ºæ–·ã€‚'
                },
                'ja': {
                    title: 'ğŸ¦´ ä½ä½“é‡ BMI è¨ˆç®—',
                    desc: 'WHOåŸºæº–ã«åŸºã¥ãç—©ã›ã™ãã®ç¨‹åº¦ã‚’åˆ¤å®šã—ã¾ã™ã€‚',
                    lbl_age: 'å¹´é½¢', lbl_gender: 'æ€§åˆ¥',
                    g_female: 'å¥³æ€§', g_male: 'ç”·æ€§',
                    lbl_height: 'èº«é•· (cm)', lbl_weight: 'ä½“é‡ (kg)',
                    btn_calc: 'BMIã‚’è¨ˆç®—',
                    res_bmi: 'BMI ã‚¹ã‚³ã‚¢', res_status: 'åˆ¤å®š',
                    st_sev: 'ç—©ã›ã™ã (é‡åº¦) < 16',
                    st_mod: 'ç—©ã›ã™ã (ä¸­åº¦) 16-17',
                    st_mild: 'ç—©ã›æ°—å‘³ (è»½åº¦) 17-18.5',
                    st_norm: 'æ™®é€šä½“é‡',
                    st_over: 'è‚¥æº€æ°—å‘³',
                    note: 'æ³¨ï¼šã“ã®ãƒ„ãƒ¼ãƒ«ã¯BMIã«åŸºã¥ãç—©ã›åº¦ã®ç›®å®‰ã§ã‚ã‚Šã€æ‘‚é£Ÿéšœå®³ã®è¨ºæ–­ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚'
                },
                'ru': {
                    title: 'ğŸ¦´ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚Ğ° Ğ²ĞµÑĞ°',
                    desc: 'ĞÑ†ĞµĞ½ĞºĞ° ÑÑ‚ĞµĞ¿ĞµĞ½Ğ¸ Ñ…ÑƒĞ´Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ°Ğ¼ Ğ’ĞĞ—.',
                    lbl_age: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚', lbl_gender: 'ĞŸĞ¾Ğ»',
                    g_female: 'Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹', g_male: 'ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹',
                    lbl_height: 'Ğ Ğ¾ÑÑ‚ (ÑĞ¼)', lbl_weight: 'Ğ’ĞµÑ (ĞºĞ³)',
                    btn_calc: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ BMI',
                    res_bmi: 'Ğ˜Ğ½Ğ´ĞµĞºÑ BMI', res_status: 'Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ',
                    st_sev: 'Ğ’Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ (< 16)',
                    st_mod: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ (16 - 17)',
                    st_mild: 'Ğ›ĞµĞ³ĞºĞ¸Ğ¹ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ (17 - 18.5)',
                    st_norm: 'ĞĞ¾Ñ€Ğ¼Ğ°',
                    st_over: 'Ğ˜Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ²ĞµÑ',
                    note: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¼ĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ¸Ğ¹ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾Ğ·, Ğ° Ğ¾Ñ†ĞµĞ½ĞºĞ° Ğ¸Ğ½Ğ´ĞµĞºÑĞ° Ğ¼Ğ°ÑÑÑ‹ Ñ‚ĞµĞ»Ğ°.'
                },
                'es': {
                    title: 'ğŸ¦´ Calculadora de Bajo Peso',
                    desc: 'EvalÃºa la delgadez basada en estÃ¡ndares de la OMS.',
                    lbl_age: 'Edad', lbl_gender: 'GÃ©nero',
                    g_female: 'Mujer', g_male: 'Hombre',
                    lbl_height: 'Altura (cm)', lbl_weight: 'Peso (kg)',
                    btn_calc: 'Calcular IMC',
                    res_bmi: 'PuntuaciÃ³n IMC', res_status: 'Estado',
                    st_sev: 'Delgadez Severa (< 16)',
                    st_mod: 'Delgadez Moderada (16 - 17)',
                    st_mild: 'Delgadez Leve (17 - 18.5)',
                    st_norm: 'Peso Normal',
                    st_over: 'Sobrepeso',
                    note: 'Nota: Solo evalÃºa la delgadez por IMC, no es un diagnÃ³stico mÃ©dico.'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('ac-lang').value;
                const texts = AnorexicCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="anorexic_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(texts[key]) {
                        if(el.tagName === 'OPTION') el.text = texts[key];
                        else el.innerText = texts[key];
                    }
                });
                if(document.getElementById('ac-score').innerText !== '--') AnorexicCalc.calc();
            },

            calc: () => {
                const h = parseFloat(document.getElementById('ac-height').value);
                const w = parseFloat(document.getElementById('ac-weight').value);

                if (!h || !w) return;

                const bmi = w / Math.pow(h / 100, 2);
                document.getElementById('ac-score').innerText = bmi.toFixed(1);

                const lang = document.getElementById('ac-lang').value;
                const txt = AnorexicCalc.i18n[lang];
                let status = "";
                let colorClass = "text-red-600";

                if (bmi < 16) {
                    status = txt.st_sev;
                } else if (bmi >= 16 && bmi < 17) {
                    status = txt.st_mod;
                    colorClass = "text-orange-500";
                } else if (bmi >= 17 && bmi < 18.5) {
                    status = txt.st_mild;
                    colorClass = "text-yellow-600";
                } else if (bmi >= 18.5 && bmi < 25) {
                    status = txt.st_norm;
                    colorClass = "text-green-600";
                } else {
                    status = txt.st_over;
                    colorClass = "text-gray-500";
                }

                const statusEl = document.getElementById('ac-status');
                statusEl.innerText = status;
                statusEl.className = "text-lg font-bold mt-1 " + colorClass;
            }
        };
    </script>
</body>
</html>