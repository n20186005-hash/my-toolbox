<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standard Deviation Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="std_dev_calc">
    <meta name="category" content="statistics">
    <meta name="icon" content="ğŸ“ˆ">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Standard Deviation Calculator">
    <meta name="description" content="Calculate standard deviation, variance, mean, median and other statistical measures for a given dataset.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="æ ‡å‡†å·®è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—ç»™å®šæ•°æ®é›†çš„æ ‡å‡†å·®ã€æ–¹å·®ã€å‡å€¼ã€ä¸­ä½æ•°å’Œå…¶ä»–ç»Ÿè®¡é‡ã€‚">
    
    <meta name="lang-title-zh-TW" content="æ¨™æº–å·®è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—çµ¦å®šæ•¸æ“šé›†çš„æ¨™æº–å·®ã€æ–¹å·®ã€å‡å€¼ã€ä¸­ä½æ•¸å’Œå…¶ä»–çµ±è¨ˆé‡ã€‚">
    
    <meta name="lang-title-ja" content="æ¨™æº–åå·®è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ä¸ãˆã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ¨™æº–åå·®ã€åˆ†æ•£ã€å¹³å‡ã€ä¸­å¤®å€¤ã€ãã®ä»–ã®çµ±è¨ˆé‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ñ">
    <meta name="lang-description-ru" content="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ, Ğ´Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ, ÑÑ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ, Ğ¼ĞµĞ´Ğ¸Ğ°Ğ½Ñƒ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ´Ğ»Ñ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-container { word-break: break-all; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: #e8f4f8; padding: 15px; border-radius: 8px; }
        .stat-label { font-size: 0.85rem; color: #4b5563; margin-bottom: 5px; }
        .stat-value { font-size: 1.1rem; font-weight: bold; color: #1e40af; }
        .data-preview { background: #f8fafc; padding: 10px; border-radius: 6px; margin: 10px 0; font-family: monospace; font-size: 0.9rem; max-height: 100px; overflow-y: auto; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/statistics/standard-deviation-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="std_dev_calc" 
         data-category="statistics" 
         data-title="Standard Deviation Calculator" 
         data-icon="ğŸ“ˆ">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="stddev-lang" onchange="StdDevCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“ˆ Standard Deviation Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- æ•°æ®è¾“å…¥ -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="enter_data">Enter Dataset</label>
                <textarea id="stddev-data" rows="4" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 1,2,3,4,5 or 1 2 3 4 5 (separate with commas or spaces)"></textarea>
                <div class="text-xs text-gray-500 mt-1" data-i18n="data_note">Enter numbers separated by commas, spaces, newlines or tabs (minimum 2 values required)</div>
                
                <!-- æ•°æ®é¢„è§ˆ -->
                <div class="data-preview mt-2" id="data-preview">-- No data entered --</div>
            </div>
            
            <!-- æ•°æ®é›†ç±»å‹é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="data_type">Data Type</label>
                <div class="radio-group" style="display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0;">
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <input type="radio" name="data-type" id="sample-data" value="sample" checked>
                        <label for="sample-data" data-i18n="sample_data">Sample Data (divide by n-1)</label>
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <input type="radio" name="data-type" id="population-data" value="population">
                        <label for="population-data" data-i18n="population_data">Population Data (divide by n)</label>
                    </div>
                </div>
            </div>
            
            <!-- ç²¾åº¦é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="precision">Precision (decimal places)</label>
                <input type="number" id="stddev-precision" min="0" max="6" value="4" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="StdDevCalc.loadSampleData()" class="flex-1 bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition" data-i18n="load_sample">Load Sample Data</button>
                <button onclick="StdDevCalc.clearData()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear_data">Clear Data</button>
                <button onclick="StdDevCalc.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate Statistics</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="stddev-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="stddev-results" class="hidden">
            <!-- æ•°æ®é›†åŸºæœ¬ä¿¡æ¯ -->
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 mb-4">
                <div class="text-sm text-gray-500 mb-2" data-i18n="data_summary">Dataset Summary</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="data_count">Number of Values (n)</div>
                        <div class="stat-value" id="stat-count">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="data_sum">Sum</div>
                        <div class="stat-value" id="stat-sum">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="mean">Mean</div>
                        <div class="stat-value" id="stat-mean">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="median">Median</div>
                        <div class="stat-value" id="stat-median">--</div>
                    </div>
                </div>
            </div>
            
            <!-- æ ‡å‡†å·®å’Œæ–¹å·® -->
            <div class="mb-4">
                <div class="text-sm text-gray-500 mb-2" data-i18n="variability_measures">Variability Measures</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="variance">Variance</div>
                        <div class="stat-value" id="stat-variance">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="std_dev">Standard Deviation</div>
                        <div class="stat-value" id="stat-stddev">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="range">Range</div>
                        <div class="stat-value" id="stat-range">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="cv">Coefficient of Variation</div>
                        <div class="stat-value" id="stat-cv">--</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="notes_list">
                <li>Standard deviation measures the spread of data points from the mean</li>
                <li>Sample standard deviation uses n-1 (Bessel's correction) for unbiased estimation</li>
                <li>Population standard deviation uses n (no correction)</li>
                <li>Higher standard deviation indicates greater spread in the data</li>
            </ul>
        </div>
    </div>

    <script>
        const StdDevCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ“ˆ Standard Deviation Calculator',
                    enter_data: 'Enter Dataset',
                    data_note: 'Enter numbers separated by commas, spaces, newlines or tabs (minimum 2 values required)',
                    data_type: 'Data Type',
                    sample_data: 'Sample Data (divide by n-1)',
                    population_data: 'Population Data (divide by n)',
                    precision: 'Precision (decimal places)',
                    load_sample: 'Load Sample Data',
                    clear_data: 'Clear Data',
                    calculate: 'Calculate Statistics',
                    data_summary: 'Dataset Summary',
                    data_count: 'Number of Values (n)',
                    data_sum: 'Sum',
                    mean: 'Mean',
                    median: 'Median',
                    variability_measures: 'Variability Measures',
                    variance: 'Variance',
                    std_dev: 'Standard Deviation',
                    range: 'Range',
                    cv: 'Coefficient of Variation',
                    notes: 'Notes:',
                    notes_list: `
                        <li>Standard deviation measures the spread of data points from the mean</li>
                        <li>Sample standard deviation uses n-1 (Bessel's correction) for unbiased estimation</li>
                        <li>Population standard deviation uses n (no correction)</li>
                        <li>Higher standard deviation indicates greater spread in the data</li>
                    `,
                    err_no_data: 'Please enter at least 2 valid numbers',
                    err_invalid_data: 'Dataset contains invalid values (only numbers allowed)'
                },
                'zh-CN': {
                    title: 'ğŸ“ˆ æ ‡å‡†å·®è®¡ç®—å™¨',
                    enter_data: 'è¾“å…¥æ•°æ®é›†',
                    data_note: 'è¾“å…¥ç”¨é€—å·ã€ç©ºæ ¼ã€æ¢è¡Œæˆ–åˆ¶è¡¨ç¬¦åˆ†éš”çš„æ•°å­—ï¼ˆè‡³å°‘éœ€è¦2ä¸ªå€¼ï¼‰',
                    data_type: 'æ•°æ®ç±»å‹',
                    sample_data: 'æ ·æœ¬æ•°æ®ï¼ˆé™¤ä»¥n-1ï¼‰',
                    population_data: 'æ€»ä½“æ•°æ®ï¼ˆé™¤ä»¥nï¼‰',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°ä½æ•°ï¼‰',
                    load_sample: 'åŠ è½½æ ·æœ¬æ•°æ®',
                    clear_data: 'æ¸…é™¤æ•°æ®',
                    calculate: 'è®¡ç®—ç»Ÿè®¡é‡',
                    data_summary: 'æ•°æ®é›†æ‘˜è¦',
                    data_count: 'å€¼çš„æ•°é‡ (n)',
                    data_sum: 'æ€»å’Œ',
                    mean: 'å‡å€¼',
                    median: 'ä¸­ä½æ•°',
                    variability_measures: 'ç¦»æ•£åº¦æŒ‡æ ‡',
                    variance: 'æ–¹å·®',
                    std_dev: 'æ ‡å‡†å·®',
                    range: 'æå·®',
                    cv: 'å˜å¼‚ç³»æ•°',
                    notes: 'è¯´æ˜ï¼š',
                    notes_list: `
                        <li>æ ‡å‡†å·®è¡¡é‡æ•°æ®ç‚¹ä¸å‡å€¼çš„ç¦»æ•£ç¨‹åº¦</li>
                        <li>æ ·æœ¬æ ‡å‡†å·®ä½¿ç”¨n-1ï¼ˆè´å¡å°”æ ¡æ­£ï¼‰è¿›è¡Œæ— åä¼°è®¡</li>
                        <li>æ€»ä½“æ ‡å‡†å·®ä½¿ç”¨nï¼ˆæ— æ ¡æ­£ï¼‰</li>
                        <li>æ ‡å‡†å·®è¶Šå¤§ï¼Œè¡¨ç¤ºæ•°æ®çš„ç¦»æ•£ç¨‹åº¦è¶Šå¤§</li>
                    `,
                    err_no_data: 'è¯·è¾“å…¥è‡³å°‘2ä¸ªæœ‰æ•ˆçš„æ•°å­—',
                    err_invalid_data: 'æ•°æ®é›†ä¸­åŒ…å«æ— æ•ˆå€¼ï¼ˆä»…å…è®¸æ•°å­—ï¼‰'
                },
                'zh-TW': {
                    title: 'ğŸ“ˆ æ¨™æº–å·®è¨ˆç®—å™¨',
                    enter_data: 'è¼¸å…¥æ•¸æ“šé›†',
                    data_note: 'è¼¸å…¥ç”¨é€—è™Ÿã€ç©ºæ ¼ã€æ›è¡Œæˆ–è£½è¡¨ç¬¦åˆ†éš”çš„æ•¸å­—ï¼ˆè‡³å°‘éœ€è¦2å€‹å€¼ï¼‰',
                    data_type: 'æ•¸æ“šé¡å‹',
                    sample_data: 'æ¨£æœ¬æ•¸æ“šï¼ˆé™¤ä»¥n-1ï¼‰',
                    population_data: 'ç¸½é«”æ•¸æ“šï¼ˆé™¤ä»¥nï¼‰',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•¸ä½æ•¸ï¼‰',
                    load_sample: 'åŠ è¼‰æ¨£æœ¬æ•¸æ“š',
                    clear_data: 'æ¸…é™¤æ•¸æ“š',
                    calculate: 'è¨ˆç®—çµ±è¨ˆé‡',
                    data_summary: 'æ•¸æ“šé›†æ‘˜è¦',
                    data_count: 'å€¼çš„æ•¸é‡ (n)',
                    data_sum: 'ç¸½å’Œ',
                    mean: 'å‡å€¼',
                    median: 'ä¸­ä½æ•¸',
                    variability_measures: 'é›¢æ•£åº¦æŒ‡æ¨™',
                    variance: 'æ–¹å·®',
                    std_dev: 'æ¨™æº–å·®',
                    range: 'æ¥µå·®',
                    cv: 'è®Šç•°ä¿‚æ•¸',
                    notes: 'èªªæ˜ï¼š',
                    notes_list: `
                        <li>æ¨™æº–å·®è¡¡é‡æ•¸æ“šé»èˆ‡å‡å€¼çš„é›¢æ•£ç¨‹åº¦</li>
                        <li>æ¨£æœ¬æ¨™æº–å·®ä½¿ç”¨n-1ï¼ˆè²å¡çˆ¾æ ¡æ­£ï¼‰é€²è¡Œç„¡åä¼°è¨ˆ</li>
                        <li>ç¸½é«”æ¨™æº–å·®ä½¿ç”¨nï¼ˆç„¡æ ¡æ­£ï¼‰</li>
                        <li>æ¨™æº–å·®è¶Šå¤§ï¼Œè¡¨ç¤ºæ•¸æ“šçš„é›¢æ•£ç¨‹åº¦è¶Šå¤§</li>
                    `,
                    err_no_data: 'è«‹è¼¸å…¥è‡³å°‘2å€‹æœ‰æ•ˆçš„æ•¸å­—',
                    err_invalid_data: 'æ•¸æ“šé›†ä¸­åŒ…å«ç„¡æ•ˆå€¼ï¼ˆåƒ…å…è¨±æ•¸å­—ï¼‰'
                },
                'ja': {
                    title: 'ğŸ“ˆ æ¨™æº–åå·®è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    enter_data: 'ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å…¥åŠ›',
                    data_note: 'ã‚³ãƒ³ãƒã€ã‚¹ãƒšãƒ¼ã‚¹ã€æ”¹è¡Œã€ã¾ãŸã¯ã‚¿ãƒ–ã§åŒºåˆ‡ã‚‰ã‚ŒãŸæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆå°‘ãªãã¨ã‚‚2ã¤ã®å€¤ãŒå¿…è¦ã§ã™ï¼‰',
                    data_type: 'ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡',
                    sample_data: 'ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆn-1ã§é™¤ç®—ï¼‰',
                    population_data: 'æ¯é›†å›£ãƒ‡ãƒ¼ã‚¿ï¼ˆnã§é™¤ç®—ï¼‰',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°æ¡æ•°ï¼‰',
                    load_sample: 'ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€',
                    clear_data: 'ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢',
                    calculate: 'çµ±è¨ˆé‡ã‚’è¨ˆç®—',
                    data_summary: 'ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ¦‚è¦',
                    data_count: 'å€¤ã®æ•° (n)',
                    data_sum: 'åˆè¨ˆ',
                    mean: 'å¹³å‡',
                    median: 'ä¸­å¤®å€¤',
                    variability_measures: 'å¤‰å‹•æ€§æŒ‡æ¨™',
                    variance: 'åˆ†æ•£',
                    std_dev: 'æ¨™æº–åå·®',
                    range: 'ç¯„å›²',
                    cv: 'å¤‰å‹•ä¿‚æ•°',
                    notes: 'æ³¨æ„äº‹é …ï¼š',
                    notes_list: `
                        <li>æ¨™æº–åå·®ã¯ã€å¹³å‡ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®åºƒãŒã‚Šã‚’æ¸¬å®šã—ã¾ã™</li>
                        <li>ã‚µãƒ³ãƒ—ãƒ«æ¨™æº–åå·®ã¯ã€ä¸åæ¨å®šã®ãŸã‚ã«n-1ï¼ˆãƒ™ãƒƒã‚»ãƒ«è£œæ­£ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™</li>
                        <li>æ¯é›†å›£æ¨™æº–åå·®ã¯nã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆè£œæ­£ãªã—ï¼‰</li>
                        <li>æ¨™æº–åå·®ãŒå¤§ãã„ã»ã©ã€ãƒ‡ãƒ¼ã‚¿ã®ã°ã‚‰ã¤ããŒå¤§ãã„ã“ã¨ã‚’ç¤ºã—ã¾ã™</li>
                    `,
                    err_no_data: 'å°‘ãªãã¨ã‚‚2ã¤ã®æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_invalid_data: 'ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«ç„¡åŠ¹ãªå€¤ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼ˆæ•°å€¤ã®ã¿è¨±å¯ã•ã‚Œã¾ã™ï¼‰'
                },
                'ru': {
                    title: 'ğŸ“ˆ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ñ',
                    enter_data: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
                    data_note: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ°, Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ñ‹Ğ¼Ğ¸, Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸, Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°Ğ¼Ğ¸ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ¸Ğ»Ğ¸ Ñ‚Ğ°Ğ±ÑƒĞ»ÑÑ†Ğ¸ĞµĞ¹ (Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 2 Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ)',
                    data_type: 'Ğ¢Ğ¸Ğ¿ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
                    sample_data: 'Ğ’Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° n-1)',
                    population_data: 'ĞĞ°ÑĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° n)',
                    precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹)',
                    load_sample: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
                    clear_data: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ',
                    data_summary: 'Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
                    data_count: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ (n)',
                    data_sum: 'Ğ¡ÑƒĞ¼Ğ¼Ğ°',
                    mean: 'Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ',
                    median: 'ĞœĞµĞ´Ğ¸Ğ°Ğ½Ğ°',
                    variability_measures: 'ĞœĞµÑ€Ñ‹ Ğ¸Ğ·Ğ¼ĞµĞ½Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚Ğ¸',
                    variance: 'Ğ”Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ',
                    std_dev: 'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ',
                    range: 'Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½',
                    cv: 'ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ğ²Ğ°Ñ€Ğ¸Ğ°Ñ†Ğ¸Ğ¸',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    notes_list: `
                        <li>Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµÑ€ÑĞµÑ‚ Ñ€Ğ°Ğ·Ğ±Ñ€Ğ¾Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑÑ€ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ</li>
                        <li>Ğ’Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ñ‡Ğ½Ğ¾Ğµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ n-1 (Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ‘ĞµÑÑĞµĞ»Ñ) Ğ´Ğ»Ñ Ğ½ĞµÑĞ¼ĞµÑ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¾Ñ†ĞµĞ½ĞºĞ¸</li>
                        <li>Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ½Ğ°ÑĞµĞ»ĞµĞ½Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ n (Ğ±ĞµĞ· Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)</li>
                        <li>Ğ‘Ğ¾Ğ»ÑŒÑˆĞµĞµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ½Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¹ Ñ€Ğ°Ğ·Ğ±Ñ€Ğ¾Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</li>
                    `,
                    err_no_data: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ 2 Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ñ‡Ğ¸ÑĞ»Ğ°',
                    err_invalid_data: 'ĞĞ°Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ½ĞµĞ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ (Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ¸ÑĞ»Ğ°)'
                }
            },
            
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // ç›‘å¬æ•°æ®è¾“å…¥å˜åŒ–ï¼Œæ›´æ–°é¢„è§ˆ
                document.getElementById('stddev-data').addEventListener('input', () => {
                    this.updateDataPreview();
                });
                this.changeLang();
            },
            
            updateDataPreview: function() {
                const input = document.getElementById('stddev-data').value.trim();
                const previewEl = document.getElementById('data-preview');
                
                if (!input) {
                    previewEl.textContent = '-- ' + this.i18n[this.getCurrentLang()].err_no_data.split(' ')[3] + ' --';
                    return;
                }
                
                // è§£ææ•°æ®
                const data = this.parseData(input);
                if (data.length === 0) {
                    previewEl.textContent = '-- ' + this.i18n[this.getCurrentLang()].err_invalid_data + ' --';
                } else {
                    previewEl.textContent = data.join(', ') + (data.length > 10 ? ' ...' : '');
                }
            },
            
            parseData: function(input) {
                // åˆ†å‰²æ•°æ®å¹¶è½¬æ¢ä¸ºæ•°å­—
                const tokens = input.replace(/[\t\n]+/g, ' ').split(/[, ]+/);
                return tokens
                    .filter(token => token.trim() !== '')
                    .map(token => parseFloat(token))
                    .filter(num => !isNaN(num));
            },
            
            loadSampleData: function() {
                // åŠ è½½ç¤ºä¾‹æ•°æ®
                document.getElementById('stddev-data').value = '12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42';
                this.updateDataPreview();
            },
            
            clearData: function() {
                document.getElementById('stddev-data').value = '';
                document.getElementById('stddev-results').classList.add('hidden');
                document.getElementById('stddev-error').classList.add('hidden');
                this.updateDataPreview();
            },
            
            calculate: function() {
                const input = document.getElementById('stddev-data').value.trim();
                const errorEl = document.getElementById('stddev-error');
                errorEl.classList.add('hidden');
                
                // è§£ææ•°æ®
                const data = this.parseData(input);
                
                // éªŒè¯æ•°æ®
                if (data.length < 2) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_no_data;
                    errorEl.classList.remove('hidden');
                    return;
                }
                
                // æ£€æŸ¥æ˜¯å¦æœ‰æ— æ•ˆæ•°æ®
                const tokens = input.replace(/[\t\n]+/g, ' ').split(/[, ]+/).filter(t => t.trim() !== '');
                if (data.length !== tokens.length) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_data;
                    errorEl.classList.remove('hidden');
                    return;
                }
                
                // è·å–æ•°æ®ç±»å‹å’Œç²¾åº¦
                const isSample = document.getElementById('sample-data').checked;
                const precision = parseInt(document.getElementById('stddev-precision').value) || 4;
                
                // æ’åºæ•°æ®
                const sortedData = [...data].sort((a, b) => a - b);
                
                // è®¡ç®—ç»Ÿè®¡é‡
                const count = data.length;
                const sum = data.reduce((acc, val) => acc + val, 0);
                const mean = sum / count;
                const median = this.calculateMedian(sortedData);
                const range = sortedData[sortedData.length - 1] - sortedData[0];
                const variance = this.calculateVariance(data, mean, isSample);
                const stdDev = Math.sqrt(variance);
                const cv = mean !== 0 ? (stdDev / mean) * 100 : 0;
                
                // æ ¼å¼åŒ–ç»“æœ
                const format = (num) => num.toFixed(precision);
                
                // æ›´æ–°ç»“æœUI
                document.getElementById('stat-count').textContent = count;
                document.getElementById('stat-sum').textContent = format(sum);
                document.getElementById('stat-mean').textContent = format(mean);
                document.getElementById('stat-median').textContent = format(median);
                document.getElementById('stat-variance').textContent = format(variance);
                document.getElementById('stat-stddev').textContent = format(stdDev);
                document.getElementById('stat-range').textContent = format(range);
                document.getElementById('stat-cv').textContent = `${format(cv)}%`;
                
                // æ˜¾ç¤ºç»“æœ
                document.getElementById('stddev-results').classList.remove('hidden');
            },
            
            calculateMedian: function(sortedData) {
                const n = sortedData.length;
                if (n % 2 === 1) {
                    return sortedData[Math.floor(n / 2)];
                } else {
                    return (sortedData[n / 2 - 1] + sortedData[n / 2]) / 2;
                }
            },
            
            calculateVariance: function(data, mean, isSample) {
                const squaredDiffs = data.map(x => Math.pow(x - mean, 2));
                const sumSquaredDiffs = squaredDiffs.reduce((acc, val) => acc + val, 0);
                const denominator = isSample ? data.length - 1 : data.length;
                return sumSquaredDiffs / denominator;
            },
            
            getCurrentLang: function() {
                return document.getElementById('stddev-lang').value;
            },
            
            changeLang: function() {
                const lang = this.getCurrentLang();
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang] && this.i18n[lang][key]) {
                        el.innerHTML = this.i18n[lang][key];
                    }
                });
                this.updateDataPreview(); // æ›´æ–°é¢„è§ˆæ–‡æœ¬
            }
        };
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            StdDevCalc.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>