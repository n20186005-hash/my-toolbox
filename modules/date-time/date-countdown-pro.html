<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="category" content="date-time">
    <meta name="icon" content="â³">
    <meta name="description" content="Date Countdown Pro - Precision tracking for your big moments">
    
    <title>Date Countdown Pro</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/date-time/date-countdown-pro.html" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+SC:wght@400;500;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { 
                        bg: { light: '#f8fafc', dark: '#0f172a' },
                        primary: '#3b82f6'
                    },
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans SC', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .glass { @apply bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-white/20 dark:border-slate-700/30; }
            .glass-strong { @apply bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-slate-200 dark:border-slate-700 shadow-xl; }
            .text-gradient { @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500; }
            .event-card { @apply flex items-center p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700/50 transition-all hover:shadow-lg group relative overflow-hidden; }
            .time-unit { @apply flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-800/50 rounded-lg p-2 min-w-[60px]; }
        }

        /* ä¿®å¤å…¨å±ä¸»é¢˜åˆ‡æ¢ï¼šä½¿ç”¨æ›´é«˜ä¼˜å…ˆçº§çš„ ID é€‰æ‹©å™¨ç¡®ä¿é¢œè‰²å˜åŒ–æ˜æ˜¾ */
        #fullscreen-view.fullscreen-theme-1 { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%) !important; color: #ffffff !important; }
        #fullscreen-view.fullscreen-theme-2 { background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%) !important; color: #ffffff !important; }
        #fullscreen-view.fullscreen-theme-3 { background: linear-gradient(135deg, #064e3b 0%, #065f46 100%) !important; color: #ffffff !important; }
        #fullscreen-view.fullscreen-theme-4 { background: linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%) !important; color: #ffffff !important; }
        #fullscreen-view.fullscreen-theme-5 { background: #ffffff !important; color: #0f172a !important; }
        #fullscreen-view.fullscreen-theme-6 { background: #f1f5f9 !important; color: #1e293b !important; }

        /* æµ…è‰²æ¨¡å¼ä¸‹çš„ç»†èŠ‚é€‚é… */
        #fullscreen-view.fullscreen-theme-5 .time-unit, 
        #fullscreen-view.fullscreen-theme-6 .time-unit { background-color: rgba(0,0,0,0.05) !important; }
        
        body { opacity: 0; transition: opacity 0.5s ease; }
        body.loaded { opacity: 1; }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-bg-light dark:bg-bg-dark min-h-screen font-sans text-slate-800 dark:text-slate-200 transition-colors duration-300 overflow-x-hidden">

    <!-- Normal View -->
    <div id="main-view">
        <header class="glass sticky top-0 z-50 shadow-sm border-b border-white/10">
            <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 text-white flex items-center justify-center text-xl shadow-lg">
                        <i class="fa fa-hourglass-half"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-black tracking-tight text-slate-900 dark:text-white">Countdown <span class="text-xs font-normal px-1.5 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900/40 text-blue-600">Pro</span></h1>
                        <div class="flex items-center gap-2 text-[10px] font-mono text-slate-500">
                            <span id="header-clock">00:00:00</span>
                            <span class="w-1 h-1 rounded-full bg-slate-300"></span>
                            <span id="current-date">...</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center gap-2">
                    <select id="lang-selector" class="bg-slate-100 dark:bg-slate-700 text-xs font-bold px-2 py-1.5 rounded-lg border-none focus:ring-0 cursor-pointer text-slate-600 dark:text-slate-300 outline-none h-9">
                        <option value="zh-CN">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</option>
                        <option value="zh-TW">ğŸ‡­ğŸ‡° ç¹é«”ä¸­æ–‡</option>
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                        <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                        <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                        <option value="pl">ğŸ‡µğŸ‡± Polski</option>
                    </select>
                    <button id="mode-toggle" class="w-9 h-9 rounded-lg bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 hover:text-amber-500 transition-colors">
                        <i class="fa fa-moon-o dark:hidden"></i>
                        <i class="fa fa-sun-o hidden dark:inline"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="container mx-auto px-4 py-6 max-w-5xl pb-32">
            <!-- Hero Main Countdown -->
            <div id="hero-countdown" onclick="App.openFullscreen()" class="glass-strong rounded-3xl p-8 mb-12 text-center relative overflow-hidden cursor-pointer hover:ring-4 ring-blue-500/20 transition-all group">
                <div class="absolute top-4 right-4 text-slate-300 group-hover:text-blue-500 transition-colors">
                    <i class="fa fa-expand"></i>
                </div>
                <div id="hero-empty" class="py-12">
                    <h2 class="text-2xl font-bold mb-4" data-i18n="no_event">æš‚æ— å€’è®¡æ—¶ä»»åŠ¡</h2>
                    <button onclick="event.stopPropagation(); document.getElementById('input-name').focus()" class="bg-blue-600 text-white px-6 py-2 rounded-full text-sm font-bold" data-i18n="create_now">ç«‹å³åˆ›å»º</button>
                </div>
                <div id="hero-display" class="hidden">
                    <div class="flex justify-center gap-2 mb-4">
                        <div class="px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 text-xs font-bold" id="hero-tag">TAG</div>
                        <!-- åˆ†äº«æŒ‰é’® -->
                        <button onclick="event.stopPropagation(); App.shareCurrentHero()" class="w-7 h-7 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-blue-500 flex items-center justify-center transition-colors">
                            <i class="fa fa-share-alt"></i>
                        </button>
                    </div>
                    <h2 class="text-3xl md:text-5xl font-black mb-8 text-slate-900 dark:text-white" id="hero-title">--</h2>
                    <div class="flex justify-center gap-4 md:gap-8">
                        <div class="time-unit">
                            <span class="text-3xl md:text-5xl font-mono font-bold text-gradient" id="hero-d">00</span>
                            <span class="text-[10px] uppercase tracking-widest text-slate-400" data-i18n="days">DAYS</span>
                        </div>
                        <div class="time-unit">
                            <span class="text-3xl md:text-5xl font-mono font-bold text-gradient" id="hero-h">00</span>
                            <span class="text-[10px] uppercase tracking-widest text-slate-400" data-i18n="hours">HOURS</span>
                        </div>
                        <div class="time-unit">
                            <span class="text-3xl md:text-5xl font-mono font-bold text-gradient" id="hero-m">00</span>
                            <span class="text-[10px] uppercase tracking-widest text-slate-400" data-i18n="mins">MINS</span>
                        </div>
                        <div class="time-unit">
                            <span class="text-3xl md:text-5xl font-mono font-bold text-gradient" id="hero-s">00</span>
                            <span class="text-[10px] uppercase tracking-widest text-slate-400" data-i18n="secs">SECS</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Management Section -->
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1">
                    <div class="glass p-6 rounded-2xl sticky top-24">
                        <h3 class="font-bold mb-4 flex items-center gap-2">
                            <i class="fa fa-plus-circle text-blue-500"></i>
                            <span data-i18n="add_new">æ·»åŠ æ–°æ—¥æœŸ</span>
                        </h3>
                        <div class="space-y-4">
                            <div><label class="block text-[10px] font-bold text-slate-400 mb-1" data-i18n="lbl_name">äº‹ä»¶åç§°</label><input type="text" id="input-name" class="w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2 text-sm outline-none"></div>
                            <div><label class="block text-[10px] font-bold text-slate-400 mb-1" data-i18n="lbl_date">ç›®æ ‡æ—¥æœŸ</label><input type="datetime-local" id="input-date" class="w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2 text-sm outline-none"></div>
                            <div><label class="block text-[10px] font-bold text-slate-400 mb-1" data-i18n="lbl_cat">åˆ†ç±»</label><select id="input-cat" class="w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2 text-sm outline-none"></select></div>
                            <button onclick="App.addEvent()" class="w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-sm shadow-lg" data-i18n="btn_add">åˆ›å»ºå€’è®¡æ—¶</button>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold" data-i18n="list_title">æ‰€æœ‰è®¡åˆ’</h3>
                        <button onclick="App.toggleBatchMode()" class="text-xs font-bold px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500">
                            <i class="fa fa-check-square-o mr-1"></i> <span data-i18n="manage">ç®¡ç†</span>
                        </button>
                    </div>
                    <div id="batch-actions" class="hidden mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-between">
                        <span class="text-xs font-bold text-blue-600" id="selected-count">Selected: 0</span>
                        <div class="flex gap-2">
                            <button onclick="App.deleteSelected()" class="px-4 py-1.5 bg-red-500 text-white text-xs font-bold rounded-lg">Delete</button>
                            <button onclick="App.toggleBatchMode()" class="px-4 py-1.5 bg-slate-200 dark:bg-slate-700 text-xs font-bold rounded-lg">Cancel</button>
                        </div>
                    </div>
                    <div id="event-list" class="grid gap-4"></div>
                </div>
            </div>

            <!-- Holiday Section -->
            <div class="mt-16 glass p-6 rounded-3xl border-2 border-blue-500/10">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-bold flex items-center gap-2">
                        <i class="fa fa-calendar-check-o text-blue-500"></i>
                        <span data-i18n="holiday_track">ä¸»æµèŠ‚æ—¥è¿½è¸ª</span>
                    </h3>
                    <div class="text-[10px] font-mono text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded">
                        NOW: <span id="holiday-clock">--:--:--</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="holiday-container"></div>
            </div>

            <!-- Guide & Features Section -->
            <div class="mt-12 border-t border-slate-200 dark:border-slate-800 pt-12">
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                            <i class="fa fa-info-circle text-blue-500"></i>
                            <span data-i18n="guide_title">ä½¿ç”¨æŒ‡å—</span>
                        </h3>
                        <ul class="space-y-3 text-sm text-slate-500 dark:text-slate-400">
                            <li class="flex gap-2"><b>01.</b> <span data-i18n="guide_1">è¾“å…¥äº‹ä»¶åç§°å¹¶é€‰æ‹©ç›®æ ‡æ—¥æœŸæ—¶é—´ã€‚</span></li>
                            <li class="flex gap-2"><b>02.</b> <span data-i18n="guide_2">é€‰æ‹©åˆé€‚çš„åˆ†ç±»ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ•´ç†æ‚¨çš„è®¡åˆ’ã€‚</span></li>
                            <li class="flex gap-2"><b>03.</b> <span data-i18n="guide_3">ç‚¹å‡»â€œåˆ›å»ºâ€ï¼Œå€’è®¡æ—¶å°†è‡ªåŠ¨ç½®é¡¶å¹¶å¼€å§‹ç²¾å‡†è·³åŠ¨ã€‚</span></li>
                            <li class="flex gap-2"><b>04.</b> <span data-i18n="guide_4">ä½¿ç”¨åˆ†äº«æŒ‰é’®ï¼Œå°†é‡è¦æ—¶åˆ»ç”Ÿæˆçš„æ–‡æœ¬å‘é€ç»™å¥½å‹ã€‚</span></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                            <i class="fa fa-star text-amber-500"></i>
                            <span data-i18n="feature_title">æ ¸å¿ƒåŠŸèƒ½</span>
                        </h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl text-xs">
                                <h4 class="font-bold mb-1" data-i18n="feat_1_t">æœ¬åœ°å­˜å‚¨</h4>
                                <p data-i18n="feat_1_d">æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ï¼Œæ— è´¦å·éšç§æ³„éœ²é£é™©ã€‚</p>
                            </div>
                            <div class="p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl text-xs">
                                <h4 class="font-bold mb-1" data-i18n="feat_2_t">å¤šè¯­è¨€æ”¯æŒ</h4>
                                <p data-i18n="feat_2_d">æ”¯æŒä¸­ã€è‹±ã€è¥¿ã€ä¿„ç­‰å¤šå›½è¯­è¨€ä¸€é”®åˆ‡æ¢ã€‚</p>
                            </div>
                            <div class="p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl text-xs">
                                <h4 class="font-bold mb-1" data-i18n="feat_3_t">æš—é»‘æ¨¡å¼</h4>
                                <p data-i18n="feat_3_d">è‡ªé€‚åº”ç³»ç»Ÿä¸»é¢˜ï¼Œä¿æŠ¤è§†åŠ›æ›´æŠ¤çœ¼ã€‚</p>
                            </div>
                            <div class="p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl text-xs">
                                <h4 class="font-bold mb-1" data-i18n="feat_4_t">ç²¾å‡†è¿½è¸ª</h4>
                                <p data-i18n="feat_4_d">æ¯«ç§’çº§é€»è¾‘å¤„ç†ï¼Œä¸é”™è¿‡ä»»ä½•é‡è¦ç¬é—´ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="text-center text-xs text-slate-400 py-12 mt-16">
                <p>&copy; 2025 Date Countdown Pro. <span data-i18n="auto_save">æ•°æ®å®æ—¶åŒæ­¥ã€‚</span></p>
            </footer>
        </div>
    </div>

    <!-- Fullscreen View -->
    <div id="fullscreen-view" class="hidden fixed inset-0 z-[100] flex flex-col items-center justify-center transition-all duration-700">
        <div class="absolute top-8 left-8 flex gap-4 z-[110]">
            <!-- ä¿®å¤ï¼šç¡®ä¿æŒ‰é’®èƒŒæ™¯ä¸ä¸»é¢˜é€‚é…ä¸”å±‚çº§æœ€é«˜ -->
            <button onclick="App.cycleTheme()" class="w-12 h-12 rounded-full bg-white/20 dark:bg-black/20 backdrop-blur-md flex items-center justify-center transition-transform hover:scale-110 cursor-pointer shadow-lg">
                <i class="fa fa-paint-brush"></i>
            </button>
            <button onclick="App.closeFullscreen()" class="w-12 h-12 rounded-full bg-white/20 dark:bg-black/20 backdrop-blur-md flex items-center justify-center transition-transform hover:scale-110 cursor-pointer shadow-lg">
                <i class="fa fa-compress"></i>
            </button>
        </div>
        <div class="text-center px-4">
            <h1 id="fs-title" class="text-4xl md:text-7xl font-black mb-12 drop-shadow-2xl">--</h1>
            <div class="flex flex-wrap justify-center gap-4 md:gap-12">
                <div class="flex flex-col items-center">
                    <span id="fs-d" class="text-6xl md:text-9xl font-mono font-bold">00</span>
                    <span class="text-sm md:text-lg uppercase tracking-widest opacity-60" data-i18n="days">DAYS</span>
                </div>
                <div class="flex flex-col items-center">
                    <span id="fs-h" class="text-6xl md:text-9xl font-mono font-bold">00</span>
                    <span class="text-sm md:text-lg uppercase tracking-widest opacity-60" data-i18n="hours">HOURS</span>
                </div>
                <div class="flex flex-col items-center">
                    <span id="fs-m" class="text-6xl md:text-9xl font-mono font-bold">00</span>
                    <span class="text-sm md:text-lg uppercase tracking-widest opacity-60" data-i18n="mins">MINS</span>
                </div>
                <div class="flex flex-col items-center">
                    <span id="fs-s" class="text-6xl md:text-9xl font-mono font-bold">00</span>
                    <span class="text-sm md:text-lg uppercase tracking-widest opacity-60" data-i18n="secs">SECS</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast å®¹å™¨ -->
    <div id="toast" class="fixed top-24 left-1/2 -translate-x-1/2 bg-slate-900/90 text-white px-6 py-3 rounded-full shadow-2xl text-sm font-medium opacity-0 transition-all duration-300 pointer-events-none z-[110] backdrop-blur-sm transform translate-y-4">
        Notification
    </div>

    <script>
        const I18N = {
            'zh-CN': {
                no_event: "æš‚æ— å€’è®¡æ—¶ä»»åŠ¡", create_now: "ç«‹å³åˆ›å»º", manage: "ç®¡ç†", holiday_track: "ä¸»æµèŠ‚æ—¥è¿½è¸ª",
                days: "å¤©", hours: "æ—¶", mins: "åˆ†", secs: "ç§’",
                add_new: "æ·»åŠ æ–°æ—¥æœŸ", lbl_name: "äº‹ä»¶åç§°", lbl_date: "ç›®æ ‡æ—¥æœŸ", lbl_cat: "åˆ†ç±»",
                btn_add: "åˆ›å»ºå€’è®¡æ—¶", list_title: "æ‰€æœ‰è®¡åˆ’", auto_save: "æ•°æ®å·²æœ¬åœ°ä¿å­˜ã€‚",
                guide_title: "ä½¿ç”¨æŒ‡å—", feature_title: "æ ¸å¿ƒåŠŸèƒ½",
                guide_1: "è¾“å…¥äº‹ä»¶åç§°å¹¶é€‰æ‹©ç›®æ ‡æ—¥æœŸæ—¶é—´ã€‚", guide_2: "é€‰æ‹©åˆé€‚çš„åˆ†ç±»ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ•´ç†æ‚¨çš„è®¡åˆ’ã€‚",
                guide_3: "ç‚¹å‡»â€œåˆ›å»ºâ€ï¼Œå€’è®¡æ—¶å°†è‡ªåŠ¨ç½®é¡¶å¹¶å¼€å§‹ç²¾å‡†è·³åŠ¨ã€‚", guide_4: "ä½¿ç”¨åˆ†äº«æŒ‰é’®ï¼Œå°†é‡è¦æ—¶åˆ»ç”Ÿæˆçš„æ–‡æœ¬å‘é€ç»™å¥½å‹ã€‚",
                feat_1_t: "æœ¬åœ°å­˜å‚¨", feat_1_d: "æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ï¼Œæ— éšç§é£é™©ã€‚",
                feat_2_t: "å¤šè¯­è¨€", feat_2_d: "æ”¯æŒå¤šå›½è¯­è¨€ä¸€é”®åˆ‡æ¢ã€‚",
                feat_3_t: "æš—é»‘æ¨¡å¼", feat_3_d: "è‡ªé€‚åº”ç³»ç»Ÿä¸»é¢˜ã€‚",
                feat_4_t: "ç²¾å‡†è¿½è¸ª", feat_4_d: "æ¯«ç§’çº§é€»è¾‘å¤„ç†ã€‚",
                cats: { life: "ğŸ‚ ç”Ÿæ´»", work: "ğŸ’¼ å·¥ä½œ", trip: "âœˆï¸ æ—…è¡Œ", game: "ğŸ® å¨±ä¹", other: "ğŸ“Œ å…¶ä»–" },
                toast_empty: "è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ ğŸ™", toast_added: "å€’è®¡æ—¶å·²æ·»åŠ  âœ¨", toast_deleted: "å·²åˆ é™¤",
                share_msg: "åˆ†äº«å€’è®¡æ—¶: {name} è¿˜æœ‰ {time} ç»“æŸï¼",
                holidays: { ny: "å…ƒæ—¦", vd: "æƒ…äººèŠ‚", id: "ç‹¬ç«‹æ—¥", hw: "ä¸‡åœ£èŠ‚", tg: "æ„Ÿæ©èŠ‚", xm: "åœ£è¯èŠ‚" }
            },
            'zh-TW': {
                no_event: "æš«ç„¡å€’è¨ˆæ™‚ä»»å‹™", create_now: "ç«‹å³å‰µå»º", manage: "ç®¡ç†", holiday_track: "ä¸»æµç¯€æ—¥è¿½è¹¤",
                days: "å¤©", hours: "æ™‚", mins: "åˆ†", secs: "ç§’",
                add_new: "æ·»åŠ æ–°æ—¥æœŸ", lbl_name: "äº‹ä»¶åç¨±", lbl_date: "ç›®æ¨™æ—¥æœŸ", lbl_cat: "åˆ†é¡",
                btn_add: "å‰µå»ºå€’è¨ˆæ™‚", list_title: "æ‰€æœ‰è¨ˆåŠƒ", auto_save: "æ•¸æ“šå·²æœ¬åœ°ä¿å­˜ã€‚",
                guide_title: "ä½¿ç”¨æŒ‡å—", feature_title: "æ ¸å¿ƒåŠŸèƒ½",
                guide_1: "è¼¸å…¥äº‹ä»¶åç¨±ä¸¦é¸æ“‡ç›®æ¨™æ—¥æœŸæ™‚é–“ã€‚", guide_2: "é¸æ“‡åˆé©çš„åˆ†é¡ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ•´ç†æ‚¨çš„è¨ˆåŠƒã€‚",
                guide_3: "é»æ“Šâ€œå‰µå»ºâ€ï¼Œå€’è¨ˆæ™‚å°‡è‡ªå‹•ç½®é ‚ä¸¦é–‹å§‹ç²¾æº–è·³å‹•ã€‚", guide_4: "ä½¿ç”¨åˆ†äº«æŒ‰éˆ•ï¼Œå°‡é‡è¦æ™‚åˆ»ç”Ÿæˆçš„æ–‡æœ¬ç™¼é€çµ¦å¥½å‹ã€‚",
                feat_1_t: "æœ¬åœ°å­˜å„²", feat_1_d: "æ•¸æ“šå­˜å„²åœ¨ç€è¦½å™¨ï¼Œç„¡éš±ç§é¢¨éšªã€‚",
                feat_2_t: "å¤šèªè¨€", feat_2_d: "æ”¯æŒå¤šåœ‹èªè¨€ä¸€éµåˆ‡æ›ã€‚",
                feat_3_t: "æš—é»‘æ¨¡å¼", feat_3_d: "è‡ªé©æ‡‰ç³»çµ±ä¸»é¡Œã€‚",
                feat_4_t: "ç²¾æº–è¿½è¹¤", feat_4_d: "æ¯«ç§’ç´šé‚è¼¯è™•ç†ã€‚",
                cats: { life: "ğŸ‚ ç”Ÿæ´»", work: "ğŸ’¼ å·¥ä½œ", trip: "âœˆï¸ æ—…è¡Œ", game: "ğŸ® å¨›æ¨‚", other: "ğŸ“Œ å…¶ä»–" },
                toast_empty: "è«‹å¡«å¯«å®Œæ•´ä¿¡æ¯ ğŸ™", toast_added: "å€’è¨ˆæ™‚å·²æ·»åŠ  âœ¨", toast_deleted: "å·²åˆªé™¤",
                share_msg: "åˆ†äº«å€’è¨ˆæ™‚: {name} é‚„æœ‰ {time} çµæŸï¼",
                holidays: { ny: "å…ƒæ—¦", vd: "æƒ…äººç¯€", id: "ç¨ç«‹æ—¥", hw: "è¬è–ç¯€", tg: "æ„Ÿæ©ç¯€", xm: "è–èª•ç¯€" }
            },
            'en': {
                no_event: "No Countdowns", create_now: "Create Now", manage: "Manage", holiday_track: "Holiday Tracker",
                days: "Days", hours: "Hours", mins: "Mins", secs: "Secs",
                add_new: "Add New Date", lbl_name: "Event Name", lbl_date: "Target Date", lbl_cat: "Category",
                btn_add: "Start Countdown", list_title: "All Plans", auto_save: "Data saved locally.",
                guide_title: "User Guide", feature_title: "Core Features",
                guide_1: "Enter event name and choose target date.", guide_2: "Select a category to stay organized.",
                guide_3: "Click Create to start precision tracking.", guide_4: "Share your moments with friends easily.",
                feat_1_t: "Local Storage", feat_1_d: "Private browser storage.",
                feat_2_t: "Multilingual", feat_2_d: "One-click lang switch.",
                feat_3_t: "Dark Mode", feat_3_d: "Adapts to your system.",
                feat_4_t: "Precision", feat_4_d: "Millisecond logic.",
                cats: { life: "ğŸ‚ Life", work: "ğŸ’¼ Work", trip: "âœˆï¸ Trip", game: "ğŸ® Game", other: "ğŸ“Œ Other" },
                toast_empty: "Fill all fields ğŸ™", toast_added: "Added âœ¨", toast_deleted: "Deleted",
                share_msg: "Countdown: {name} ends in {time}!",
                holidays: { ny: "New Year", vd: "Valentine", id: "July 4th", hw: "Halloween", tg: "Thanksgiving", xm: "Christmas" }
            },
            'es': {
                no_event: "Sin tareas", create_now: "Crear ahora", manage: "Gestionar", holiday_track: "DÃ­as festivos",
                days: "DÃ­as", hours: "Horas", mins: "Mins", secs: "Segs",
                add_new: "AÃ±adir fecha", lbl_name: "Nombre del evento", lbl_date: "Fecha objetivo", lbl_cat: "CategorÃ­a",
                btn_add: "Crear", list_title: "Planes", auto_save: "Guardado localmente.",
                guide_title: "GuÃ­a de uso", feature_title: "CaracterÃ­sticas",
                cats: { life: "ğŸ‚ Vida", work: "ğŸ’¼ Trabajo", trip: "âœˆï¸ Viaje", game: "ğŸ® Juego", other: "ğŸ“Œ Otro" },
                toast_empty: "Rellena los campos ğŸ™", toast_added: "AÃ±adido âœ¨", toast_deleted: "Eliminado",
                share_msg: "Cuenta atrÃ¡s: {name} termina en {time}!",
                holidays: { ny: "AÃ±o Nuevo", vd: "San ValentÃ­n", id: "Independencia", hw: "Halloween", tg: "AcciÃ³n de Gracias", xm: "Navidad" }
            },
            'ru': {
                no_event: "ĞĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡", create_now: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ", manage: "Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ", holiday_track: "ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¸",
                days: "Ğ”Ğ½Ğ¸", hours: "Ğ§Ğ°ÑÑ‹", mins: "ĞœĞ¸Ğ½", secs: "Ğ¡ĞµĞº",
                add_new: "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ñ‚Ñƒ", lbl_name: "Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ", lbl_date: "Ğ”Ğ°Ñ‚Ğ°", lbl_cat: "ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ",
                btn_add: "Ğ—Ğ°Ğ¿ÑƒÑĞº", list_title: "Ğ’ÑĞµ Ğ¿Ğ»Ğ°Ğ½Ñ‹", auto_save: "Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾.",
                cats: { life: "ğŸ‚ Ğ–Ğ¸Ğ·Ğ½ÑŒ", work: "ğŸ’¼ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°", trip: "âœˆï¸ ĞŸĞ¾ĞµĞ·Ğ´ĞºĞ°", game: "ğŸ® Ğ˜Ğ³Ñ€Ğ°", other: "ğŸ“Œ Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ" },
                toast_empty: "Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ ğŸ™", toast_added: "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ âœ¨", toast_deleted: "Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¾",
                share_msg: "ĞÑ‚ÑÑ‡ĞµÑ‚: {name} Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· {time}!",
                holidays: { ny: "ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ´", vd: "Ğ’Ğ°Ğ»ĞµĞ½Ñ‚Ğ¸Ğ½", id: "4 Ğ¸ÑĞ»Ñ", hw: "Ğ¥ÑĞ»Ğ»Ğ¾ÑƒĞ¸Ğ½", tg: "Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€ĞµĞ½Ğ¸Ğµ", xm: "Ğ Ğ¾Ğ¶Ğ´ĞµÑÑ‚Ğ²Ğ¾" }
            },
            'hi': {
                no_event: "à¤•à¥‹à¤ˆ à¤•à¤¾à¤°à¥à¤¯ à¤¨à¤¹à¥€à¤‚", create_now: "à¤¬à¤¨à¤¾à¤à¤", manage: "à¤ªà¥à¤°à¤¬à¤‚à¤§à¤¨", holiday_track: "à¤¤à¥à¤¯à¥‹à¤¹à¤¾à¤°",
                days: "à¤¦à¤¿à¤¨", hours: "à¤˜à¤‚à¤Ÿà¥‡", mins: "à¤®à¤¿à¤¨à¤Ÿ", secs: "à¤¸à¥‡à¤•à¤‚à¤¡",
                add_new: "à¤¨à¤ˆ à¤¤à¤¿à¤¥à¤¿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚", lbl_name: "à¤˜à¤Ÿà¤¨à¤¾ à¤•à¤¾ à¤¨à¤¾à¤®", lbl_date: "à¤²à¤•à¥à¤·à¥à¤¯ à¤¤à¤¿à¤¥à¤¿", lbl_cat: "à¤¶à¥à¤°à¥‡à¤£à¥€",
                btn_add: "à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚", list_title: "à¤¸à¤­à¥€ à¤¯à¥‹à¤œà¤¨à¤¾à¤à¤‚", auto_save: "à¤¸à¥à¤¥à¤¾à¤¨à¥€à¤¯ à¤°à¥‚à¤ª à¤¸à¥‡ à¤¸à¤¹à¥‡à¤œà¤¾ à¤—à¤¯à¤¾à¥¤",
                cats: { life: "ğŸ‚ à¤œà¥€à¤µà¤¨", work: "ğŸ’¼ à¤•à¤¾à¤®", trip: "âœˆï¸ à¤¯à¤¾à¤¤à¥à¤°à¤¾", game: "ğŸ® à¤–à¥‡à¤²", other: "ğŸ“Œ à¤…à¤¨à¥à¤¯" },
                toast_empty: "à¤¸à¤­à¥€ à¤«à¤¼à¥€à¤²à¥à¤¡ à¤­à¤°à¥‡à¤‚ ğŸ™", toast_added: "à¤œà¥‹à¤¡à¤¼à¤¾ à¤—à¤¯à¤¾ âœ¨", toast_deleted: "à¤¹à¤Ÿà¤¾à¤¯à¤¾ à¤—à¤¯à¤¾",
                share_msg: "à¤‰à¤²à¤Ÿà¥€ à¤—à¤¿à¤¨à¤¤à¥€: {name} {time} à¤®à¥‡à¤‚ à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤¹à¥‹à¤—à¥€!",
                holidays: { ny: "à¤¨à¤¯à¤¾ à¤¸à¤¾à¤²", vd: "à¤µà¥‡à¤²à¥‡à¤‚à¤Ÿà¤¾à¤‡à¤¨", id: "à¤œà¥à¤²à¤¾à¤ˆ 4", hw: "à¤¹à¥‡à¤²à¥‹à¤µà¥€à¤¨", tg: "à¤¥à¥ˆà¤‚à¤•à¥à¤¸à¤—à¤¿à¤µà¤¿à¤‚à¤—", xm: "à¤•à¥à¤°à¤¿à¤¸à¤®à¤¸" }
            },
            'pl': {
                no_event: "Brak zadaÅ„", create_now: "UtwÃ³rz", manage: "ZarzÄ…dzaj", holiday_track: "ÅšwiÄ™ta",
                days: "Dni", hours: "Godz", mins: "Min", secs: "Sek",
                add_new: "Dodaj datÄ™", lbl_name: "Nazwa wydarzenia", lbl_date: "Data", lbl_cat: "Kategoria",
                btn_add: "Start", list_title: "Wszystkie plany", auto_save: "Zapisano lokalnie.",
                cats: { life: "ğŸ‚ Å»ycie", work: "ğŸ’¼ Praca", trip: "âœˆï¸ PodrÃ³Å¼", game: "ğŸ® Gra", other: "ğŸ“Œ Inne" },
                toast_empty: "WypeÅ‚nij pola ğŸ™", toast_added: "Dodano âœ¨", toast_deleted: "UsuniÄ™to",
                share_msg: "Odliczanie: {name} koÅ„czy siÄ™ za {time}!",
                holidays: { ny: "Nowy Rok", vd: "Walentynki", id: "4 lipca", hw: "Halloween", tg: "DziÄ™kczynienie", xm: "BoÅ¼e Narodzenie" }
            }
        };

        const App = {
            data: { events: [] },
            lang: 'zh-CN',
            themeIndex: 1,
            batchMode: false,

            init() {
                const saved = localStorage.getItem('dateCountdownPro');
                if (saved) this.data = JSON.parse(saved);
                this.themeIndex = parseInt(localStorage.fsTheme || 1);
                
                this.initLang();
                this.setupUI();
                this.renderHolidays();
                this.startGlobalTimer();
                document.body.classList.add('loaded');
                this.renderAll();
            },

            initLang() {
                const params = new URLSearchParams(window.location.search);
                const urlLang = params.get('lang');
                if (urlLang && I18N[urlLang]) {
                    this.lang = urlLang;
                } else {
                    const navLang = navigator.language.split('-')[0];
                    const langMap = { 'zh': 'zh-CN', 'en': 'en', 'es': 'es', 'ru': 'ru', 'hi': 'hi', 'pl': 'pl' };
                    this.lang = langMap[navLang] || 'zh-CN';
                }
                
                const selector = document.getElementById('lang-selector');
                selector.value = this.lang;
                selector.onchange = (e) => {
                    this.lang = e.target.value;
                    const url = new URL(window.location);
                    url.searchParams.set('lang', this.lang);
                    try {
                        window.history.pushState({}, '', url);
                    } catch (err) {
                        console.warn("URL åŒæ­¥åœ¨å½“å‰é¢„è§ˆç¯å¢ƒä¸‹å—é™ã€‚");
                    }
                    this.updateI18N();
                    this.renderAll();
                    this.renderHolidays();
                };
                this.updateI18N();
            },

            updateI18N() {
                const dict = I18N[this.lang];
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    el.innerText = dict[key] || key;
                });
                const catSel = document.getElementById('input-cat');
                if (catSel) {
                    catSel.innerHTML = Object.entries(dict.cats).map(([k,v]) => `<option value="${k}">${v}</option>`).join('');
                }
            },

            setupUI() {
                const toggle = document.getElementById('mode-toggle');
                toggle.onclick = () => {
                    document.documentElement.classList.toggle('dark');
                    localStorage.darkMode = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                };
                if (localStorage.darkMode === 'dark') document.documentElement.classList.add('dark');
                
                setInterval(() => {
                    const now = new Date();
                    const clock = document.getElementById('header-clock');
                    const hClock = document.getElementById('holiday-clock');
                    const timeStr = now.toLocaleTimeString([], {hour12: false});
                    if (clock) clock.innerText = timeStr;
                    if (hClock) hClock.innerText = timeStr;
                    document.getElementById('current-date').innerText = now.toLocaleDateString();
                }, 1000);

                if (new URLSearchParams(window.location.search).get('view') === 'fullscreen') {
                    document.getElementById('main-view').classList.add('hidden');
                    document.getElementById('fullscreen-view').classList.remove('hidden');
                    this.applyTheme();
                }
            },

            cycleTheme() {
                this.themeIndex = (this.themeIndex >= 6) ? 1 : this.themeIndex + 1;
                localStorage.fsTheme = this.themeIndex;
                this.applyTheme();
            },

            applyTheme() {
                const el = document.getElementById('fullscreen-view');
                if (!el) return;
                // å½»åº•æ¸…é™¤æ—§çš„ä¸»é¢˜ç±»å
                for (let i = 1; i <= 6; i++) {
                    el.classList.remove(`fullscreen-theme-${i}`);
                }
                // å¼ºåˆ¶æ·»åŠ æ–°çš„ä¸»é¢˜ç±»å
                el.classList.add(`fullscreen-theme-${this.themeIndex}`);
            },

            openFullscreen() {
                window.open(window.location.pathname + '?view=fullscreen&lang=' + this.lang, '_blank');
            },

            closeFullscreen() { window.close(); },

            renderHolidays() {
                const container = document.getElementById('holiday-container');
                if(!container) return;
                const now = new Date();
                const curY = now.getFullYear();

                const getTarget = (m, d) => {
                    let target = new Date(curY, m, d);
                    if (target < now) target = new Date(curY + 1, m, d);
                    return target;
                };

                const configs = [
                    { key: 'ny', m: 0, d: 1 }, { key: 'vd', m: 1, d: 14 },
                    { key: 'id', m: 6, d: 4 }, { key: 'hw', m: 9, d: 31 },
                    { key: 'tg', m: 10, d: 27 }, { key: 'xm', m: 11, d: 25 }
                ];

                const holidays = configs.map(c => ({ key: c.key, date: getTarget(c.m, c.d) })).sort((a,b)=>a.date-b.date);

                container.innerHTML = holidays.map(h => {
                    const days = Math.ceil((h.date - now) / 86400000);
                    return `
                        <div class="p-4 bg-white/40 dark:bg-slate-800/40 rounded-2xl border border-white/20">
                            <div class="text-[10px] font-bold text-blue-500 uppercase">${I18N[this.lang].holidays[h.key]}</div>
                            <div class="text-2xl font-black text-slate-900 dark:text-white">${days} <span class="text-[10px] opacity-50">${I18N[this.lang].days}</span></div>
                            <div class="text-[9px] text-slate-400 mt-1 font-mono">${h.date.toLocaleDateString()}</div>
                        </div>
                    `;
                }).join('');
            },

            addEvent() {
                const n = document.getElementById('input-name').value;
                const d = document.getElementById('input-date').value;
                if (!n || !d) {
                    this.showToast(I18N[this.lang].toast_empty);
                    return;
                }
                this.data.events.push({ id: Date.now(), name: n, target: new Date(d).getTime(), cat: document.getElementById('input-cat').value });
                localStorage.setItem('dateCountdownPro', JSON.stringify(this.data));
                this.renderAll();
                document.getElementById('input-name').value = '';
                document.getElementById('input-date').value = '';
                this.showToast(I18N[this.lang].toast_added);
            },

            toggleBatchMode() {
                this.batchMode = !this.batchMode;
                this.renderAll();
            },

            shareCurrentHero() {
                const now = Date.now();
                const upcoming = this.data.events.filter(e => e.target > now).sort((a,b)=>a.target-b.target)[0];
                if (!upcoming) return;
                
                const diff = upcoming.target - now;
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff % 86400000) / 3600000);
                const timeStr = `${d}d ${h}h`;
                
                const msg = I18N[this.lang].share_msg.replace('{name}', upcoming.name).replace('{time}', timeStr);
                
                const el = document.createElement('textarea');
                el.value = msg;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                
                this.showToast("Copied to clipboard! ğŸ“‹");
            },

            showToast(msg) {
                const t = document.getElementById('toast');
                if (!t) return;
                t.innerText = msg;
                t.classList.remove('opacity-0', 'translate-y-4');
                setTimeout(() => t.classList.add('opacity-0', 'translate-y-4'), 2500);
            },

            startGlobalTimer() {
                setInterval(() => {
                    const now = Date.now();
                    const up = this.data.events.filter(e => e.target > now).sort((a,b)=>a.target-b.target)[0];
                    if (up) {
                        ['hero', 'fs'].forEach(p => {
                            const diff = up.target - now;
                            const d = Math.floor(diff / 86400000);
                            const h = Math.floor((diff % 86400000) / 3600000);
                            const m = Math.floor((diff % 3600000) / 60000);
                            const s = Math.floor((diff % 60000) / 1000);
                            const titleEl = document.getElementById(`${p}-title`);
                            if(titleEl) titleEl.innerText = up.name;
                            const tagEl = document.getElementById(`${p}-tag`);
                            if(tagEl) tagEl.innerText = I18N[this.lang].cats[up.cat];
                            const dEl = document.getElementById(`${p}-d`);
                            const hEl = document.getElementById(`${p}-h`);
                            const mEl = document.getElementById(`${p}-m`);
                            const sEl = document.getElementById(`${p}-s`);
                            if(dEl) dEl.innerText = d.toString().padStart(2,'0');
                            if(hEl) hEl.innerText = h.toString().padStart(2,'0');
                            if(mEl) mEl.innerText = m.toString().padStart(2,'0');
                            if(sEl) sEl.innerText = s.toString().padStart(2,'0');
                        });
                        const empty = document.getElementById('hero-empty');
                        const display = document.getElementById('hero-display');
                        if(empty) empty.classList.add('hidden');
                        if(display) display.classList.remove('hidden');
                    }
                }, 1000);
            },

            renderAll() {
                const list = document.getElementById('event-list');
                if(!list) return;
                const sorted = [...this.data.events].sort((a,b)=>a.target-b.target);
                list.innerHTML = sorted.map(e => `
                    <div class="event-card">
                        <div class="flex-1">
                            <span class="text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500">${I18N[this.lang].cats[e.cat]}</span>
                            <h4 class="font-bold text-slate-800 dark:text-white">${e.name}</h4>
                        </div>
                        <div class="text-right font-mono font-bold text-blue-600">${new Date(e.target).toLocaleDateString()}</div>
                    </div>
                `).join('');
            }
        };

        App.init();
    </script>

    <!-- ç»“å°¾å¿…é¡»åŒ…å«çš„ä»£ç  -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>