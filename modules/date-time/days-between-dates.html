<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="category" content="date-time">
    <meta charset="UTF-8">
    <title>Days Difference Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #ecfeff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/date-time/days-between-dates.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="days_calc" 
         data-category="date" 
         data-title="Days Between Dates" 
         data-icon="üóìÔ∏è">
        
        <div class="absolute top-4 right-4">
            <select id="dc-lang" onchange="DaysCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üóìÔ∏è Days Between Dates</h2>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="lbl_start">Start Date</label>
                <input type="date" id="dc-start" class="w-full p-2 border rounded focus:ring-2 focus:ring-cyan-500 outline-none">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="lbl_end">End Date</label>
                <input type="date" id="dc-end" class="w-full p-2 border rounded focus:ring-2 focus:ring-cyan-500 outline-none">
            </div>
        </div>
        
        <div class="flex items-center mb-4">
            <input type="checkbox" id="dc-include" class="w-4 h-4 text-cyan-600 rounded">
            <label for="dc-include" class="ml-2 text-sm text-gray-600" data-i18n="opt_include">Include end date (+1 day)</label>
        </div>

        <button onclick="DaysCalc.calc()" class="w-full bg-cyan-600 text-white py-2 rounded font-bold hover:bg-cyan-700 transition mb-6" data-i18n="btn_calc">Calculate Difference</button>

        <div class="bg-cyan-50 p-4 rounded-lg border border-cyan-100 hidden" id="dc-result-box">
            <div class="text-center mb-4">
                <span class="text-gray-500 text-sm block" data-i18n="res_total">Total Days</span>
                <div id="res-total" class="text-4xl font-bold text-cyan-800 mt-1">--</div>
            </div>

            <div class="grid grid-cols-2 gap-4 border-t border-cyan-200 pt-3 text-sm">
                <div>
                    <span class="text-gray-500 block" data-i18n="res_working">Weekdays (Mon-Fri)</span>
                    <span id="res-working" class="font-bold text-gray-800 text-lg">--</span>
                </div>
                <div>
                    <span class="text-gray-500 block" data-i18n="res_weekend">Weekends (Sat-Sun)</span>
                    <span id="res-weekend" class="font-bold text-gray-800 text-lg">--</span>
                </div>
            </div>
            <div class="mt-3 text-xs text-gray-400 text-center" data-i18n="note">Note: This counts full days between dates.</div>
        </div>
    </div>

    <script>
        const DaysCalc = {
            i18n: {
                'en': {
                    title: 'üóìÔ∏è Days Between Dates',
                    lbl_start: 'Start Date',
                    lbl_end: 'End Date',
                    opt_include: 'Include end date (Add 1 day to count)',
                    btn_calc: 'Calculate Difference',
                    res_total: 'Total Days',
                    res_working: 'Weekdays (Mon-Fri)',
                    res_weekend: 'Weekends (Sat-Sun)',
                    note: 'Note: Breakdown assumes standard Mon-Fri work week.'
                },
                'zh-CN': {
                    title: 'üóìÔ∏è Â§©Êï∞Èó¥ÈöîËÆ°ÁÆóÂô®',
                    lbl_start: 'ÂºÄÂßãÊó•Êúü',
                    lbl_end: 'ÁªìÊùüÊó•Êúü',
                    opt_include: 'ÂåÖÂê´ÁªìÊùüÊó•Êúü (Â§©Êï∞+1)',
                    btn_calc: 'ËÆ°ÁÆóÈó¥Èöî',
                    res_total: 'ÊÄªÂ§©Êï∞',
                    res_working: 'Â∑•‰ΩúÊó• (Âë®‰∏ÄËá≥Âë®‰∫î)',
                    res_weekend: 'Âë®Êú´ (Âë®ÂÖ≠Âë®Êó•)',
                    note: 'Ê≥®ÊÑèÔºöÂ∑•‰ΩúÊó•ÁªüËÆ°Âü∫‰∫éÊ†áÂáÜ‰∫îÂ§©Â∑•‰ΩúÂà∂„ÄÇ'
                },
                'zh-TW': {
                    title: 'üóìÔ∏è Â§©Êï∏ÈñìÈöîË®àÁÆóÂô®',
                    lbl_start: 'ÈñãÂßãÊó•Êúü',
                    lbl_end: 'ÁµêÊùüÊó•Êúü',
                    opt_include: 'ÂåÖÂê´ÁµêÊùüÊó•Êúü (Â§©Êï∏+1)',
                    btn_calc: 'Ë®àÁÆóÈñìÈöî',
                    res_total: 'Á∏ΩÂ§©Êï∏',
                    res_working: 'Â∑•‰ΩúÊó• (ÈÄ±‰∏ÄËá≥ÈÄ±‰∫î)',
                    res_weekend: 'ÈÄ±Êú´ (ÈÄ±ÂÖ≠ÈÄ±Êó•)',
                    note: 'Ê≥®ÊÑèÔºöÂ∑•‰ΩúÊó•Áµ±Ë®àÂü∫ÊñºÊ®ôÊ∫ñ‰∫îÂ§©Â∑•‰ΩúÂà∂„ÄÇ'
                },
                'ja': {
                    title: 'üóìÔ∏è Êó•Êï∞Ë®àÁÆó',
                    lbl_start: 'ÈñãÂßãÊó•',
                    lbl_end: 'ÁµÇ‰∫ÜÊó•',
                    opt_include: 'ÁµÇ‰∫ÜÊó•„ÇíÂê´„ÇÅ„Çã (+1Êó•)',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_total: 'Á∑èÊó•Êï∞',
                    res_working: 'Âπ≥Êó• (Êúà-Èáë)',
                    res_weekend: 'ÈÄ±Êú´ (Âúü-Êó•)',
                    note: 'Âπ≥Êó•Ë®àÁÆó„ÅØÂúüÊó•‰ºë„Åø„ÇíÂâçÊèê„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ'
                },
                'ru': {
                    title: 'üóìÔ∏è –†–∞–∑–Ω–∏—Ü–∞ –¥–∞—Ç',
                    lbl_start: '–ù–∞—á–∞–ª–æ',
                    lbl_end: '–ö–æ–Ω–µ—Ü',
                    opt_include: '–í–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å (+1)',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_total: '–í—Å–µ–≥–æ –¥–Ω–µ–π',
                    res_working: '–ë—É–¥–Ω–∏–µ (–ü–Ω-–ü—Ç)',
                    res_weekend: '–í—ã—Ö–æ–¥–Ω—ã–µ (–°–±-–í—Å)',
                    note: '–ë—É–¥–Ω–∏–µ –¥–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ü–Ω-–ü—Ç.'
                },
                'es': {
                    title: 'üóìÔ∏è Calculadora de D√≠as',
                    lbl_start: 'Fecha Inicial',
                    lbl_end: 'Fecha Final',
                    opt_include: 'Incluir fecha final (+1 d√≠a)',
                    btn_calc: 'Calcular',
                    res_total: 'D√≠as Totales',
                    res_working: 'D√≠as Laborables',
                    res_weekend: 'Fines de Semana',
                    note: 'Laborables basados en Lun-Vie.'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('dc-lang').value;
                const texts = DaysCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="days_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
            },

            calc: () => {
                const startStr = document.getElementById('dc-start').value;
                const endStr = document.getElementById('dc-end').value;
                const includeEnd = document.getElementById('dc-include').checked;

                if (!startStr || !endStr) return;

                const start = new Date(startStr);
                const end = new Date(endStr);

                // Ensure order
                let d1 = start < end ? start : end;
                let d2 = start < end ? end : start;

                // Total Days
                let diffTime = Math.abs(d2 - d1);
                let totalDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (includeEnd) totalDays += 1;

                // Working Days Loop (Simple but reliable for reasonable ranges)
                let working = 0;
                let weekend = 0;
                
                // Clone d1 to iterate
                let current = new Date(d1);
                // Adjust loop limit based on includeEnd
                // If includeEnd is false, we count up to d2 (exclusive of d2 usually in strict diff, 
                // but usually "Difference" implies d2-d1. If we walk days, we walk totalDays times.)
                
                // Let's iterate exactly 'totalDays' times starting from d1
                for (let i = 0; i < totalDays; i++) {
                    const day = current.getDay();
                    if (day === 0 || day === 6) { // 0=Sun, 6=Sat
                        weekend++;
                    } else {
                        working++;
                    }
                    current.setDate(current.getDate() + 1);
                }

                document.getElementById('res-total').innerText = totalDays;
                document.getElementById('res-working').innerText = working;
                document.getElementById('res-weekend').innerText = weekend;

                document.getElementById('dc-result-box').classList.remove('hidden');
            }
        };

        // Init
        document.getElementById('dc-start').valueAsDate = new Date();
        const tmr = new Date();
        tmr.setDate(tmr.getDate() + 30);
        document.getElementById('dc-end').valueAsDate = tmr;
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>