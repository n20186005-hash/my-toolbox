<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Difference Calculator</title>
    <!-- SEO Canonical Tag -->
    <link rel="canonical" href="https://toolboxpro.top/modules/date-time/worldwide-time-differences-for-any-city.html" />
    
    <!-- Basic Meta Info -->
    <meta name="tool-id" content="time_difference_calc">
    <meta name="category" content="date-time">
    <meta name="icon" content="ğŸ•°ï¸">
    
    <!-- Default English Meta -->
    <meta name="title" content="Time Difference Calculator - World Clock & Time Zone Converter">
    <meta name="description" content="Calculate the time difference between two cities or time zones worldwide. Find the best time to call or schedule meetings across different locations.">
    
    <!-- Multilingual Meta Config -->
    <meta name="lang-title-zh-CN" content="å…¨çƒåŸå¸‚æ—¶å·®è®¡ç®—å™¨ - ä¸–ç•Œæ—¶é’Ÿä¸è·¨æ—¶åŒºåä½œç¥å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—å…¨çƒä¸¤ä¸ªåŸå¸‚æˆ–æ—¶åŒºä¹‹é—´çš„æ—¶é—´å·®ã€‚æŸ¥è¯¢å¼‚åœ°å½“å‰æ—¶é—´ï¼Œæ–¹ä¾¿å®‰æ’è·¨å›½ä¼šè®®æˆ–é€šè¯ã€‚è‡ªåŠ¨é€‚é…å¤ä»¤æ—¶ã€‚">
    
    <meta name="lang-title-zh-TW" content="å…¨çƒåŸå¸‚æ™‚å·®è¨ˆç®—å™¨ - ä¸–ç•Œæ™‚é˜èˆ‡è·¨æ™‚å€å”ä½œç¥å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—å…¨çƒå…©å€‹åŸå¸‚æˆ–æ™‚å€ä¹‹é–“çš„æ™‚é–“å·®ã€‚æŸ¥è©¢ç•°åœ°ç•¶å‰æ™‚é–“ï¼Œæ–¹ä¾¿å®‰æ’è·¨åœ‹æœƒè­°æˆ–é€šè©±ã€‚è‡ªå‹•é©é…å¤ä»¤æ™‚é–“ã€‚">
    
    <meta name="lang-title-ja" content="ä¸–ç•Œéƒ½å¸‚æ™‚å·®è¨ˆç®—æ©Ÿ - ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›ï¼†ä¼šè­°èª¿æ•´ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ä¸–ç•Œä¸­ã®2ã¤ã®éƒ½å¸‚ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³é–“ã®æ™‚å·®ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ç•°ãªã‚‹å ´æ‰€é–“ã§ã®é›»è©±ã‚„ä¼šè­°ã®æœ€é©ãªæ™‚é–“ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸">
    <meta name="lang-description-ru" content="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ²ÑƒĞ¼Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ñ‡Ğ°ÑĞ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾ÑÑĞ°Ğ¼Ğ¸. ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ»ÑƒÑ‡ÑˆĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ»Ñ Ğ·Ğ²Ğ¾Ğ½ĞºĞ¾Ğ² Ğ¸Ğ»Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²ÑÑ‚Ñ€ĞµÑ‡.">

    <meta name="lang-title-pl" content="Kalkulator RÃ³Å¼nicy Czasu - Zegar Åšwiatowy">
    <meta name="lang-description-pl" content="Oblicz rÃ³Å¼nicÄ™ czasu miÄ™dzy dwoma miastami na Å›wiecie. ZnajdÅº najlepszy czas na rozmowÄ™ lub spotkanie biznesowe.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background: #f8fafc; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: #1e293b;
        }
        .tool-container { 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
        }
        .card { 
            background: white; 
            border-radius: 16px; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            border: 1px solid #e2e8f0;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        /* Custom Scrollbar for list */
        datalist {
            max-height: 200px;
            overflow-y: auto;
        }

        /* Swap Button Animation */
        .swap-btn {
            background: #f1f5f9;
            color: #64748b;
            border-radius: 50%;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #e2e8f0;
            cursor: pointer;
        }
        .swap-btn:hover {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
            transform: rotate(180deg);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        /* Result Animation */
        .result-box {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
        }
        .result-box.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Input Styling */
        .custom-input {
            transition: all 0.2s;
            border: 1px solid #cbd5e1;
        }
        .custom-input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            outline: none;
        }

        /* Clock Cards */
        .clock-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            transition: transform 0.2s;
        }
        .clock-card:hover {
            transform: translateY(-2px);
        }

        /* Popular Cities */
        .popular-tag {
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid #e2e8f0;
        }
        .popular-tag:hover {
            border-color: #93c5fd;
            background-color: #eff6ff;
            transform: translateY(-1px);
        }
        .btn-delete {
            opacity: 0;
            transition: opacity 0.2s;
        }
        .popular-tag:hover .btn-delete {
            opacity: 1;
        }

        /* Introduction Content Switching */
        .lang-content {
            display: none;
        }
        .lang-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .article-content h1 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #1e293b; line-height: 1.4; }
        .article-content h2 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #334155; }
        .article-content p { margin-bottom: 1rem; line-height: 1.7; color: #475569; }
        .article-content strong { color: #0f172a; font-weight: 600; }
    </style>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="tool-container">
        <!-- Main Tool Card -->
        <div class="card relative z-10">
            <!-- Header & Language -->
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
                <h1 class="text-2xl font-bold text-slate-800 flex items-center gap-3">
                    <span class="text-3xl filter drop-shadow-sm">ğŸ•°ï¸</span>
                    <span data-i18n="title">Time Difference Calculator</span>
                </h1>
                
                <div class="relative w-full sm:w-auto">
                    <select id="lang-select" onchange="TimeCalc.changeLang()" 
                            class="w-full sm:w-auto appearance-none bg-slate-50 border border-slate-200 text-slate-600 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 pr-8 cursor-pointer hover:bg-slate-100 transition-colors">
                        <option value="en" selected>ğŸ‡ºğŸ‡¸ English</option>
                        <option value="zh-CN">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</option>
                        <option value="zh-TW">ğŸ‡­ğŸ‡° ç¹é«”ä¸­æ–‡</option>
                        <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                        <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                        <option value="pl">ğŸ‡µğŸ‡± Polski</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                </div>
            </div>

            <!-- Input Section -->
            <div class="flex flex-col md:flex-row items-end md:items-center gap-4 mb-8">
                <div class="w-full relative">
                    <label class="block mb-2 text-xs font-bold uppercase tracking-wider text-slate-500" data-i18n="label_from">From</label>
                    <input type="text" id="city-a" list="cities-list" 
                           class="custom-input bg-slate-50 text-slate-900 text-lg rounded-xl block w-full p-4" 
                           placeholder="e.g. New York">
                </div>
                
                <div class="flex-shrink-0 mb-1 mx-auto md:mx-0 z-10 -my-2 md:my-0">
                    <button class="swap-btn shadow-sm" onclick="TimeCalc.swapCities()" aria-label="Swap Cities">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                        </svg>
                    </button>
                </div>

                <div class="w-full relative">
                    <label class="block mb-2 text-xs font-bold uppercase tracking-wider text-slate-500" data-i18n="label_to">To</label>
                    <input type="text" id="city-b" list="cities-list" 
                           class="custom-input bg-slate-50 text-slate-900 text-lg rounded-xl block w-full p-4" 
                           placeholder="e.g. London">
                </div>
            </div>

            <datalist id="cities-list"></datalist>

            <button onclick="TimeCalc.manualCalc()" 
                    class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-bold rounded-xl text-lg px-5 py-4 mb-2 focus:outline-none transition-all shadow-md hover:shadow-lg flex justify-center items-center gap-2 transform active:scale-[0.99]" 
                    id="btn-calc">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span data-i18n="btn_calc">Calculate Time Difference</span>
            </button>
            
            <div id="error-msg" class="hidden mt-3 p-3 text-sm text-red-700 bg-red-100 rounded-lg text-center font-medium animate-pulse"></div>

            <!-- Result Section -->
            <div id="result-box" class="result-box mt-8 pt-8 border-t border-slate-100">
                <div class="text-center mb-8">
                    <div class="main-diff text-3xl md:text-4xl font-extrabold text-blue-700 leading-tight mb-2" id="diff-text"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 relative">
                    <!-- City A -->
                    <div class="clock-card p-6 rounded-2xl border border-slate-200 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-1.5 h-full bg-blue-500"></div>
                        <div class="clock-label text-sm font-bold text-slate-400 uppercase tracking-widest mb-1" id="label-city-a"></div>
                        <div class="clock-time text-4xl font-black text-slate-800 tracking-tight" id="time-city-a">--:--</div>
                        <div class="clock-date text-slate-500 font-medium mt-1" id="date-city-a">--</div>
                        <div class="text-xs text-slate-400 mt-3 font-mono bg-slate-50 inline-block px-2 py-1 rounded" id="tz-city-a"></div>
                    </div>

                    <!-- City B -->
                    <div class="clock-card p-6 rounded-2xl border border-slate-200 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-1.5 h-full bg-emerald-500"></div>
                        <div class="clock-label text-sm font-bold text-slate-400 uppercase tracking-widest mb-1" id="label-city-b"></div>
                        <div class="clock-time text-4xl font-black text-slate-800 tracking-tight" id="time-city-b">--:--</div>
                        <div class="clock-date text-slate-500 font-medium mt-1" id="date-city-b">--</div>
                        <div class="text-xs text-slate-400 mt-3 font-mono bg-slate-50 inline-block px-2 py-1 rounded" id="tz-city-b"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Popular Cities Section -->
        <div class="card">
            <div class="flex justify-between items-center mb-5 border-b border-slate-100 pb-3">
                <h3 class="text-lg font-bold text-slate-700 flex items-center gap-2">
                    <span class="text-amber-500">âš¡</span> 
                    <span data-i18n="popular_title">Popular Cities</span>
                </h3>
                <div class="flex gap-2 text-xs font-medium">
                    <button onclick="TimeCalc.addCurrentCity()" class="px-3 py-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors flex items-center gap-1">
                        <span>+</span> <span data-i18n="btn_add">Add</span>
                    </button>
                    <button onclick="TimeCalc.clearPopularCities()" class="px-3 py-1.5 bg-slate-100 text-slate-600 rounded-md hover:bg-slate-200 transition-colors">
                        <span data-i18n="btn_clear">Clear</span>
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3" id="popular-grid">
                <!-- JS Populated -->
            </div>
            
            <div id="empty-msg" class="hidden text-center text-slate-400 py-6 text-sm italic">
                <span data-i18n="msg_empty">List is empty</span>
                <button onclick="TimeCalc.restoreDefaultPopular()" class="text-blue-500 hover:text-blue-600 font-medium ml-2 underline decoration-blue-200 hover:decoration-blue-500" data-i18n="btn_restore">Restore Default</button>
            </div>
        </div>

        <!-- Introduction Content (Multilingual) -->
        <div class="card article-content">
            <!-- Simplified Chinese (Default for CN users) -->
            <div id="intro-zh-CN" class="lang-content">
                <h1>ğŸ•°ï¸ å…¨çƒåŸå¸‚æ—¶å·®è®¡ç®—å™¨ï¼šå•†åŠ¡äººå£«çš„è·¨æ—¶åŒºåä½œç¥å™¨</h1>
                <p>ä½œä¸ºå¸¸å¹´ç©¿æ¢­åœ¨ä¸åŒæ—¶åŒºã€é¢‘ç¹å¯¹æ¥è·¨å›½ä¼šè®®çš„å•†åŠ¡äººï¼Œæˆ‘å¤ªæ‡‚è·¨æ—¶åŒºæ²Ÿé€šçš„ç—›ç‚¹äº†â€”â€”æƒ³ç»™çº½çº¦çš„å®¢æˆ·å‘é‚®ä»¶æ€•æ‰“æ‰°äººå®¶æ·±å¤œä¼‘æ¯ï¼Œå’Œä¼¦æ•¦çš„åˆä½œä¼™ä¼´æ•²å®šä¼šè®®æ—¶é—´æ€»ç®—é”™æ—¶å·®ï¼Œç”šè‡³å› ä¸ºä¸€æ¬¡æ—¶åŒºè¯¯åˆ¤é”™è¿‡é‡è¦é¡¹ç›®èŠ‚ç‚¹â€¦â€¦ç›´åˆ°æˆ‘ç”¨äº†è¿™æ¬¾å…¨çƒåŸå¸‚æ—¶å·®è®¡ç®—å™¨ï¼Œæ‰ç®—å½»åº•å‘Šåˆ«äº†â€œæ—¶é—´æ··ä¹±â€çš„å°´å°¬ã€‚</p>
                <p>è¿™æ¬¾å·¥å…·ç®€ç›´æ˜¯ä¸ºå•†åŠ¡åœºæ™¯é‡èº«å®šåˆ¶çš„ï¼æ“ä½œç‰¹åˆ«ç®€å•ï¼Œä¸ç”¨è®°å¤æ‚çš„æ—¶åŒºåç§»é‡ï¼Œä¹Ÿä¸ç”¨æ‰‹åŠ¨æ¢ç®—å¤ä»¤æ—¶ï¼Œåªè¦è¾“å…¥ä¸¤ä¸ªåŸå¸‚çš„åç§°ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨ç²¾å‡†ç®—å‡ºä¸¤åœ°çš„æ—¶å·®ï¼Œè¿˜ä¼šåŒæ­¥æ˜¾ç¤ºå½“å‰å„è‡ªçš„å®æ—¶æ—¶é—´ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ¸…è°é‚£è¾¹æ˜¯å·¥ä½œæ—¥ã€è°é‚£è¾¹æ­£å¤„äºä¼‘æ¯æ—¶æ®µã€‚</p>
                
                <h2>æ™ºèƒ½å¯¹æ¯”ï¼Œè½»æ¾å®šä¼š</h2>
                <p>å°±åƒæ˜¨å¤©ï¼Œæˆ‘è¦åè°ƒåŒ—äº¬ã€æ—§é‡‘å±±ã€è¿ªæ‹œä¸‰åœ°çš„é¡¹ç›®è¯„å®¡ä¼šã€‚å…ˆè¾“å…¥â€œåŒ—äº¬â€å’Œâ€œæ—§é‡‘å±±â€ï¼Œç¬é—´å°±çŸ¥é“æ—§é‡‘å±±æ¯”åŒ—äº¬æ…¢16ä¸ªå°æ—¶ï¼ŒåŒ—äº¬ä¸Šåˆ10ç‚¹å¯¹åº”æ—§é‡‘å±±å‰ä¸€å¤©æ™šä¸Š6ç‚¹ï¼›å†æŸ¥åŒ—äº¬å’Œè¿ªæ‹œï¼Œå‘ç°è¿ªæ‹œæ¯”åŒ—äº¬æ…¢4ä¸ªå°æ—¶ï¼ŒåŒ—äº¬ä¸Šåˆ10ç‚¹æ˜¯è¿ªæ‹œæ—©ä¸Š6ç‚¹â€”â€”è¿™æ ·ä¸€å¯¹æ¯”ï¼Œç›´æ¥æ•²å®šæŠŠä¼šè®®å®šåœ¨åŒ—äº¬ä¸‹åˆ3ç‚¹ï¼Œæ­¤æ—¶æ—§é‡‘å±±æ˜¯å‡Œæ™¨1ç‚¹ï¼ˆä¸è¡Œï¼Œå¾—è°ƒæ•´ï¼‰ï¼Œå†æ¢ä¸ªæ—¶é—´ï¼šåŒ—äº¬ä¸Šåˆ9ç‚¹ï¼Œæ—§é‡‘å±±æ˜¯å‰ä¸€å¤©æ™šä¸Š5ç‚¹ï¼ˆå®¢æˆ·åˆšä¸‹ç­ï¼Œå¯èƒ½æœ‰ç©ºï¼‰ï¼Œè¿ªæ‹œæ˜¯å‡Œæ™¨5ç‚¹ï¼ˆå¤ªæ—©äº†ï¼‰ï¼›æœ€åç”¨å·¥å…·åå¤æ¯”å¯¹ï¼Œç»ˆäºæ‰¾åˆ°ä¸‰æ–¹éƒ½åˆé€‚çš„æ—¶é—´ï¼šåŒ—äº¬ä¸‹åˆ4ç‚¹ã€æ—§é‡‘å±±å‡Œæ™¨12ç‚¹ï¼ˆå®¢æˆ·è‡ªæ„¿åŠ ç­ï¼‰ã€è¿ªæ‹œä¸­åˆ12ç‚¹ï¼Œå®Œç¾è§£å†³äº†è·¨æ—¶åŒºä¼šè®®çš„æ—¶é—´éš¾é¢˜ã€‚</p>
                
                <h2>å¤ä»¤æ—¶è‡ªåŠ¨é€‚é…</h2>
                <p>å®ƒè¿˜èƒ½è‡ªåŠ¨é€‚é…å¤ä»¤æ—¶è§„åˆ™ï¼Œè¿™ä¸€ç‚¹å¤ªçœå¿ƒäº†ï¼ä¹‹å‰è‡ªå·±ç®—æ—¶å·®ï¼Œæ€»å¿˜äº†æœ‰äº›å›½å®¶ä¼šåˆ‡æ¢å¤ä»¤æ—¶ï¼Œå¯¼è‡´å¥½å‡ æ¬¡æŠŠæ—¶é—´ç®—é”™åŠå°æ—¶ï¼Œæ²Ÿé€šèµ·æ¥ç‰¹åˆ«è¢«åŠ¨ã€‚ç°åœ¨æœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œä¸ç®¡æ˜¯ç¾å›½ã€æ¬§æ´²è¿˜æ˜¯æ¾³æ´²çš„åŸå¸‚ï¼Œåªè¦è¾“å…¥åç§°ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨æŒ‰ç…§å½“åœ°æœ€æ–°çš„æ—¶åŒºè§„åˆ™è®¡ç®—ï¼Œç²¾å‡†åº¦æ‹‰æ»¡ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å»æŸ¥å“ªä¸ªå›½å®¶ä»€ä¹ˆæ—¶å€™å¼€å§‹å¤ä»¤æ—¶ã€ä»€ä¹ˆæ—¶å€™ç»“æŸäº†ã€‚</p>
                
                <h2>å•†åŠ¡äººçš„â€œéšå½¢åŠ©æ‰‹â€</h2>
                <p>å¯¹äºç»å¸¸éœ€è¦å®‰æ’è·¨å›½å‡ºå·®ã€å¯¹æ¥æµ·å¤–ä¸šåŠ¡çš„å•†åŠ¡äººæ¥è¯´ï¼Œè¿™æ¬¾å·¥å…·å°±æ˜¯é«˜æ•ˆåä½œçš„â€œéšå½¢åŠ©æ‰‹â€ã€‚ä¸ç”¨ä¸‹è½½APPï¼Œä¸ç”¨è®°å¤æ‚çš„å…¬å¼ï¼Œæ‰“å¼€ç½‘é¡µå°±èƒ½ç”¨ï¼Œä¸ç®¡æ˜¯åœ¨åŠå…¬å®¤ã€æœºåœºå€™æœºè¿˜æ˜¯é…’åº—é‡Œï¼Œéšæ—¶éƒ½èƒ½å¿«é€ŸæŸ¥è¯¢æ—¶å·®ï¼Œå¸®ä½ åˆç†è§„åˆ’æ²Ÿé€šæ—¶é—´ã€é¿å¼€å¯¹æ–¹çš„ä¼‘æ¯æ—¶æ®µï¼Œæ—¢ä½“ç°äº†å¯¹åˆä½œä¼™ä¼´çš„å°Šé‡ï¼Œä¹Ÿèƒ½è®©å·¥ä½œæ²Ÿé€šæ›´é¡ºç•…ï¼Œå¤§å¤§æå‡è·¨æ—¶åŒºåä½œçš„æ•ˆç‡ã€‚</p>
                <p>å¦‚æœä½ ä¹Ÿç»å¸¸å’Œä¸åŒæ—¶åŒºçš„å®¢æˆ·ã€åŒäº‹æ‰“äº¤é“ï¼Œè¿™æ¬¾å…¨çƒåŸå¸‚æ—¶å·®è®¡ç®—å™¨ç»å¯¹å€¼å¾—æ”¶è—ï¼Œå®ƒèƒ½å¸®ä½ å‘Šåˆ«æ—¶å·®ç„¦è™‘ï¼Œè®©è·¨æ—¶åŒºå•†åŠ¡æ²Ÿé€šå˜å¾—ç®€å•åˆé«˜æ•ˆï¼</p>
            </div>

            <!-- Traditional Chinese (HK) -->
            <div id="intro-zh-TW" class="lang-content">
                <h1>ğŸ•°ï¸ å…¨çƒåŸå¸‚æ™‚å·®è¨ˆç®—å™¨ï¼šå•†å‹™äººå£«çš„è·¨æ™‚å€å”ä½œç¥å™¨</h1>
                <p>ä½œç‚ºå¸¸å¹´ç©¿æ¢­ä¸åŒæ™‚å€ã€é »ç¹å°æ¥è·¨åœ‹æœƒè­°çš„å•†å‹™äººï¼Œæˆ‘å¤ªæ‡‚è·¨æ™‚å€æºé€šçš„ç—›é»äº†â€”â€”æƒ³çµ¦ç´ç´„çš„å®¢æˆ¶ç™¼éƒµä»¶ï¼Œæ€•æ‰“æ“¾äººå®¶æ·±å¤œä¼‘æ¯ï¼›å’Œå€«æ•¦çš„åˆä½œå¤¥ä¼´æ•²å®šæœƒè­°æ™‚é–“ï¼Œç¸½ç®—éŒ¯æ™‚å·®ï¼›ç”šè‡³æ›¾å› ç‚ºä¸€æ¬¡æ™‚å€èª¤åˆ¤ï¼ŒéŒ¯éäº†é‡è¦çš„é …ç›®ç¯€é»â€¦â€¦ç›´åˆ°æˆ‘ç”¨äº†é€™æ¬¾å…¨çƒåŸå¸‚æ™‚å·®è¨ˆç®—å™¨ï¼Œæ‰ç®—å½»åº•æ“ºè„«ã€Œæ™‚é–“æ··äº‚ã€çš„å°·å°¬ã€‚</p>
                <p>é€™æ¬¾å·¥å…·ç°¡ç›´æ˜¯ç‚ºå•†å‹™å ´æ™¯é‡èº«æ‰“é€ ï¼æ“ä½œè¶…ç°¡å–®ï¼Œä¸ç”¨è¨˜è¤‡é›œçš„æ™‚å€åç§»é‡ï¼Œä¹Ÿä¸ç”¨æ‰‹å‹•æ›ç®—å¤ä»¤æ™‚é–“ï¼Œåªè¦è¼¸å…¥å…©å€‹åŸå¸‚çš„åç¨±ï¼Œå®ƒå°±èƒ½è‡ªå‹•ç²¾ç¢ºç®—å‡ºå…©åœ°æ™‚å·®ï¼Œé‚„æœƒåŒæ­¥é¡¯ç¤ºç•¶å‰å„è‡ªçš„å¯¦æ™‚æ™‚é–“ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ¸…èª°é‚£é‚Šæ˜¯å·¥ä½œæ—¥ã€èª°é‚£é‚Šæ­£è™•æ–¼ä¼‘æ¯æ™‚æ®µã€‚</p>
                
                <h2>å¯¦ä¾‹æ¼”ç·´ï¼šè¼•é¬†æå®šä¸‰åœ°æœƒè­°</h2>
                <p>å°±åƒä¸Šé€±ï¼Œæˆ‘è¦å”èª¿é¦™æ¸¯ã€èˆŠé‡‘å±±ã€æœæ‹œä¸‰åœ°çš„é …ç›®è©•å¯©æœƒã€‚å…ˆè¼¸å…¥ã€Œé¦™æ¸¯ã€å’Œã€ŒèˆŠé‡‘å±±ã€ï¼Œç¬é–“å°±çŸ¥é“èˆŠé‡‘å±±æ¯”é¦™æ¸¯æ…¢16å€‹å°æ™‚ï¼Œé¦™æ¸¯ä¸Šåˆ10é»å°æ‡‰èˆŠé‡‘å±±å‰ä¸€å¤©æ™šä¸Š6é»ï¼›å†æŸ¥é¦™æ¸¯å’Œæœæ‹œï¼Œç™¼ç¾æœæ‹œæ¯”é¦™æ¸¯æ…¢4å€‹å°æ™‚ï¼Œé¦™æ¸¯ä¸Šåˆ10é»æ˜¯æœæ‹œæ—©ä¸Š6é»â€”â€”é€™æ¨£ä¸€æ¯”å°ï¼ŒåŸæœ¬æƒ³æŠŠæœƒè­°å®šåœ¨é¦™æ¸¯ä¸‹åˆ3é»ï¼Œæ­¤æ™‚èˆŠé‡‘å±±æ˜¯å‡Œæ™¨1é»ï¼ˆè‚¯å®šä¸è¡Œï¼‰ï¼Œå†æ›æ™‚é–“ï¼šé¦™æ¸¯ä¸Šåˆ9é»ï¼ŒèˆŠé‡‘å±±æ˜¯å‰ä¸€å¤©æ™šä¸Š5é»ï¼ˆå®¢æˆ¶å‰›ä¸‹ç­ï¼Œæˆ–è¨±æœ‰ç©ºï¼‰ï¼Œæœæ‹œæ˜¯å‡Œæ™¨5é»ï¼ˆå¤ªæ—©äº†ï¼‰ï¼›æœ€å¾Œç”¨å·¥å…·åè¦†å°ç…§ï¼Œçµ‚æ–¼æ‰¾åˆ°ä¸‰æ–¹éƒ½åˆé©çš„æ™‚é–“ï¼šé¦™æ¸¯ä¸‹åˆ4é»ã€èˆŠé‡‘å±±å‡Œæ™¨12é»ï¼ˆå®¢æˆ¶è‡ªé¡˜åŠ ç­ï¼‰ã€æœæ‹œä¸­åˆ12é»ï¼Œå®Œç¾è§£æ±ºäº†è·¨æ™‚å€æœƒè­°çš„æ™‚é–“é›£é¡Œã€‚</p>
                
                <h2>è‡ªå‹•é©é…å¤ä»¤æ™‚é–“</h2>
                <p>å®ƒé‚„èƒ½è‡ªå‹•åŒ¹é…å¤ä»¤æ™‚é–“è¦å‰‡ï¼Œé€™é»çœŸçš„å¤ªçœå¿ƒäº†ï¼ä»¥å‰è‡ªå·±ç®—æ™‚å·®ï¼Œç¸½å¿˜è¨˜æœ‰äº›åœ‹å®¶æœƒåˆ‡æ›å¤ä»¤æ™‚é–“ï¼Œå°è‡´å¥½å¹¾æ¬¡æŠŠæ™‚é–“ç®—éŒ¯åŠå°æ™‚ï¼Œæºé€šèµ·ä¾†ç‰¹åˆ¥è¢«å‹•ã€‚ç¾åœ¨æœ‰äº†é€™æ¬¾å·¥å…·ï¼Œä¸ç®¡æ˜¯ç¾åœ‹ã€æ­æ´²é‚„æ˜¯æ¾³æ´²çš„åŸå¸‚ï¼Œåªè¦è¼¸å…¥åç¨±ï¼Œå®ƒå°±æœƒè‡ªå‹•æŒ‰ç…§ç•¶åœ°æœ€æ–°çš„æ™‚å€è¦å‰‡è¨ˆç®—ï¼Œç²¾ç¢ºåº¦æ»¿åˆ†ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹å‹•æŸ¥å“ªå€‹åœ‹å®¶ä»€éº¼æ™‚å€™é–‹å§‹å¤ä»¤æ™‚é–“ã€ä»€éº¼æ™‚å€™çµæŸäº†ã€‚</p>
                
                <h2>å•†å‹™å·®æ—…çš„å¿…å‚™å·¥å…·</h2>
                <p>å°æ–¼ç¶“å¸¸éœ€è¦å®‰æ’è·¨åœ‹å‡ºå·®ã€å°æ¥æµ·å¤–æ¥­å‹™çš„å•†å‹™äººä¾†èªªï¼Œé€™æ¬¾å·¥å…·å°±æ˜¯é«˜æ•ˆå”ä½œçš„ã€Œéš±å½¢åŠ©æ‰‹ã€ã€‚ä¸ç”¨ä¸‹è¼‰APPï¼Œä¸ç”¨è¨˜è¤‡é›œå…¬å¼ï¼Œæ‰“é–‹ç¶²é å°±èƒ½ç”¨ï¼Œç„¡è«–æ˜¯åœ¨è¾¦å…¬å®¤ã€æ©Ÿå ´å€™æ©Ÿé‚„æ˜¯é…’åº—è£¡ï¼Œéš¨æ™‚éƒ½èƒ½å¿«é€ŸæŸ¥è©¢æ™‚å·®ï¼Œå¹«ä½ åˆç†è¦åŠƒæºé€šæ™‚é–“ã€é¿é–‹å°æ–¹çš„ä¼‘æ¯æ™‚æ®µï¼Œæ—¢é«”ç¾äº†å°åˆä½œå¤¥ä¼´çš„å°Šé‡ï¼Œä¹Ÿèƒ½è®“å·¥ä½œæºé€šæ›´é †æš¢ï¼Œå¤§å¹…æå‡è·¨æ™‚å€å”ä½œçš„æ•ˆç‡ã€‚</p>
                <p>å¦‚æœä½ ä¹Ÿç¶“å¸¸å’Œä¸åŒæ™‚å€çš„å®¢æˆ¶ã€åŒäº‹æ‰“äº¤é“ï¼Œé€™æ¬¾å…¨çƒåŸå¸‚æ™‚å·®è¨ˆç®—å™¨çµ•å°å€¼å¾—æ”¶è—ï¼Œå®ƒèƒ½å¹«ä½ æ“ºè„«æ™‚å·®ç„¦æ…®ï¼Œè®“è·¨æ™‚å€å•†å‹™æºé€šè®Šå¾—ç°¡å–®åˆé«˜æ•ˆï¼å°¤å…¶æ˜¯æ˜¥ç¯€å‰è¦æ•²å®šæµ·å¤–åˆä½œç´°ç¯€æ™‚ï¼Œæœ‰äº†å®ƒï¼Œå†ä¹Ÿä¸ç”¨æ“”å¿ƒå› ç‚ºæ™‚å·®éŒ¯éèˆ‡å®¢æˆ¶çš„é—œéµæºé€šå•¦ï½</p>
            </div>

            <!-- English (US) -->
            <div id="intro-en" class="lang-content">
                <h1>ğŸ•°ï¸ Worldwide Time Difference Calculator: A Business Professionalâ€™s Must-Have</h1>
                <p>As a business professional whoâ€™s constantly on the go across time zones and frequently coordinates international meetings, I know all too well the pain points of cross-time-zone communicationâ€”I hesitate to email a New York client for fear of disturbing their late-night rest, always miscalculate the time difference when scheduling meetings with London partners, and even missed a crucial project milestone once due to a time zone mix-upâ€¦ That all changed when I started using this Worldwide Time Difference Calculator, which finally freed me from the hassle of â€œtime chaos.â€</p>
                
                <h2>Tailor-Made for Business</h2>
                <p>This tool is practically tailor-made for business scenarios! Itâ€™s incredibly easy to useâ€”no need to memorize complex time zone offsets or manually convert daylight saving time. Just enter the names of two cities, and it automatically calculates the exact time difference between them, while also displaying the current real-time in both locations. At a glance, you can see whoâ€™s in the workweek and whoâ€™s in their rest hours.</p>
                
                <h2>Solving Scheduling Dilemmas</h2>
                <p>Take yesterday, for exampleâ€”I needed to coordinate a project review meeting with participants in Beijing, San Francisco, and Dubai. First, I entered â€œBeijingâ€ and â€œSan Franciscoâ€ and instantly saw that San Francisco is 16 hours behind Beijing. Then I checked Beijing and Dubai, finding that Dubai is 4 hours behind Beijing. Finally, after repeatedly adjusting with the calculator, I found a time that worked for everyone: 4 PM Beijing time, 12 AM midnight in San Francisco (the client volunteered to work overtime), and 12 PM noon in Dubaiâ€”perfectly solving the cross-time-zone meeting scheduling dilemma.</p>
                
                <h2>DST? No Problem.</h2>
                <p>Whatâ€™s even more convenient is that it automatically adapts to daylight saving time (DST) rules! Before, when calculating time differences manually, I always forgot that some countries switch to DST, leading to several half-hour miscalculations that left me in a passive position during communications. Now, with this tool, whether itâ€™s a city in the US, Europe, or Australia, just enter the name, and it automatically calculates based on the latest local time zone rules with 100% accuracy.</p>
                
                <h2>Your "Invisible Assistant"</h2>
                <p>For business professionals who often arrange international business trips and collaborate with overseas partners, this tool is an â€œinvisible assistantâ€ for efficient collaboration. No need to download an app or memorize complicated formulasâ€”just open the webpage and use it anytime, whether youâ€™re in the office, waiting at the airport, or in a hotel. It helps you plan communication times wisely, avoid disturbing others during their rest hours, and shows respect to your partners.</p>
                <p>If you also frequently work with clients or colleagues in different time zones, this Worldwide Time Difference Calculator is definitely worth bookmarking. It eliminates time zone anxiety and makes cross-time-zone business communication simple and efficient!</p>
            </div>

            <!-- Polish -->
            <div id="intro-pl" class="lang-content">
                <h1>ğŸ•°ï¸ Kalkulator RÃ³Å¼nicy Czasu: NiezbÄ™dnik dla ProfesjonalistÃ³w w Biznesie MiÄ™dzynarodowym</h1>
                <p>Jako profesjonalista biznesowy, ktÃ³ry stale podrÃ³Å¼uje po rÃ³Å¼nych strefach czasowych i czÄ™sto koordynuje spotkania miÄ™dzynarodowe, doskonale rozumiem problemy zwiÄ…zane z komunikacjÄ… przez granice czasowe â€” zastanawiam siÄ™, czy wysÅ‚aÄ‡ e-mail klientowi z Nowego Jorku, bo bojÄ™ siÄ™ niepokoiÄ‡ go w gÅ‚Ä™bi nocy; zawsze mylÄ™ rÃ³Å¼nicÄ™ czasowÄ…, planujÄ…c spotkania z partnerami z Londynu; a raz nawet przegapiÅ‚em kluczowy etap projektu z powodu bÅ‚Ä™dnego obliczenia strefy czasowejâ€¦ Wszystko to siÄ™ zmieniÅ‚o, gdy zaczÄ…Å‚em korzystaÄ‡ z tego kalkulatora rÃ³Å¼nicy czasowych miÄ™dzy miastami Å›wiata, ktÃ³ry ostatecznie uwolniÅ‚ mnie od kÅ‚opotÃ³w z â€chaosem czasowymâ€.</p>
                
                <h2>Idealne dla Biznesu</h2>
                <p>To narzÄ™dzie jest praktycznie dostosowane do scenariuszy biznesowych! Jest niesamowicie proste w uÅ¼yciu â€” nie trzeba pamiÄ™taÄ‡ skomplikowanych przesuniÄ™Ä‡ stref czasowych ani rÄ™cznie konwertowaÄ‡ czasu letniego. Wystarczy wprowadziÄ‡ nazwy dwÃ³ch miast, a on automatycznie oblicza dokÅ‚adnÄ… rÃ³Å¼nicÄ™ czasowÄ… miÄ™dzy nimi, jednoczeÅ›nie wyÅ›wietlajÄ…c aktualny czas rzeczywisty w obu lokalizacjach.</p>
                
                <h2>PrzykÅ‚ad z Å»ycia WziÄ™ty</h2>
                <p>WeÅºmy wczoraj na przykÅ‚ad â€” musiaÅ‚em koordynowaÄ‡ spotkanie recenzenckie projektu z uczestnikami z Pekinu, San Francisco i Dubaju. Po wprowadzeniu danych do kalkulatora, udaÅ‚o mi siÄ™ znaleÅºÄ‡ idealny czas: 16:00 czasu pekiÅ„skiego, pÃ³Å‚noc w San Francisco i poÅ‚udnie w Dubaju. DziÄ™ki temu narzÄ™dziu uniknÄ…Å‚em pomyÅ‚ek i znalazÅ‚em kompromis dla wszystkich stron.</p>
                
                <h2>Automatyczna ObsÅ‚uga Czasu Letniego (DST)</h2>
                <p>Co jeszcze wygodniejsze, automatycznie dostosowuje siÄ™ do zasad czasu letniego (DST)! WczeÅ›niej, gdy obliczaÅ‚em rÃ³Å¼nicÄ™ czasowÄ… rÄ™cznie, zawsze zapominaÅ‚em, Å¼e niektÃ³re kraje przechodzÄ… na czas letni. Teraz z tym narzÄ™dziem, czy to miasto w USA, Europie czy Australii, wystarczy wprowadziÄ‡ nazwÄ™, a on automatycznie oblicza na podstawie najnowszych lokalnych zasad stref czasowych z 100% dokÅ‚adnoÅ›ciÄ….</p>
                
                <h2>TwÃ³j "Niewidzialny Asystent"</h2>
                <p>Dla profesjonalistÃ³w biznesowych, ktÃ³rzy czÄ™sto planujÄ… podrÃ³Å¼e biznesowe zagraniczne i wspÃ³Å‚pracujÄ… z partnerami za granicÄ…, to narzÄ™dzie jest â€niewidzialnym asystentemâ€ dla wydajnej wspÃ³Å‚pracy. Nie trzeba pobieraÄ‡ aplikacji ani pamiÄ™taÄ‡ skomplikowanych wzorÃ³w â€” po prostu otwÃ³rz stronÄ™ internetowÄ… i uÅ¼ywaj jej w dowolnym momencie. Pomaga on mÄ…drze planowaÄ‡ czasy komunikacji i wyraziÄ‡ szacunek dla partnerÃ³w.</p>
                <p>JeÅ›li rÃ³wnieÅ¼ czÄ™sto wspÃ³Å‚pracujesz z klientami lub kolegami z rÃ³Å¼nych stref czasowych, ten Kalkulator RÃ³Å¼nicy Czasowych MiÄ™dzy Miastami Åšwiata jest zdecydowanie wart zapamiÄ™tania. Eliminuje on lÄ™ki zwiÄ…zane z rÃ³Å¼nicÄ… czasowÄ… i sprawia, Å¼e komunikacja biznesowa staje siÄ™ prosta i wydajna!</p>
            </div>

            <!-- Japanese -->
            <div id="intro-ja" class="lang-content">
                <h1>ğŸ•°ï¸ ä¸–ç•Œéƒ½å¸‚æ™‚å·®è¨ˆç®—æ©Ÿï¼šãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³ã®ã‚¯ãƒ­ã‚¹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å”æ¥­ç¥å™¨</h1>
                <p>å¸¸ã«ç•°ãªã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’å¾€ãæ¥ã—ã€å¤šå›½ç±ä¼šè­°ã®èª¿æ•´ã«è¿½ã‚ã‚Œã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³ã¨ã—ã¦ã€ã‚¯ãƒ­ã‚¹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ‚©ã¿ã‚’æ·±ãçŸ¥ã£ã¦ã„ã¾ã™â€”â€”ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹æ™‚ã€æ·±å¤œã«è¿·æƒ‘ã‚’ã‹ã‘ã‚‹ã®ã‚’æã‚ŒãŸã‚Šã€ãƒ­ãƒ³ãƒ‰ãƒ³ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ä¼šè­°æ™‚é–“ã‚’èª¿æ•´ã™ã‚‹æ™‚ã€ã„ã¤ã‚‚æ™‚å·®ã‚’è¨ˆç®—é•ã„ã—ãŸã‚Šã€ç”šã ã—ã‘ã‚Œã°æ™‚å·®ã®èª¤åˆ¤ã§é‡è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¯€ç›®ã‚’é€ƒã—ãŸã“ã¨ã‚‚ã‚ã‚Šã¾ã™â€¦â€¦ã“ã®ã€Œä¸–ç•Œéƒ½å¸‚æ™‚å·®è¨ˆç®—æ©Ÿã€ã‚’ä½¿ã„å§‹ã‚ã¦ã‹ã‚‰ã€ã‚ˆã†ã‚„ãã€Œæ™‚é–“ã®æ··ä¹±ã€ã®æ‚©ã¿ã‹ã‚‰è§£æ”¾ã•ã‚Œã¾ã—ãŸã€‚</p>
                
                <h2>ãƒ“ã‚¸ãƒã‚¹ã‚·ãƒ¼ãƒ³ã«ç‰¹åŒ–</h2>
                <p>ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã¾ã•ã«ãƒ“ã‚¸ãƒã‚¹ã‚·ãƒ¼ãƒ³å‘ã‘ã«ç‰¹åŒ–ã—ã¦ã„ã¾ã™ï¼æ“ä½œã¯è¶…ç°¡å˜ã§ã€è¤‡é›‘ãªã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚ªãƒ•ã‚»ãƒƒãƒˆã‚’è¨˜æ†¶ã—ãŸã‚Šã€ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã‚’æ‰‹å‹•ã§æ›ç®—ã—ãŸã‚Šã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚2ã¤ã®éƒ½å¸‚åã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«æ­£ç¢ºãªæ™‚å·®ã‚’ç®—å‡ºã—ã€åŒæ™‚ã«ä¸¡åœ°åŸŸã®ç¾åœ¨ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚’è¡¨ç¤ºã—ã¦ãã‚Œã‚‹ãŸã‚ã€èª°ãŒå°±æ¥­æ—¥ã§ã€èª°ãŒä¼‘æ¯æ™‚é–“ã«ã‚ã‚‹ã®ã‹ä¸€ç›®äº†ç„¶ã§ã™ã€‚</p>
                
                <h2>3æ‹ ç‚¹ä¼šè­°ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«è§£æ±º</h2>
                <p>æ˜¨æ—¥ã®ä¾‹ã‚’æŒ™ã’ã¾ã—ã‚‡ã†â€”â€”åŒ—äº¬ã€ã‚µãƒ³ãƒ•ãƒ©ãƒ³ã‚·ã‚¹ã‚³ã€ãƒ‰ãƒã‚¤ã®3æ‹ ç‚¹ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ä¼šã‚’èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦å„éƒ½å¸‚ã®æ™‚é–“ã‚’ç¬æ™‚ã«æ¯”è¼ƒã—ã€æœ€çµ‚çš„ã«åŒ—äº¬ã®åˆå¾Œ4æ™‚ã€ã‚µãƒ³ãƒ•ãƒ©ãƒ³ã‚·ã‚¹ã‚³ã®åˆå‰0æ™‚ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒè‡ªç™ºçš„ã«æ®‹æ¥­ï¼‰ã€ãƒ‰ãƒã‚¤ã®æ­£åˆã¨ã„ã†ã€å…¨å“¡ã«ã¨ã£ã¦æœ€é©ãªæ™‚é–“ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>
                
                <h2>ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã‚‚è‡ªå‹•å¯¾å¿œ</h2>
                <p>ã•ã‚‰ã«ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã®ãƒ«ãƒ¼ãƒ«ã«è‡ªå‹•çš„ã«å¯¾å¿œã—ã¦ãã‚Œã‚‹ç‚¹ãŒã€æœ¬å½“ã«å¿ƒå¼·ã„ã§ã™ï¼ä»¥å‰æ‰‹å‹•ã§æ™‚å·®ã‚’è¨ˆç®—ã™ã‚‹æ™‚ã€ä¸€éƒ¨ã®å›½ã§ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã‚’å¿˜ã‚ŒãŒã¡ã§ã—ãŸãŒã€ã“ã®ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Œã°ã€ç¾åœ°ã®æœ€æ–°ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦è‡ªå‹•çš„ã«è¨ˆç®—ã—ã¦ãã‚Œã€æ­£ç¢ºæ€§ãŒæº€ç‚¹ã§ã™ã€‚</p>
                
                <h2>åŠ¹ç‡çš„ãªå”æ¥­ã®ã€Œã‚¤ãƒ³ãƒ“ã‚¸ãƒ–ãƒ«ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€</h2>
                <p>å¤šå›½ç±å‡ºå¼µã®æ‰‹é…ã‚„æµ·å¤–æ¥­å‹™ã®é€£æºãŒé »ç¹ãªãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³ã«ã¨ã£ã¦ã€ã“ã®ãƒ„ãƒ¼ãƒ«ã¯åŠ¹ç‡çš„ãªå”æ¥­ã‚’æ”¯æ´ã™ã‚‹ã€Œã‚¤ãƒ³ãƒ“ã‚¸ãƒ–ãƒ«ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€ã§ã™ã€‚ã‚¢ãƒ—ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚‚ä¸è¦ã§ã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚’é–‹ãã ã‘ã§ã„ã¤ã§ã‚‚ä½¿ç”¨å¯èƒ½ã§ã™ã€‚ç›¸æ‰‹ã®ä¼‘æ¯æ™‚é–“ã‚’é¿ã‘ã€åˆç†çš„ã«ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’è¨ˆç”»ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¸ã®æ•¬æ„ã‚’ç¤ºã™ã ã‘ã§ãªãã€æ¥­å‹™ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«ã—ã¾ã™ã€‚</p>
                <p>ã‚‚ã—ã‚ãªãŸã‚‚ç•°ãªã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚„åŒåƒšã¨é »ç¹ã«ã‚„ã‚Šå–ã‚Šã™ã‚‹å ´åˆã€ã“ã®ã€Œä¸–ç•Œéƒ½å¸‚æ™‚å·®è¨ˆç®—æ©Ÿã€ã¯å¿…ãšãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã«ç™»éŒ²ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ï¼</p>
            </div>
            
            <!-- Default / Fallback Intro for Russian or others -->
            <div id="intro-ru" class="lang-content">
                <h1>ğŸ•°ï¸ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸</h1>
                <p>Ğ­Ñ‚Ğ¾Ñ‚ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ñ‡Ğ½ÑƒÑ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ²ÑƒĞ¼Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ğ¼Ğ¸ Ğ¼Ğ¸Ñ€Ğ°. ĞĞ½ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ğ»ĞµÑ‚Ğ½ĞµĞµ Ğ¸ Ğ·Ğ¸Ğ¼Ğ½ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ.</p>
                <p>Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ·Ğ²Ğ¾Ğ½ĞºĞ¾Ğ², Ğ²ĞµĞ±Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ² Ğ¸ Ğ¿ÑƒÑ‚ĞµÑˆĞµÑÑ‚Ğ²Ğ¸Ğ¹. ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ²ÑƒÑ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ², Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ¸Ñ… Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ Ğ² Ñ‡Ğ°ÑĞ°Ñ….</p>
            </div>
        </div>
    </div>

    <script>
        // Expanded City Database
        const citiesDB = [
            { n: "New York", tz: "America/New_York" },
            { n: "London", tz: "Europe/London" },
            { n: "Paris", tz: "Europe/Paris" },
            { n: "Tokyo", tz: "Asia/Tokyo" },
            { n: "Beijing", tz: "Asia/Shanghai" },
            { n: "Shanghai", tz: "Asia/Shanghai" },
            { n: "Hong Kong", tz: "Asia/Hong_Kong" },
            { n: "Taipei", tz: "Asia/Taipei" },
            { n: "Singapore", tz: "Asia/Singapore" },
            { n: "Sydney", tz: "Australia/Sydney" },
            { n: "Moscow", tz: "Europe/Moscow" },
            { n: "Los Angeles", tz: "America/Los_Angeles" },
            { n: "Dubai", tz: "Asia/Dubai" },
            { n: "Mumbai", tz: "Asia/Kolkata" },
            { n: "Toronto", tz: "America/Toronto" },
            { n: "Berlin", tz: "Europe/Berlin" },
            { n: "Rome", tz: "Europe/Rome" },
            { n: "Bangkok", tz: "Asia/Bangkok" },
            { n: "Seoul", tz: "Asia/Seoul" },
            { n: "Cairo", tz: "Africa/Cairo" },
            { n: "Rio de Janeiro", tz: "America/Sao_Paulo" },
            { n: "Cape Town", tz: "Africa/Johannesburg" },
            { n: "Mexico City", tz: "America/Mexico_City" },
            { n: "Istanbul", tz: "Europe/Istanbul" },
            { n: "Jakarta", tz: "Asia/Jakarta" },
            { n: "Kyiv", tz: "Europe/Kyiv" },
            { n: "Vancouver", tz: "America/Vancouver" },
            { n: "San Francisco", tz: "America/Los_Angeles" },
            { n: "Chicago", tz: "America/Chicago" },
            { n: "Denver", tz: "America/Denver" },
            { n: "Phoenix", tz: "America/Phoenix" },
            { n: "Honolulu", tz: "Pacific/Honolulu" },
            { n: "Anchorage", tz: "America/Anchorage" },
            { n: "Auckland", tz: "Pacific/Auckland" },
            { n: "Perth", tz: "Australia/Perth" },
            { n: "New Delhi", tz: "Asia/Kolkata" },
            { n: "Kuala Lumpur", tz: "Asia/Kuala_Lumpur" },
            { n: "Manila", tz: "Asia/Manila" },
            { n: "Hanoi", tz: "Asia/Bangkok" },
            { n: "Riyadh", tz: "Asia/Riyadh" },
            { n: "Tel Aviv", tz: "Asia/Jerusalem" },
            { n: "Athens", tz: "Europe/Athens" },
            { n: "Madrid", tz: "Europe/Madrid" },
            { n: "Zurich", tz: "Europe/Zurich" },
            { n: "Sao Paulo", tz: "America/Sao_Paulo" },
            { n: "Buenos Aires", tz: "America/Argentina/Buenos_Aires" },
            { n: "Warsaw", tz: "Europe/Warsaw" },
            { n: "Krakow", tz: "Europe/Warsaw" }
        ];

        const defaultPopularCities = [
            "Beijing", "London", "New York", "Tokyo", "Paris", "Moscow", "Sydney", "Dubai"
        ];

        const TimeCalc = {
            timerId: null,
            activeResult: false,
            currentPopularList: [],
            
            i18n: {
                'en': {
                    title: 'Time Difference Calculator',
                    label_from: 'From (Location 1)',
                    label_to: 'To (Location 2)',
                    btn_calc: 'Calculate Difference',
                    popular_title: 'Popular Cities',
                    err_city: 'Please select a valid city from the list.',
                    ahead: 'is {h} hours {m} minutes ahead of',
                    behind: 'is {h} hours {m} minutes behind',
                    same: 'is the same time as',
                    btn_add: 'Add',
                    btn_clear: 'Clear',
                    btn_restore: 'Restore Default',
                    msg_empty: 'Popular list is empty.',
                    msg_exist: 'Already exists.'
                },
                'zh-CN': {
                    title: 'æ—¶å·®è®¡ç®—å™¨',
                    label_from: 'åœ°ç‚¹ 1 (åŸºå‡†)',
                    label_to: 'åœ°ç‚¹ 2 (æ¯”è¾ƒ)',
                    btn_calc: 'è®¡ç®—æ—¶å·®',
                    popular_title: 'çƒ­é—¨åŸå¸‚å®æ—¶æ—¶é—´',
                    err_city: 'è¯·ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆçš„åŸå¸‚ã€‚',
                    ahead: 'æ¯” {ref} æ—© {h} å°æ—¶ {m} åˆ†é’Ÿ', 
                    behind: 'æ¯” {ref} æ™š {h} å°æ—¶ {m} åˆ†é’Ÿ',
                    same: 'ä¸ {ref} æ—¶é—´ç›¸åŒ',
                    btn_add: 'æ·»åŠ ',
                    btn_clear: 'æ¸…ç©º',
                    btn_restore: 'æ¢å¤é»˜è®¤',
                    msg_empty: 'æš‚æ— çƒ­é—¨åŸå¸‚ã€‚',
                    msg_exist: 'å·²å­˜åœ¨ã€‚'
                },
                'zh-TW': {
                    title: 'æ™‚å·®è¨ˆç®—å™¨',
                    label_from: 'åœ°é» 1 (åŸºæº–)',
                    label_to: 'åœ°é» 2 (æ¯”è¼ƒ)',
                    btn_calc: 'è¨ˆç®—æ™‚å·®',
                    popular_title: 'ç†±é–€åŸå¸‚å¯¦æ™‚æ™‚é–“',
                    err_city: 'è«‹å¾åˆ—è¡¨ä¸­é¸æ“‡ä¸€å€‹æœ‰æ•ˆçš„åŸå¸‚ã€‚',
                    ahead: 'æ¯” {ref} æ—© {h} å°æ™‚ {m} åˆ†é˜',
                    behind: 'æ¯” {ref} æ™š {h} å°æ™‚ {m} åˆ†é˜',
                    same: 'èˆ‡ {ref} æ™‚é–“ç›¸åŒ',
                    btn_add: 'æ·»åŠ ',
                    btn_clear: 'æ¸…ç©º',
                    btn_restore: 'æ¢å¾©é»˜èª',
                    msg_empty: 'æš«ç„¡ç†±é–€åŸå¸‚ã€‚',
                    msg_exist: 'å·²å­˜åœ¨ã€‚'
                },
                'ja': {
                    title: 'æ™‚å·®è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    label_from: 'å ´æ‰€ 1 (åŸºæº–)',
                    label_to: 'å ´æ‰€ 2 (æ¯”è¼ƒ)',
                    btn_calc: 'æ™‚å·®ã‚’è¨ˆç®—',
                    popular_title: 'äººæ°—éƒ½å¸‚ã®ç¾åœ¨æ™‚åˆ»',
                    err_city: 'ãƒªã‚¹ãƒˆã‹ã‚‰æœ‰åŠ¹ãªéƒ½å¸‚ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚',
                    ahead: 'ã¯ {ref} ã‚ˆã‚Š {h} æ™‚é–“ {m} åˆ† é€²ã‚“ã§ã„ã¾ã™',
                    behind: 'ã¯ {ref} ã‚ˆã‚Š {h} æ™‚é–“ {m} åˆ† é…ã‚Œã¦ã„ã¾ã™',
                    same: 'ã¯ {ref} ã¨åŒã˜æ™‚é–“ã§ã™',
                    btn_add: 'è¿½åŠ ',
                    btn_clear: 'ã‚¯ãƒªã‚¢',
                    btn_restore: 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™',
                    msg_empty: 'ãƒªã‚¹ãƒˆã¯ç©ºã§ã™ã€‚',
                    msg_exist: 'æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚'
                },
                'ru': {
                    title: 'Ğ Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸',
                    label_from: 'ĞœĞµÑÑ‚Ğ¾ 1',
                    label_to: 'ĞœĞµÑÑ‚Ğ¾ 2',
                    btn_calc: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ',
                    popular_title: 'ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°',
                    err_city: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ¸Ğ· ÑĞ¿Ğ¸ÑĞºĞ°.',
                    ahead: 'Ğ¾Ğ¿ĞµÑ€ĞµĞ¶Ğ°ĞµÑ‚ {ref} Ğ½Ğ° {h} Ñ‡. {m} Ğ¼Ğ¸Ğ½.',
                    behind: 'Ğ¾Ñ‚ÑÑ‚Ğ°ĞµÑ‚ Ğ¾Ñ‚ {ref} Ğ½Ğ° {h} Ñ‡. {m} Ğ¼Ğ¸Ğ½.',
                    same: 'â€” Ğ²Ñ€ĞµĞ¼Ñ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ñ {ref}',
                    btn_add: 'Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ',
                    btn_clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    btn_restore: 'Ğ¡Ğ±Ñ€Ğ¾Ñ',
                    msg_empty: 'Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿ÑƒÑÑ‚.',
                    msg_exist: 'Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ.'
                },
                'pl': {
                    title: 'Kalkulator RÃ³Å¼nicy Czasu',
                    label_from: 'Z (Lokalizacja 1)',
                    label_to: 'Do (Lokalizacja 2)',
                    btn_calc: 'Oblicz rÃ³Å¼nicÄ™',
                    popular_title: 'Popularne miasta',
                    err_city: 'Wybierz prawidÅ‚owe miasto z listy.',
                    ahead: 'jest {h} godz. {m} min. przed',
                    behind: 'jest {h} godz. {m} min. za',
                    same: 'jest o tym samym czasie co',
                    btn_add: 'Dodaj',
                    btn_clear: 'WyczyÅ›Ä‡',
                    btn_restore: 'PrzywrÃ³Ä‡',
                    msg_empty: 'Lista jest pusta.',
                    msg_exist: 'JuÅ¼ istnieje.'
                }
            },

            init: () => {
                const dataList = document.getElementById('cities-list');
                citiesDB.sort((a,b) => a.n.localeCompare(b.n));
                citiesDB.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city.n;
                    dataList.appendChild(option);
                });

                TimeCalc.loadPopularCities();

                // Detect Language
                const urlParams = new URLSearchParams(window.location.search);
                const lang = urlParams.get('lang');
                let targetLang = 'en';
                
                if (lang && TimeCalc.i18n[lang]) {
                    targetLang = lang;
                } else {
                    const userLang = navigator.language || navigator.userLanguage;
                    if (userLang.startsWith('zh')) {
                        targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
                    } else if (userLang.startsWith('ja')) targetLang = 'ja';
                    else if (userLang.startsWith('ru')) targetLang = 'ru';
                    else if (userLang.startsWith('pl')) targetLang = 'pl';
                }

                document.getElementById('lang-select').value = targetLang;
                TimeCalc.changeLang();
                
                TimeCalc.tick();
                setInterval(TimeCalc.tick, 1000);
            },

            changeLang: () => {
                const lang = document.getElementById('lang-select').value;
                const texts = TimeCalc.i18n[lang];
                
                // Update URL (silent)
                try {
                    const url = new URL(window.location);
                    url.searchParams.set('lang', lang);
                    window.history.replaceState({}, '', url);
                } catch(e) { console.warn('History API not supported'); }

                // Update UI Texts
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // Update Placeholders
                const phCity1 = lang.startsWith('zh') ? "ä¾‹å¦‚ï¼šBeijing" : (lang === 'pl' ? "np. Warszawa" : "e.g. New York");
                const phCity2 = lang.startsWith('zh') ? "ä¾‹å¦‚ï¼šLondon" : (lang === 'pl' ? "np. Londyn" : "e.g. London");
                document.getElementById('city-a').placeholder = phCity1;
                document.getElementById('city-b').placeholder = phCity2;

                // Toggle Introduction Content
                document.querySelectorAll('.lang-content').forEach(el => el.classList.remove('active'));
                let contentId = `intro-${lang}`;
                let contentEl = document.getElementById(contentId);
                
                // Fallback for languages without specific intro (use EN or generic)
                if (!contentEl) {
                    // Try to map undefined langs to EN, or RU to RU
                    if (lang === 'ru') contentEl = document.getElementById('intro-ru');
                    else contentEl = document.getElementById('intro-en');
                }
                
                if (contentEl) contentEl.classList.add('active');

                // Recalculate text if result is showing
                if (TimeCalc.activeResult) {
                    TimeCalc.calcLogic(); 
                }
            },

            getCityData: (name) => {
                return citiesDB.find(c => c.n.toLowerCase() === name.toLowerCase());
            },

            loadPopularCities: () => {
                const stored = localStorage.getItem('timeCalc_popular');
                if (stored) {
                    try {
                        TimeCalc.currentPopularList = JSON.parse(stored);
                    } catch(e) {
                        TimeCalc.currentPopularList = [...defaultPopularCities];
                    }
                } else {
                    TimeCalc.currentPopularList = [...defaultPopularCities];
                }
                TimeCalc.renderPopularGrid();
            },

            savePopularCities: () => {
                localStorage.setItem('timeCalc_popular', JSON.stringify(TimeCalc.currentPopularList));
                TimeCalc.renderPopularGrid();
                TimeCalc.tick(); 
            },

            addCurrentCity: () => {
                const nameB = document.getElementById('city-b').value.trim();
                const city = TimeCalc.getCityData(nameB);
                const lang = document.getElementById('lang-select').value;
                const texts = TimeCalc.i18n[lang];

                if (!city) {
                    alert(texts.err_city);
                    return;
                }

                if (TimeCalc.currentPopularList.includes(city.n)) {
                    alert(texts.msg_exist);
                    return;
                }

                TimeCalc.currentPopularList.push(city.n);
                TimeCalc.savePopularCities();
            },

            removePopularCity: (name, event) => {
                if(event) event.stopPropagation(); 
                TimeCalc.currentPopularList = TimeCalc.currentPopularList.filter(c => c !== name);
                TimeCalc.savePopularCities();
            },

            clearPopularCities: () => {
                // Ideally use a custom modal, but confirm is safe here per instruction to keep logic simple
                if(confirm('Clear all favorites?')) {
                    TimeCalc.currentPopularList = [];
                    TimeCalc.savePopularCities();
                }
            },

            restoreDefaultPopular: () => {
                TimeCalc.currentPopularList = [...defaultPopularCities];
                TimeCalc.savePopularCities();
            },

            renderPopularGrid: () => {
                const popGrid = document.getElementById('popular-grid');
                const emptyMsg = document.getElementById('empty-msg');
                popGrid.innerHTML = '';

                if (TimeCalc.currentPopularList.length === 0) {
                    emptyMsg.classList.remove('hidden');
                } else {
                    emptyMsg.classList.add('hidden');
                    TimeCalc.currentPopularList.forEach(name => {
                        const city = TimeCalc.getCityData(name);
                        if(city) {
                            const div = document.createElement('div');
                            div.className = 'popular-tag bg-slate-50 p-3 rounded-lg relative group';
                            const idBase = city.n.replace(/[^a-zA-Z0-9]/g, '');
                            div.innerHTML = `
                                <div class="btn-delete absolute -top-2 -right-2 w-6 h-6 bg-red-100 text-red-500 rounded-full flex items-center justify-center text-xs shadow-sm hover:bg-red-500 hover:text-white" onclick="TimeCalc.removePopularCity('${city.n}', event)">Ã—</div>
                                <div class="text-sm font-semibold text-slate-700 truncate">${city.n}</div>
                                <div class="text-lg font-mono font-bold text-blue-600 mt-1" id="pop-time-${idBase}">--:--</div>
                                <div class="text-xs text-slate-400 mt-1" id="pop-date-${idBase}">--</div>
                            `;
                            div.onclick = () => {
                                document.getElementById('city-b').value = city.n;
                                TimeCalc.manualCalc();
                            };
                            div.title = "Set as Destination";
                            popGrid.appendChild(div);
                        }
                    });
                }
            },

            swapCities: () => {
                const elA = document.getElementById('city-a');
                const elB = document.getElementById('city-b');
                
                const valA = elA.value;
                const valB = elB.value;

                elA.value = valB;
                elB.value = valA;

                const icon = document.querySelector('.swap-btn svg');
                if(icon) {
                    icon.style.transform = icon.style.transform === 'rotate(180deg)' ? 'rotate(0deg)' : 'rotate(180deg)';
                }

                if (valA && valB) {
                    TimeCalc.manualCalc();
                }
            },

            tick: () => {
                const now = new Date();
                const lang = document.getElementById('lang-select').value;
                // Use safe locales for formatting
                const locale = (lang === 'zh-CN' || lang === 'zh-TW') ? lang : (lang === 'ja' ? 'ja-JP' : (lang === 'pl' ? 'pl-PL' : 'en-US'));
                
                const optionsTime = { hour: '2-digit', minute: '2-digit', hour12: false };
                const optionsDate = { weekday: 'short', month: 'short', day: 'numeric' };

                TimeCalc.currentPopularList.forEach(name => {
                    const city = TimeCalc.getCityData(name);
                    if(city) {
                        const idBase = city.n.replace(/[^a-zA-Z0-9]/g, '');
                        const timeEl = document.getElementById(`pop-time-${idBase}`);
                        const dateEl = document.getElementById(`pop-date-${idBase}`);
                        
                        if(timeEl && dateEl) {
                            timeEl.innerText = now.toLocaleTimeString(locale, { ...optionsTime, timeZone: city.tz });
                            dateEl.innerText = now.toLocaleDateString(locale, { ...optionsDate, timeZone: city.tz });
                        }
                    }
                });

                if(TimeCalc.activeResult) {
                    TimeCalc.calcLogic();
                }
            },

            manualCalc: () => {
                const lang = document.getElementById('lang-select').value;
                const nameA = document.getElementById('city-a').value.trim();
                const nameB = document.getElementById('city-b').value.trim();
                const errorEl = document.getElementById('error-msg');
                const resultBox = document.getElementById('result-box');

                errorEl.classList.add('hidden');
                
                const cityA = TimeCalc.getCityData(nameA);
                const cityB = TimeCalc.getCityData(nameB);

                if (!cityA || !cityB) {
                    errorEl.innerText = TimeCalc.i18n[lang].err_city;
                    errorEl.classList.remove('hidden');
                    resultBox.classList.remove('show');
                    TimeCalc.activeResult = false;
                    return;
                }

                TimeCalc.activeResult = true;
                resultBox.classList.add('show');
                
                document.getElementById('label-city-a').innerText = cityA.n;
                document.getElementById('label-city-b').innerText = cityB.n;
                document.getElementById('tz-city-a').innerText = cityA.tz;
                document.getElementById('tz-city-b').innerText = cityB.tz;

                TimeCalc.calcLogic();
            },

            calcLogic: () => {
                if(!TimeCalc.activeResult) return;

                const nameA = document.getElementById('city-a').value.trim();
                const nameB = document.getElementById('city-b').value.trim();
                const cityA = TimeCalc.getCityData(nameA);
                const cityB = TimeCalc.getCityData(nameB);
                const lang = document.getElementById('lang-select').value;
                const locale = (lang === 'zh-CN' || lang === 'zh-TW') ? lang : (lang === 'ja' ? 'ja-JP' : (lang === 'pl' ? 'pl-PL' : 'en-US'));

                if(!cityA || !cityB) return;

                const now = new Date();
                const optionsTime = { hour: '2-digit', minute: '2-digit', hour12: false, timeZone: '' };
                const optionsDate = { weekday: 'short', month: 'short', day: 'numeric', timeZone: '' };

                optionsTime.timeZone = cityA.tz; optionsDate.timeZone = cityA.tz;
                document.getElementById('time-city-a').innerText = new Intl.DateTimeFormat(locale, optionsTime).format(now);
                document.getElementById('date-city-a').innerText = new Intl.DateTimeFormat(locale, optionsDate).format(now);

                optionsTime.timeZone = cityB.tz; optionsDate.timeZone = cityB.tz;
                document.getElementById('time-city-b').innerText = new Intl.DateTimeFormat(locale, optionsTime).format(now);
                document.getElementById('date-city-b').innerText = new Intl.DateTimeFormat(locale, optionsDate).format(now);

                const strA = new Date().toLocaleString('en-US', { timeZone: cityA.tz });
                const strB = new Date().toLocaleString('en-US', { timeZone: cityB.tz });
                const dateA = new Date(strA);
                const dateB = new Date(strB);
                
                let diffMs = dateB - dateA;
                const isAhead = diffMs >= 0;
                diffMs = Math.abs(diffMs);
                
                const totalMinutes = Math.floor(diffMs / (1000 * 60));
                const hours = Math.floor(totalMinutes / 60);
                const minutes = totalMinutes % 60;

                const texts = TimeCalc.i18n[lang];
                let diffText = "";

                if (hours === 0 && minutes === 0) {
                    diffText = `${cityB.n} <span class="text-slate-500 text-xl font-normal">${texts.same.replace('{ref}', '')}</span> ${cityA.n}`;
                } else {
                    const template = isAhead ? texts.ahead : texts.behind;
                    
                    if (lang.startsWith('zh') || lang === 'ja') {
                        let finalStr = template
                            .replace('{ref}', `<span class="text-slate-500 mx-1">${cityA.n}</span>`)
                            .replace('{h}', `<span class="text-4xl text-blue-600 font-bold mx-1">${hours}</span>`)
                            .replace('{m}', minutes > 0 ? `<span class="text-4xl text-blue-600 font-bold mx-1">${minutes}</span>` : '0');
                        
                        // Cleanup empty minutes text for cleaner look
                        if (minutes === 0) {
                            finalStr = finalStr.replace(/0\s?(åˆ†é’Ÿ|åˆ†)/, '').replace(/0\s?(minutes)/, ''); 
                        }
                        diffText = `<span class="text-slate-800">${cityB.n}</span> ${finalStr}`;
                    } else if (lang === 'pl') {
                         let finalStr = template
                            .replace('{h}', `<span class="text-4xl text-blue-600 font-bold mx-1">${hours}</span>`)
                            .replace('{m}', minutes > 0 ? `<span class="text-4xl text-blue-600 font-bold mx-1">${minutes}</span>` : '0');
                         if(minutes === 0) finalStr = finalStr.replace(/ 0 min\./, '');
                         diffText = `<span class="text-slate-800">${cityB.n}</span> ${finalStr} <span class="text-slate-500">${cityA.n}</span>`;
                    } else {
                        // EN, RU, etc.
                        let finalStr = template
                            .replace('{ref}', cityA.n)
                            .replace('{h}', `<span class="text-4xl text-blue-600 font-bold mx-1">${hours}</span>`)
                            .replace('{m}', minutes > 0 ? `<span class="text-4xl text-blue-600 font-bold mx-1">${minutes}</span>` : '0');
                        
                        if(minutes === 0) finalStr = finalStr.replace(/ 0 minutes/, '').replace(/ 0 Ğ¼Ğ¸Ğ½\./, '');
                        
                        if (lang === 'ru') {
                             diffText = `<span class="text-slate-800">${cityB.n}</span> ${finalStr}`;
                        } else {
                             diffText = `<span class="text-slate-800">${cityB.n}</span> ${finalStr} <span class="text-slate-500">${cityA.n}</span>`;
                        }
                    }
                }
                document.getElementById('diff-text').innerHTML = diffText;
            }
        };

        window.addEventListener('DOMContentLoaded', TimeCalc.init);
    </script>

    <!-- Essential Footer Scripts -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>
