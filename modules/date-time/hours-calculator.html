<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hours Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="hours_calculator">
    <meta name="category" content="Date & Time">
    <meta name="icon" content="⏰">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="Hours Calculator">
    <meta name="description" content="Add, subtract, multiply and divide hours, minutes and seconds with this time calculator.">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="小时计算器">
    <meta name="lang-description-zh-CN" content="使用此时间计算器进行小时、分钟和秒的加减乘除运算。">
    
    <meta name="lang-title-zh-TW" content="小時計算器">
    <meta name="lang-description-zh-TW" content="使用此時間計算器進行小時、分鐘和秒的加減乘除運算。">
    
    <meta name="lang-title-ja" content="時間計算ツール">
    <meta name="lang-description-ja" content="この時間計算ツールでは、時間、分、秒の加算、減算、乗算、除算を行うことができます。">
    
    <meta name="lang-title-ru" content="Калькулятор часов">
    <meta name="lang-description-ru" content="Сложите, вычтите, умножьте и разделите часы, минуты и секунды с помощью этого калькулятора времени.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-section { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .time-inputs { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        .time-group { flex: 1; min-width: 250px; }
        .time-fields { display: flex; gap: 10px; }
        .time-field { flex: 1; }
        select, input[type="number"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .operation-selector { display: flex; justify-content: center; align-items: center; margin: 10px 0; }
        .operation-btn { padding: 8px 16px; margin: 0 5px; border: 1px solid #ddd; border-radius: 4px; background: #f5f5f5; cursor: pointer; }
        .operation-btn.active { background: #3b82f6; color: white; border-color: #3b82f6; }
        .result-item { background: white; padding: 10px; border-radius: 4px; margin-bottom: 10px; }
        .result-label { font-size: 0.8rem; color: #666; }
        .result-value { font-size: 1.2rem; font-weight: 500; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/date-time/hours-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="hours_calculator" 
         data-category="calculators" 
         data-title="Hours Calculator" 
         data-icon="⏰">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="hours-lang" onchange="HoursCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">⏰ Hours Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- 第一个时间输入 -->
            <div class="time-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="time1">Time 1</label>
                <div class="time-fields">
                    <div class="time-field">
                        <input type="number" id="h1" min="0" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="hours_abbr">hr</label>
                    </div>
                    <div class="time-field">
                        <input type="number" id="m1" min="0" max="59" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="minutes_abbr">min</label>
                    </div>
                    <div class="time-field">
                        <input type="number" id="s1" min="0" max="59" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="seconds_abbr">sec</label>
                    </div>
                </div>
            </div>
            
            <!-- 操作选择 -->
            <div class="operation-selector">
                <button class="operation-btn active" data-op="add" onclick="HoursCalculator.selectOperation('add')">+</button>
                <button class="operation-btn" data-op="subtract" onclick="HoursCalculator.selectOperation('subtract')">-</button>
                <button class="operation-btn" data-op="multiply" onclick="HoursCalculator.selectOperation('multiply')">×</button>
                <button class="operation-btn" data-op="divide" onclick="HoursCalculator.selectOperation('divide')">÷</button>
            </div>
            
            <!-- 第二个时间/数值输入 -->
            <div class="time-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" id="time2-label" data-i18n="time2">Time 2</label>
                <div id="time-input" class="time-fields">
                    <div class="time-field">
                        <input type="number" id="h2" min="0" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="hours_abbr">hr</label>
                    </div>
                    <div class="time-field">
                        <input type="number" id="m2" min="0" max="59" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="minutes_abbr">min</label>
                    </div>
                    <div class="time-field">
                        <input type="number" id="s2" min="0" max="59" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <label class="text-xs text-gray-500" data-i18n="seconds_abbr">sec</label>
                    </div>
                </div>
                <div id="number-input" class="hidden">
                    <input type="number" id="factor" min="0.01" step="any" value="1" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <label class="text-xs text-gray-500" data-i18n="factor">Factor</label>
                </div>
            </div>
            
            <!-- 操作按钮 -->
            <div class="flex gap-2">
                <button onclick="HoursCalculator.clearValue()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="HoursCalculator.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
            </div>
        </div>

        <!-- 错误提示 -->
        <div id="hours-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- 结果展示 -->
        <div id="hours-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div class="result-section">
                <div class="result-item">
                    <div class="result-label" data-i18n="total_time">Total Time</div>
                    <div class="result-value" id="total-time">-</div>
                </div>
                <div class="result-item">
                    <div class="result-label" data-i18n="breakdown">Breakdown</div>
                    <div class="result-value" id="time-breakdown">-</div>
                </div>
                <div class="result-item">
                    <div class="result-label" data-i18n="total_seconds">Total in Seconds</div>
                    <div class="result-value" id="total-seconds">-</div>
                </div>
            </div>
        </div>

        <!-- 说明信息 -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" id="notes-list">
                <li data-i18n="note1">Use this calculator to perform arithmetic operations on time values</li>
                <li data-i18n="note2">Add and subtract work with time values, multiply and divide use a numeric factor</li>
                <li data-i18n="note3">1 hour = 60 minutes = 3600 seconds</li>
            </ul>
        </div>
    </div>

    <script>
        const HoursCalculator = {
            currentOperation: 'add',
            
            i18n: {
                'en': {
                    title: '⏰ Hours Calculator',
                    time1: 'Time 1',
                    time2: 'Time 2',
                    hours_abbr: 'hr',
                    minutes_abbr: 'min',
                    seconds_abbr: 'sec',
                    factor: 'Factor',
                    clear: 'Clear',
                    calculate: 'Calculate',
                    result: 'Result',
                    total_time: 'Total Time',
                    breakdown: 'Breakdown',
                    total_seconds: 'Total in Seconds',
                    notes: 'Notes:',
                    note1: 'Use this calculator to perform arithmetic operations on time values',
                    note2: 'Add and subtract work with time values, multiply and divide use a numeric factor',
                    note3: '1 hour = 60 minutes = 3600 seconds',
                    err_invalid_input: 'Please enter valid time values',
                    err_divide_zero: 'Cannot divide by zero'
                },
                'zh-CN': {
                    title: '⏰ 小时计算器',
                    time1: '时间 1',
                    time2: '时间 2',
                    hours_abbr: '时',
                    minutes_abbr: '分',
                    seconds_abbr: '秒',
                    factor: '系数',
                    clear: '清除',
                    calculate: '计算',
                    result: '结果',
                    total_time: '总时间',
                    breakdown: '详细分解',
                    total_seconds: '总秒数',
                    notes: '说明：',
                    note1: '使用此计算器对时间值进行算术运算',
                    note2: '加法和减法适用于时间值，乘法和除法使用数字系数',
                    note3: '1小时 = 60分钟 = 3600秒',
                    err_invalid_input: '请输入有效的时间值',
                    err_divide_zero: '不能除以零'
                },
                'zh-TW': {
                    title: '⏰ 小時計算器',
                    time1: '時間 1',
                    time2: '時間 2',
                    hours_abbr: '時',
                    minutes_abbr: '分',
                    seconds_abbr: '秒',
                    factor: '係數',
                    clear: '清除',
                    calculate: '計算',
                    result: '結果',
                    total_time: '總時間',
                    breakdown: '詳細分解',
                    total_seconds: '總秒數',
                    notes: '說明：',
                    note1: '使用此計算器對時間值進行算術運算',
                    note2: '加法和減法適用於時間值，乘法和除法使用數字係數',
                    note3: '1小時 = 60分鐘 = 3600秒',
                    err_invalid_input: '請輸入有效的時間值',
                    err_divide_zero: '不能除以零'
                },
                'ja': {
                    title: '⏰ 時間計算ツール',
                    time1: '時間 1',
                    time2: '時間 2',
                    hours_abbr: '時間',
                    minutes_abbr: '分',
                    seconds_abbr: '秒',
                    factor: '係数',
                    clear: 'クリア',
                    calculate: '計算',
                    result: '結果',
                    total_time: '総時間',
                    breakdown: '内訳',
                    total_seconds: '総秒数',
                    notes: '注釈：',
                    note1: 'この計算機を使用して、時間値に算術演算を実行します',
                    note2: '加算と減算は時間値で動作し、乗算と除算は数値係数を使用します',
                    note3: '1時間 = 60分 = 3600秒',
                    err_invalid_input: '有効な時間値を入力してください',
                    err_divide_zero: 'ゼロで除算することはできません'
                },
                'ru': {
                    title: '⏰ Калькулятор часов',
                    time1: 'Время 1',
                    time2: 'Время 2',
                    hours_abbr: 'ч',
                    minutes_abbr: 'мин',
                    seconds_abbr: 'с',
                    factor: 'Фактор',
                    clear: 'Очистить',
                    calculate: 'Вычислить',
                    result: 'Результат',
                    total_time: 'Общее время',
                    breakdown: 'Детализация',
                    total_seconds: 'Всего в секундах',
                    notes: 'Примечания:',
                    note1: 'Используйте этот калькулятор для выполнения арифметических операций с временными значениями',
                    note2: 'Сложение и вычитание работают с временными значениями, умножение и деление используют числовой фактор',
                    note3: '1 час = 60 минут = 3600 секунд',
                    err_invalid_input: 'Пожалуйста, введите действительные временные значения',
                    err_divide_zero: 'Нельзя делить на ноль'
                }
            },
            
            // 初始化
            init: function() {
                this.updateUIForOperation();
            },
            
            // 选择操作
            selectOperation: function(op) {
                this.currentOperation = op;
                
                // 更新按钮状态
                document.querySelectorAll('.operation-btn').forEach(btn => {
                    if (btn.getAttribute('data-op') === op) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                this.updateUIForOperation();
            },
            
            // 根据操作类型更新UI
            updateUIForOperation: function() {
                const timeInput = document.getElementById('time-input');
                const numberInput = document.getElementById('number-input');
                const time2Label = document.getElementById('time2-label');
                
                // 加法和减法使用时间输入，乘法和除法使用数字输入
                if (this.currentOperation === 'add' || this.currentOperation === 'subtract') {
                    timeInput.classList.remove('hidden');
                    numberInput.classList.add('hidden');
                    time2Label.setAttribute('data-i18n', 'time2');
                    time2Label.textContent = this.i18n[this.getCurrentLang()].time2;
                } else {
                    timeInput.classList.add('hidden');
                    numberInput.classList.remove('hidden');
                    time2Label.setAttribute('data-i18n', 'factor');
                    time2Label.textContent = this.i18n[this.getCurrentLang()].factor;
                }
            },
            
            // 转换时间为秒
            timeToSeconds: function(h, m, s) {
                return h * 3600 + m * 60 + s;
            },
            
            // 转换秒为时间对象
            secondsToTime: function(totalSeconds) {
                const h = Math.floor(totalSeconds / 3600);
                const m = Math.floor((totalSeconds % 3600) / 60);
                const s = Math.round(totalSeconds % 60);
                
                return {h, m, s};
            },
            
            // 格式化时间显示
            formatTime: function(time) {
                return `${time.h.toString().padStart(2, '0')}:${time.m.toString().padStart(2, '0')}:${time.s.toString().padStart(2, '0')}`;
            },
            
            // 计算
            calculate: function() {
                // 获取第一个时间
                const h1 = parseInt(document.getElementById('h1').value) || 0;
                const m1 = parseInt(document.getElementById('m1').value) || 0;
                const s1 = parseInt(document.getElementById('s1').value) || 0;
                const time1Seconds = this.timeToSeconds(h1, m1, s1);
                
                const errorEl = document.getElementById('hours-error');
                const resultsEl = document.getElementById('hours-results');
                
                // 验证输入
                if (m1 < 0 || m1 > 59 || s1 < 0 || s1 > 59) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                let resultSeconds;
                
                // 根据操作类型计算
                if (this.currentOperation === 'add' || this.currentOperation === 'subtract') {
                    // 获取第二个时间
                    const h2 = parseInt(document.getElementById('h2').value) || 0;
                    const m2 = parseInt(document.getElementById('m2').value) || 0;
                    const s2 = parseInt(document.getElementById('s2').value) || 0;
                    const time2Seconds = this.timeToSeconds(h2, m2, s2);
                    
                    // 验证第二个时间
                    if (m2 < 0 || m2 > 59 || s2 < 0 || s2 > 59) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                        errorEl.classList.remove('hidden');
                        resultsEl.classList.add('hidden');
                        return;
                    }
                    
                    if (this.currentOperation === 'add') {
                        resultSeconds = time1Seconds + time2Seconds;
                    } else {
                        resultSeconds = time1Seconds - time2Seconds;
                        // 确保结果不为负
                        if (resultSeconds < 0) resultSeconds = 0;
                    }
                } else {
                    // 获取系数
                    const factor = parseFloat(document.getElementById('factor').value) || 0;
                    
                    // 验证系数
                    if (isNaN(factor) || factor <= 0) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                        errorEl.classList.remove('hidden');
                        resultsEl.classList.add('hidden');
                        return;
                    }
                    
                    if (this.currentOperation === 'divide' && factor === 0) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_divide_zero;
                        errorEl.classList.remove('hidden');
                        resultsEl.classList.add('hidden');
                        return;
                    }
                    
                    if (this.currentOperation === 'multiply') {
                        resultSeconds = time1Seconds * factor;
                    } else {
                        resultSeconds = time1Seconds / factor;
                    }
                }
                
                // 清除错误
                errorEl.classList.add('hidden');
                
                // 转换结果为时间格式
                const resultTime = this.secondsToTime(resultSeconds);
                
                // 显示结果
                document.getElementById('total-time').textContent = this.formatTime(resultTime);
                document.getElementById('time-breakdown').textContent = 
                    `${resultTime.h} ${this.i18n[this.getCurrentLang()].hours_abbr}, ` +
                    `${resultTime.m} ${this.i18n[this.getCurrentLang()].minutes_abbr}, ` +
                    `${resultTime.s} ${this.i18n[this.getCurrentLang()].seconds_abbr}`;
                document.getElementById('total-seconds').textContent = Math.round(resultSeconds);
                
                // 显示结果区域
                resultsEl.classList.remove('hidden');
            },
            
            // 清除输入
            clearValue: function() {
                document.getElementById('h1').value = '0';
                document.getElementById('m1').value = '0';
                document.getElementById('s1').value = '0';
                document.getElementById('h2').value = '0';
                document.getElementById('m2').value = '0';
                document.getElementById('s2').value = '0';
                document.getElementById('factor').value = '1';
                document.getElementById('hours-results').classList.add('hidden');
                document.getElementById('hours-error').classList.add('hidden');
            },
            
            // 切换语言
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // 更新当前操作的UI文本
                this.updateUIForOperation();
                
                // 如果有结果，重新计算以更新显示
                if (!document.getElementById('hours-results').classList.contains('hidden')) {
                    this.calculate();
                }
            },
            
            // 获取当前语言
            getCurrentLang: function() {
                return document.getElementById('hours-lang').value;
            }
        };
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            HoursCalculator.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>

</html>
