<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Calculator - Calculate Percentage & Missed Classes</title>
    
    <!-- Meta Info -->
    <meta name="tool-id" content="attendance_calculator">
    <meta name="category" content="education">
    <meta name="icon" content="ğŸ“Š">
    <meta name="title" content="Attendance Calculator">
    <meta name="description" content="Calculate attendance percentage for classes, employees, or voting turnout. Includes planning tools and formula explanations.">

    <!-- Multilingual Meta -->
    <meta name="lang-title-zh-CN" content="å‡ºå‹¤ç‡è®¡ç®—å™¨ - è€ƒå‹¤ä¸æŠ•ç¥¨ç‡ç»Ÿè®¡">
    <meta name="lang-description-zh-CN" content="åœ¨çº¿è®¡ç®—ç­çº§å‡ºå‹¤ç‡ã€å‘˜å·¥è€ƒå‹¤æˆ–æŠ•ç¥¨ç‡ã€‚åŒ…å«ç¼ºå‹¤è§„åˆ’ã€è®¡ç®—å…¬å¼åŠExcelå¯¹æ¯”åˆ†æã€‚">
    <meta name="lang-title-zh-TW" content="å‡ºå‹¤ç‡è¨ˆç®—å™¨ - è€ƒå‹¤èˆ‡æŠ•ç¥¨ç‡çµ±è¨ˆ">
    <meta name="lang-title-pl" content="Kalkulator Frekwencji">
    <meta name="lang-title-es" content="Calculadora de Asistencia">
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ğ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸">
    <meta name="lang-title-hi" content="à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        :root {
            /* Dark Mode (Default) */
            --bg-body: #0f172a;
            --bg-card: #1e293b;
            --bg-input: #0f172a;
            --text-main: #f1f5f9;
            --text-sub: #94a3b8;
            --accent: #38bdf8; /* Sky Blue */
            --accent-hover: #0ea5e9;
            --border: #334155;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        /* Light Mode */
        :root[data-theme="light"] {
            --bg-body: #f1f5f9;
            --bg-card: #ffffff;
            --bg-input: #f8fafc;
            --text-main: #1e293b;
            --text-sub: #64748b;
            --accent: #0284c7; 
            --accent-hover: #0369a1;
            --border: #e2e8f0;
            --success: #059669;
            --warning: #d97706;
            --danger: #dc2626;
        }

        body { 
            background: var(--bg-body); 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            padding: 20px;
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
        }

        .tool-container {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 900px;
            margin: 0 auto;
            border: 1px solid var(--border);
            min-height: 85vh;
            display: flex;
            flex-direction: column;
        }

        /* Calculator Styles */
        .calc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-weight: 600;
            color: var(--text-sub);
            font-size: 0.9rem;
        }

        .input-field {
            background: var(--bg-input);
            border: 2px solid var(--border);
            color: var(--text-main);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: all 0.2s;
            width: 100%;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.15);
        }

        /* Results Area */
        .result-card {
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .percentage-display {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--accent);
            line-height: 1;
            margin-bottom: 10px;
            transition: color 0.3s;
        }

        .progress-container {
            height: 12px;
            background: var(--border);
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.3s;
            border-radius: 6px;
        }

        /* Planning Section */
        .planning-section {
            border-top: 1px solid var(--border);
            padding-top: 24px;
            margin-top: 10px;
        }

        /* Controls */
        select, .icon-btn {
            background-color: var(--bg-input);
            color: var(--text-main);
            border: 1px solid var(--border);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            height: 42px;
        }
        .icon-btn:hover, select:hover {
            border-color: var(--accent);
        }

        /* Article & Content Section */
        .article-section {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid var(--border);
            color: var(--text-sub);
        }
        .article-section h2, .article-section h3 {
            color: var(--text-main);
            font-weight: 700;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .article-section h2 { font-size: 1.5rem; }
        .article-section h3 { font-size: 1.25rem; }
        .article-section p { margin-bottom: 1rem; line-height: 1.7; }
        .article-section ul { list-style: disc; padding-left: 20px; margin-bottom: 1rem; }
        .article-section li { margin-bottom: 0.5rem; }
        .article-section table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .article-section th, .article-section td { border: 1px solid var(--border); padding: 12px; text-align: left; }
        .article-section th { background: var(--bg-input); color: var(--text-main); }
        
        [data-lang-group] { display: none; }
        [data-lang-group].active { display: block; }

        @media (max-width: 640px) {
            .calc-grid { grid-template-columns: 1fr; }
            .tool-container { padding: 16px; }
            .percentage-display { font-size: 2.5rem; }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body>

<div class="tool-container">
    
    <!-- Top Header -->
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
        <div>
            <h2 class="text-2xl font-bold flex items-center gap-3" style="color: var(--text-main)">
                <span class="text-3xl filter drop-shadow-lg">ğŸ“Š</span>
                <span data-i18n="title">Attendance Calculator</span>
            </h2>
            <p class="text-sm mt-2 font-mono" style="color: var(--text-sub)">
                <span data-i18n="subtitle">Track attendance & turnouts</span>
                <span id="current-year-display" class="ml-1 px-2 py-0.5 rounded bg-[rgba(56,189,248,0.1)] text-[var(--accent)] text-xs"></span>
            </p>
        </div>
        
        <div class="flex items-center gap-2 self-end md:self-auto">
            <!-- Theme Toggle -->
            <button onclick="AttCalc.toggleTheme()" class="icon-btn flex items-center justify-center w-[42px]" title="Toggle Theme">
                <span id="theme-icon" style="font-size: 1.2rem;">ğŸŒ™</span>
            </button>

            <!-- Language Selector -->
            <select id="lang-select" onchange="AttCalc.changeLang()" class="focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="pl">Polski</option>
                <option value="es">EspaÃ±ol</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
            </select>
        </div>
    </div>

    <!-- Calculator Interface -->
    <div class="calculator-body">
        
        <!-- Optional Class Name -->
        <div class="input-group mb-4">
            <label for="class-name" data-i18n="label_classname">Class Name / Subject (Optional)</label>
            <input type="text" id="class-name" class="input-field" placeholder="...">
        </div>

        <!-- Inputs -->
        <div class="calc-grid">
            <div class="input-group">
                <label for="total-count" data-i18n="label_total">Total (Students / Classes)</label>
                <input type="number" id="total-count" class="input-field" placeholder="100" min="1" oninput="AttCalc.calculate()">
            </div>
            <div class="input-group">
                <label for="present-count" data-i18n="label_present">Present / Attended</label>
                <input type="number" id="present-count" class="input-field" placeholder="85" min="0" oninput="AttCalc.calculate()">
            </div>
        </div>

        <!-- Result Display -->
        <div class="result-card">
            <div class="text-sm uppercase tracking-wider mb-2" data-i18n="result_title" style="color:var(--text-sub)">Result Percentage</div>
            <div id="percentage-value" class="percentage-display">0%</div>
            
            <div class="progress-container">
                <div id="progress-fill" class="progress-bar"></div>
            </div>
        </div>

        <!-- Planning / Target -->
        <div class="planning-section">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2" style="color: var(--text-main)">
                <span style="color: var(--accent)">ğŸ¯</span> 
                <span data-i18n="plan_title">Planning & Goals</span>
            </h3>
            
            <div class="calc-grid" style="margin-bottom: 15px;">
                <div class="input-group">
                    <label for="target-percent" data-i18n="label_target">Target Percentage (%)</label>
                    <input type="number" id="target-percent" class="input-field" placeholder="75" value="75" min="1" max="100" oninput="AttCalc.calculate()">
                </div>
                <div class="input-group flex justify-end">
                    <!-- Placeholder for alignment -->
                </div>
            </div>
            
            <div id="plan-alert" class="hidden p-4 rounded-lg bg-[rgba(56,189,248,0.05)] border border-[var(--border)] text-[var(--text-main)]"></div>
        </div>
    </div>

    <!-- Long Form Content (SEO & Info) -->
    <div class="article-section">
        
        <!-- English Content -->
        <div data-lang-group="en">
            <h2>About the Attendance Calculator</h2>
            <p>Our Attendance Calculator is a versatile tool designed for students, teachers, HR professionals, and event organizers. It simplifies the process of tracking presence percentages and helps in planning future attendance to meet specific goals.</p>
            
            <h3>What is a Turnout Calculator?</h3>
            <p>A turnout calculator is essentially an attendance calculator used in the context of elections or events. It measures the percentage of eligible voters or invited guests who actually participated. The mathematical formula remains the same: (Participants / Total Eligible) Ã— 100.</p>

            <h3>Practical Scope & Usage</h3>
            <ul>
                <li><strong>Education:</strong> Students tracking their own attendance to avoid debarment; Teachers calculating class attendance rates.</li>
                <li><strong>Corporate (HR):</strong> Tracking employee monthly attendance, calculating leave balances, and workforce planning.</li>
                <li><strong>Events:</strong> Measuring the success of seminars, webinars, or parties based on invitee turnout.</li>
                <li><strong>Elections:</strong> Calculating voter turnout percentages for municipal or general elections.</li>
            </ul>

            <h3>How to Calculate Attendance: Formula & Examples</h3>
            <p>The core formula is simple:</p>
            <p><code>(Number of Present Days Ã· Total Working Days) Ã— 100 = Attendance %</code></p>
            <p><strong>Example:</strong> If a student has attended 45 classes out of a total of 50 classes:<br>
            (45 Ã· 50) = 0.9<br>
            0.9 Ã— 100 = <strong>90%</strong></p>

            <h3>Attendance Calculator (Monthly & Overall)</h3>
            <p>This tool can be used for both monthly reports and overall semester/year tracking. For monthly tracking, enter the total working days in that specific month (e.g., 22 days) and your days present.</p>

            <h3>Employee Attendance Register (HR Tool)</h3>
            <p>HR departments use attendance data to process payroll. Accurate calculation of attendance percentage ensures fair compensation and helps identify trends in employee absenteeism.</p>

            <h3>Voter Turnout: Tool for Analysts</h3>
            <p>Political analysts use this calculation to gauge public engagement. A high turnout percentage usually indicates a competitive election or strong public interest.</p>

            <h3>Excel vs. Online Attendance Calculator</h3>
            <table>
                <tr><th>Feature</th><th>Excel / Manual</th><th>Online Calculator</th></tr>
                <tr><td>Speed</td><td>Slow (requires formula setup)</td><td>Instant</td></tr>
                <tr><td>Planning</td><td>Manual calculation needed</td><td>Auto-calculates missed/needed classes</td></tr>
                <tr><td>Accessibility</td><td>Requires software</td><td>Accessible on any browser/phone</td></tr>
            </table>

            <h3>FAQ: Frequently Asked Questions</h3>
            <p><strong>Q: Does this tool save my data?</strong><br>A: No, all calculations happen in your browser for privacy.</p>
            <p><strong>Q: Can I use this for university criteria?</strong><br>A: Yes, set your university's requirement (e.g., 75%) in the "Target Percentage" field to see if you are safe.</p>
        </div>

        <!-- Chinese Simplified Content -->
        <div data-lang-group="zh-CN">
            <h2>è€ƒå‹¤è®¡ç®—å™¨ä»‹ç»</h2>
            <p>æˆ‘ä»¬çš„å‡ºå‹¤ç‡è®¡ç®—å™¨æ˜¯ä¸€æ¬¾é€šç”¨å·¥å…·ï¼Œä¸“ä¸ºå­¦ç”Ÿã€æ•™å¸ˆã€äººåŠ›èµ„æºä¸“å‘˜å’Œæ´»åŠ¨ç»„ç»‡è€…è®¾è®¡ã€‚å®ƒä¸ä»…èƒ½ç®€åŒ–å‡ºå‹¤ç™¾åˆ†æ¯”çš„è®¡ç®—è¿‡ç¨‹ï¼Œè¿˜èƒ½å¸®åŠ©è§„åˆ’æœªæ¥çš„å‡ºå‹¤æƒ…å†µä»¥è¾¾åˆ°ç‰¹å®šç›®æ ‡ã€‚</p>
            
            <h3>ä»€ä¹ˆæ˜¯æŠ•ç¥¨ç‡è®¡ç®—å™¨ï¼Ÿ</h3>
            <p>æŠ•ç¥¨ç‡è®¡ç®—å™¨æœ¬è´¨ä¸Šå°±æ˜¯ç”¨äºé€‰ä¸¾æˆ–æ´»åŠ¨åœºæ™¯çš„å‡ºå‹¤è®¡ç®—å™¨ã€‚å®ƒè¡¡é‡çš„æ˜¯ç¬¦åˆèµ„æ ¼çš„é€‰æ°‘æˆ–å—é‚€å˜‰å®¾ä¸­å®é™…å‚ä¸çš„ç™¾åˆ†æ¯”ã€‚å…¶æ•°å­¦å…¬å¼ä¿æŒä¸å˜ï¼š(å‚ä¸äººæ•° Ã· ç¬¦åˆèµ„æ ¼æ€»æ•°) Ã— 100ã€‚</p>

            <h3>å®ç”¨èŒƒå›´</h3>
            <ul>
                <li><strong>æ•™è‚²ï¼š</strong>å­¦ç”Ÿè¿½è¸ªä¸ªäººå‡ºå‹¤ä»¥é¿å…æŒ‚ç§‘ï¼›æ•™å¸ˆç»Ÿè®¡ç­çº§æ•´ä½“å‡ºå‹¤ç‡ã€‚</li>
                <li><strong>ä¼ä¸šï¼ˆHRï¼‰ï¼š</strong>è¿½è¸ªå‘˜å·¥æœˆåº¦è€ƒå‹¤ã€è®¡ç®—ä¼‘å‡ä½™é¢åŠäººåŠ›è§„åˆ’ã€‚</li>
                <li><strong>æ´»åŠ¨ï¼š</strong>æ ¹æ®å—é‚€è€…çš„åˆ°åœºç‡è¡¡é‡ç ”è®¨ä¼šã€ç½‘ç»œä¼šè®®æˆ–æ´¾å¯¹çš„æˆåŠŸç¨‹åº¦ã€‚</li>
                <li><strong>é€‰ä¸¾ï¼š</strong>è®¡ç®—å¸‚æ”¿æˆ–å¤§é€‰çš„é€‰æ°‘æŠ•ç¥¨ç‡ã€‚</li>
            </ul>

            <h3>å¦‚ä½•è®¡ç®—å‡ºå‹¤ç‡â€”â€”å…¬å¼å’Œç¤ºä¾‹</h3>
            <p>æ ¸å¿ƒå…¬å¼éå¸¸ç®€å•ï¼š</p>
            <p><code>(å‡ºå‹¤å¤©æ•° Ã· æ€»å·¥ä½œæ—¥/æ€»è¯¾æ—¶) Ã— 100 = å‡ºå‹¤ç‡ %</code></p>
            <p><strong>ç¤ºä¾‹ï¼š</strong>å¦‚æœä¸€åå­¦ç”Ÿåœ¨æ€»å…± 50 èŠ‚è¯¾ä¸­å‡ºå¸­äº† 45 èŠ‚ï¼š<br>
            (45 Ã· 50) = 0.9<br>
            0.9 Ã— 100 = <strong>90%</strong></p>

            <h3>å‡ºå‹¤ç‡è®¡ç®—å™¨ï¼ˆæœˆåº¦ä¸æ€»ä½“ï¼‰</h3>
            <p>æ­¤å·¥å…·æ—¢å¯ç”¨äºæœˆåº¦æŠ¥å‘Šï¼Œä¹Ÿå¯ç”¨äºå­¦æœŸæˆ–å¹´åº¦çš„æ€»ä½“è¿½è¸ªã€‚å¯¹äºæœˆåº¦è¿½è¸ªï¼Œåªéœ€è¾“å…¥è¯¥ç‰¹å®šæœˆä»½çš„æ€»å·¥ä½œæ—¥ï¼ˆä¾‹å¦‚ 22 å¤©ï¼‰åŠæ‚¨çš„å®é™…å‡ºå‹¤å¤©æ•°å³å¯ã€‚</p>

            <h3>å‘˜å·¥è€ƒå‹¤ç™»è®°è¡¨ï¼ˆäººåŠ›èµ„æºå’Œäººäº‹éƒ¨é—¨ï¼‰</h3>
            <p>äººåŠ›èµ„æºéƒ¨é—¨ä½¿ç”¨è€ƒå‹¤æ•°æ®æ¥å¤„ç†å·¥èµ„å•ã€‚å‡†ç¡®è®¡ç®—å‡ºå‹¤ç™¾åˆ†æ¯”å¯ç¡®ä¿è–ªé…¬å…¬å¹³ï¼Œå¹¶æœ‰åŠ©äºè¯†åˆ«å‘˜å·¥ç¼ºå‹¤çš„è¶‹åŠ¿ã€‚</p>

            <h3>é€‰æ°‘æŠ•ç¥¨ç‡â€”â€”åˆ†æäººå£«å’Œå¸‚æ”¿å½“å±€çš„å·¥å…·</h3>
            <p>æ”¿æ²»åˆ†æäººå£«ä½¿ç”¨æ­¤è®¡ç®—æ¥è¡¡é‡å…¬ä¼—å‚ä¸åº¦ã€‚é«˜æŠ•ç¥¨ç‡é€šå¸¸è¡¨æ˜é€‰ä¸¾ç«äº‰æ¿€çƒˆæˆ–å…¬ä¼—åˆ©ç›Šç›¸å…³åº¦é«˜ã€‚</p>

            <h3>Excel å’Œåœ¨çº¿è€ƒå‹¤è®¡ç®—å™¨å¯¹æ¯”</h3>
            <table>
                <tr><th>åŠŸèƒ½</th><th>Excel / æ‰‹åŠ¨è®¡ç®—</th><th>åœ¨çº¿è®¡ç®—å™¨</th></tr>
                <tr><td>é€Ÿåº¦</td><td>è¾ƒæ…¢ï¼ˆéœ€è¦è®¾ç½®å…¬å¼ï¼‰</td><td>å³æ—¶</td></tr>
                <tr><td>è§„åˆ’åŠŸèƒ½</td><td>éœ€è¦æ‰‹åŠ¨æ¨ç®—</td><td>è‡ªåŠ¨è®¡ç®—è¿˜èƒ½ç¼ºå‹¤æ¬¡æ•°æˆ–éœ€è¡¥è¯¾æ¬¡æ•°</td></tr>
                <tr><td>æ˜“ç”¨æ€§</td><td>éœ€è¦è½¯ä»¶</td><td>ä»»ä½•æµè§ˆå™¨/æ‰‹æœºå‡å¯è®¿é—®</td></tr>
            </table>

            <h3>è°·æ­Œæœç´¢ï¼šè€ƒå‹¤è®¡ç®—å™¨ å¸¸è§é—®é¢˜è§£ç­”</h3>
            <p><strong>é—®ï¼šæ­¤å·¥å…·ä¼šä¿å­˜æˆ‘çš„æ•°æ®å—ï¼Ÿ</strong><br>ç­”ï¼šä¸ä¼šï¼Œæ‰€æœ‰è®¡ç®—éƒ½åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­è¿›è¡Œï¼Œç¡®ä¿éšç§ã€‚</p>
            <p><strong>é—®ï¼šæˆ‘å¯ä»¥å°†å…¶ç”¨äºå¤§å­¦è€ƒå‹¤æ ‡å‡†å—ï¼Ÿ</strong><br>ç­”ï¼šå¯ä»¥ï¼Œåœ¨â€œç›®æ ‡å‡ºå‹¤ç‡â€å­—æ®µä¸­è®¾ç½®å­¦æ ¡çš„è¦æ±‚ï¼ˆä¾‹å¦‚ 75%ï¼‰ï¼Œå³å¯æŸ¥çœ‹æ‚¨æ˜¯å¦å¤„äºå®‰å…¨åŒºã€‚</p>
        </div>

        <!-- Chinese Traditional Content -->
        <div data-lang-group="zh-TW">
            <h2>è€ƒå‹¤è¨ˆç®—å™¨ä»‹ç´¹</h2>
            <p>æˆ‘å€‘çš„å‡ºå‹¤ç‡è¨ˆç®—å™¨æ˜¯ä¸€æ¬¾é€šç”¨å·¥å…·ï¼Œå°ˆç‚ºå­¸ç”Ÿã€æ•™å¸«ã€äººåŠ›è³‡æºå°ˆå“¡å’Œæ´»å‹•çµ„ç¹”è€…è¨­è¨ˆã€‚å®ƒä¸åƒ…èƒ½ç°¡åŒ–å‡ºå‹¤ç™¾åˆ†æ¯”çš„è¨ˆç®—éç¨‹ï¼Œé‚„èƒ½å¹«åŠ©è¦åŠƒæœªä¾†çš„å‡ºå‹¤æƒ…æ³ä»¥é”åˆ°ç‰¹å®šç›®æ¨™ã€‚</p>
            
            <h3>ä»€éº¼æ˜¯æŠ•ç¥¨ç‡è¨ˆç®—å™¨ï¼Ÿ</h3>
            <p>æŠ•ç¥¨ç‡è¨ˆç®—å™¨æœ¬è³ªä¸Šå°±æ˜¯ç”¨æ–¼é¸èˆ‰æˆ–æ´»å‹•å ´æ™¯çš„å‡ºå‹¤è¨ˆç®—å™¨ã€‚å®ƒè¡¡é‡çš„æ˜¯ç¬¦åˆè³‡æ ¼çš„é¸æ°‘æˆ–å—é‚€å˜‰è³“ä¸­å¯¦éš›åƒèˆ‡çš„ç™¾åˆ†æ¯”ã€‚å…¶æ•¸å­¸å…¬å¼ä¿æŒä¸è®Šï¼š(åƒèˆ‡äººæ•¸ Ã· ç¬¦åˆè³‡æ ¼ç¸½æ•¸) Ã— 100ã€‚</p>

            <h3>å¯¦ç”¨ç¯„åœ</h3>
            <ul>
                <li><strong>æ•™è‚²ï¼š</strong>å­¸ç”Ÿè¿½è¹¤å€‹äººå‡ºå‹¤ä»¥é¿å…è¢«ç•¶ï¼›æ•™å¸«çµ±è¨ˆç­ç´šæ•´é«”å‡ºå‹¤ç‡ã€‚</li>
                <li><strong>ä¼æ¥­ï¼ˆHRï¼‰ï¼š</strong>è¿½è¹¤å“¡å·¥æœˆåº¦è€ƒå‹¤ã€è¨ˆç®—ä¼‘å‡é¤˜é¡åŠäººåŠ›è¦åŠƒã€‚</li>
                <li><strong>æ´»å‹•ï¼š</strong>æ ¹æ“šå—é‚€è€…çš„åˆ°å ´ç‡è¡¡é‡ç ”è¨æœƒã€ç¶²çµ¡æœƒè­°æˆ–æ´¾å°çš„æˆåŠŸç¨‹åº¦ã€‚</li>
                <li><strong>é¸èˆ‰ï¼š</strong>è¨ˆç®—å¸‚æ”¿æˆ–å¤§é¸çš„é¸æ°‘æŠ•ç¥¨ç‡ã€‚</li>
            </ul>

            <h3>å¦‚ä½•è¨ˆç®—å‡ºå‹¤ç‡â€”â€”å…¬å¼å’Œç¤ºä¾‹</h3>
            <p>æ ¸å¿ƒå…¬å¼éå¸¸ç°¡å–®ï¼š</p>
            <p><code>(å‡ºå‹¤å¤©æ•¸ Ã· ç¸½å·¥ä½œæ—¥/ç¸½èª²æ™‚) Ã— 100 = å‡ºå‹¤ç‡ %</code></p>
            <p><strong>ç¤ºä¾‹ï¼š</strong>å¦‚æœä¸€åå­¸ç”Ÿåœ¨ç¸½å…± 50 ç¯€èª²ä¸­å‡ºå¸­äº† 45 ç¯€ï¼š<br>
            (45 Ã· 50) = 0.9<br>
            0.9 Ã— 100 = <strong>90%</strong></p>

            <h3>Excel å’Œåœ¨ç·šè€ƒå‹¤è¨ˆç®—å™¨å°æ¯”</h3>
            <table>
                <tr><th>åŠŸèƒ½</th><th>Excel / æ‰‹å‹•è¨ˆç®—</th><th>åœ¨ç·šè¨ˆç®—å™¨</th></tr>
                <tr><td>é€Ÿåº¦</td><td>è¼ƒæ…¢ï¼ˆéœ€è¦è¨­ç½®å…¬å¼ï¼‰</td><td>å³æ™‚</td></tr>
                <tr><td>è¦åŠƒåŠŸèƒ½</td><td>éœ€è¦æ‰‹å‹•æ¨ç®—</td><td>è‡ªå‹•è¨ˆç®—é‚„èƒ½ç¼ºå‹¤æ¬¡æ•¸æˆ–éœ€è£œèª²æ¬¡æ•¸</td></tr>
            </table>
        </div>

        <!-- Polish Content -->
        <div data-lang-group="pl">
            <h2>O Kalkulatorze Frekwencji</h2>
            <p>Nasz kalkulator frekwencji to wszechstronne narzÄ™dzie przeznaczone dla studentÃ³w, nauczycieli, dziaÅ‚Ã³w HR i organizatorÃ³w wydarzeÅ„. Upraszcza proces Å›ledzenia procentowej obecnoÅ›ci i pomaga w planowaniu przyszÅ‚ej frekwencji.</p>
            
            <h3>Co to jest kalkulator frekwencji wyborczej?</h3>
            <p>Kalkulator frekwencji wyborczej to w zasadzie kalkulator obecnoÅ›ci uÅ¼ywany w kontekÅ›cie wyborÃ³w. Mierzy on odsetek uprawnionych wyborcÃ³w, ktÃ³rzy oddali gÅ‚os. WzÃ³r matematyczny pozostaje taki sam: (Uczestnicy / Uprawnieni) Ã— 100.</p>

            <h3>Zastosowanie praktyczne</h3>
            <ul>
                <li><strong>Edukacja:</strong> Uczniowie Å›ledzÄ…cy wÅ‚asnÄ… frekwencjÄ™; Nauczyciele obliczajÄ…cy frekwencjÄ™ klasy.</li>
                <li><strong>HR:</strong> Åšledzenie miesiÄ™cznej obecnoÅ›ci pracownikÃ³w.</li>
                <li><strong>Wydarzenia:</strong> Mierzenie sukcesu seminariÃ³w na podstawie liczby uczestnikÃ³w.</li>
            </ul>

            <h3>Jak obliczyÄ‡ frekwencjÄ™: WzÃ³r i przykÅ‚ady</h3>
            <p>Podstawowy wzÃ³r jest prosty:</p>
            <p><code>(Liczba dni obecnoÅ›ci Ã· CaÅ‚kowita liczba dni) Ã— 100 = Frekwencja %</code></p>

            <h3>Excel vs. Kalkulator Online</h3>
            <table>
                <tr><th>Cecha</th><th>Excel</th><th>Kalkulator Online</th></tr>
                <tr><td>SzybkoÅ›Ä‡</td><td>Wolno (wymaga formuÅ‚)</td><td>Natychmiast</td></tr>
                <tr><td>Planowanie</td><td>RÄ™czne obliczenia</td><td>Automatyczne</td></tr>
            </table>
        </div>

        <!-- Spanish Content -->
        <div data-lang-group="es">
            <h2>Sobre la Calculadora de Asistencia</h2>
            <p>Nuestra Calculadora de Asistencia es una herramienta versÃ¡til diseÃ±ada para estudiantes, profesores, RRHH y organizadores de eventos.</p>
            
            <h3>Â¿QuÃ© es una calculadora de participaciÃ³n?</h3>
            <p>Es esencialmente una calculadora de asistencia utilizada en el contexto de elecciones o eventos. Mide el porcentaje de votantes elegibles que participaron. La fÃ³rmula es: (Participantes / Total Elegible) Ã— 100.</p>

            <h3>Ãmbito PrÃ¡ctico</h3>
            <ul>
                <li><strong>EducaciÃ³n:</strong> Estudiantes y profesores.</li>
                <li><strong>Corporativo (RRHH):</strong> Seguimiento de asistencia mensual de empleados.</li>
                <li><strong>Eventos:</strong> MediciÃ³n del Ã©xito de seminarios.</li>
            </ul>

            <h3>CÃ³mo calcular la asistencia: FÃ³rmula</h3>
            <p><code>(DÃ­as Presentes Ã· DÃ­as Totales) Ã— 100 = % de Asistencia</code></p>

            <h3>Excel vs. Calculadora Online</h3>
            <table>
                <tr><th>CaracterÃ­stica</th><th>Excel</th><th>Calculadora Online</th></tr>
                <tr><td>Velocidad</td><td>Lento</td><td>InstantÃ¡neo</td></tr>
                <tr><td>PlanificaciÃ³n</td><td>Manual</td><td>AutomÃ¡tica</td></tr>
            </table>
        </div>

        <!-- Russian Content -->
        <div data-lang-group="ru">
            <h2>Ğ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğµ Ğ¿Ğ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸</h2>
            <p>ĞĞ°Ñˆ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ğ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸ â€” ÑÑ‚Ğ¾ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ², ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»ĞµĞ¹, HR-ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚Ğ¾Ğ² Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ² Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹.</p>
            
            <h3>Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑĞ²ĞºĞ¸?</h3>
            <p>Ğ­Ñ‚Ğ¾ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ° ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ² Ğ½Ğ° Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°Ñ… Ğ¸Ğ»Ğ¸ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸ÑÑ…. Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°: (Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸ / Ğ’ÑĞµĞ³Ğ¾) Ã— 100.</p>

            <h3>ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ</h3>
            <ul>
                <li><strong>ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:</strong> Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹ Ğ¸ ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»Ñ.</li>
                <li><strong>HR:</strong> Ğ£Ñ‡ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‡ĞµĞ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ².</li>
                <li><strong>Ğ’Ñ‹Ğ±Ğ¾Ñ€Ñ‹:</strong> ĞŸĞ¾Ğ´ÑÑ‡ĞµÑ‚ ÑĞ²ĞºĞ¸ Ğ¸Ğ·Ğ±Ğ¸Ñ€Ğ°Ñ‚ĞµĞ»ĞµĞ¹.</li>
            </ul>

            <h3>ĞšĞ°Ğº Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ: Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°</h3>
            <p><code>(ĞŸĞ¾ÑĞµÑ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ½Ğ¸ Ã· Ğ’ÑĞµĞ³Ğ¾ Ğ´Ğ½ĞµĞ¹) Ã— 100 = % ĞŸĞ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸</code></p>
        </div>

        <!-- Hindi Content -->
        <div data-lang-group="hi">
            <h2>à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤° à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚</h2>
            <p>à¤¹à¤®à¤¾à¤°à¤¾ à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤° à¤›à¤¾à¤¤à¥à¤°à¥‹à¤‚, à¤¶à¤¿à¤•à¥à¤·à¤•à¥‹à¤‚, à¤®à¤¾à¤¨à¤µ à¤¸à¤‚à¤¸à¤¾à¤§à¤¨ à¤ªà¥‡à¤¶à¥‡à¤µà¤°à¥‹à¤‚ à¤”à¤° à¤•à¤¾à¤°à¥à¤¯à¤•à¥à¤°à¤® à¤†à¤¯à¥‹à¤œà¤•à¥‹à¤‚ à¤•à¥‡ à¤²à¤¿à¤ à¤¡à¤¿à¤œà¤¼à¤¾à¤‡à¤¨ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤à¤• à¤¬à¤¹à¥à¤®à¥à¤–à¥€ à¤‰à¤ªà¤•à¤°à¤£ à¤¹à¥ˆà¥¤</p>
            
            <h3>à¤®à¤¤à¤¦à¤¾à¤¨ à¤ªà¥à¤°à¤¤à¤¿à¤¶à¤¤ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤° à¤•à¥à¤¯à¤¾ à¤¹à¥ˆ?</h3>
            <p>à¤¯à¤¹ à¤šà¥à¤¨à¤¾à¤µà¥‹à¤‚ à¤¯à¤¾ à¤•à¤¾à¤°à¥à¤¯à¤•à¥à¤°à¤®à¥‹à¤‚ à¤•à¥‡ à¤¸à¤‚à¤¦à¤°à¥à¤­ à¤®à¥‡à¤‚ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¤¾ à¤à¤• à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤° à¤¹à¥ˆà¥¤ à¤¸à¥‚à¤¤à¥à¤° à¤µà¤¹à¥€ à¤°à¤¹à¤¤à¤¾ à¤¹à¥ˆ: (à¤ªà¥à¤°à¤¤à¤¿à¤­à¤¾à¤—à¥€ / à¤•à¥à¤² à¤ªà¤¾à¤¤à¥à¤°) Ã— 100à¥¤</p>

            <h3>à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥€ à¤—à¤£à¤¨à¤¾ à¤•à¥ˆà¤¸à¥‡ à¤•à¤°à¥‡à¤‚: à¤¸à¥‚à¤¤à¥à¤°</h3>
            <p><code>(à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤ à¤¦à¤¿à¤¨ Ã· à¤•à¥à¤² à¤•à¤¾à¤°à¥à¤¯ à¤¦à¤¿à¤µà¤¸) Ã— 100 = à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ %</code></p>
        </div>

    </div>

</div>

<script>
const currentYear = new Date().getFullYear();

// Translations for UI Labels
const i18n = {
    "en": {
        title: "Attendance Calculator",
        subtitle: "Track & Plan Your Attendance",
        label_classname: "Class Name / Subject (Optional)",
        label_total: "Total Count (Students/Classes)",
        label_present: "Present Count (Attended)",
        result_title: "Result Percentage",
        plan_title: "Planning & Goals",
        label_target: "Target Percentage (%)",
        plan_miss: "You can miss/lose <strong>{n}</strong> more, staying above {t}%.",
        plan_attend: "You need <strong>{n}</strong> more (consecutive attendance) to reach {t}%.",
        plan_impossible: "Mathematically impossible to reach {t}% currently."
    },
    "zh-CN": {
        title: "å‡ºå‹¤ç‡è®¡ç®—å™¨",
        subtitle: "ç¼ºå‹¤ç»Ÿè®¡ä¸è¡¥è¯¾è§„åˆ’",
        label_classname: "ç±»å / å­¦ç§‘åç§°ï¼ˆå¯é€‰ï¼‰",
        label_total: "æ€»æ•°ï¼ˆç­çº§äººæ•° / æ€»è¯¾æ—¶ï¼‰",
        label_present: "åˆ°åœºæ•°ï¼ˆå®åˆ°äººæ•° / å·²å‡ºå¸­ï¼‰",
        result_title: "è®¡ç®—ç»“æœ",
        plan_title: "ç›®æ ‡è§„åˆ’",
        label_target: "ç›®æ ‡ç™¾åˆ†æ¯” (%)",
        plan_miss: "æ‚¨è¿˜å¯ä»¥ç¼ºå¸­/å‡å°‘ <strong>{n}</strong> ä¸ªå•ä½ï¼Œä»ä¿æŒåœ¨ {t}% ä»¥ä¸Šã€‚",
        plan_attend: "æ‚¨éœ€è¦è¿ç»­å¢åŠ  <strong>{n}</strong> ä¸ªå•ä½ï¼ˆå‡ºå¸­/åˆ°åœºï¼‰ï¼Œæ‰èƒ½è¾¾åˆ° {t}%ã€‚",
        plan_impossible: "å½“å‰åŸºæ•°ä¸‹æ— æ³•é€šè¿‡å¢åŠ æ•°é‡è¾¾åˆ° {t}%ã€‚"
    },
    "zh-TW": {
        title: "å‡ºå‹¤ç‡è¨ˆç®—å™¨",
        subtitle: "ç¼ºå‹¤çµ±è¨ˆèˆ‡è£œèª²è¦åŠƒ",
        label_classname: "é¡å / å­¸ç§‘åç¨±ï¼ˆå¯é¸ï¼‰",
        label_total: "ç¸½æ•¸ï¼ˆç­ç´šäººæ•¸ / ç¸½èª²æ™‚ï¼‰",
        label_present: "åˆ°å ´æ•¸ï¼ˆå¯¦åˆ°äººæ•¸ / å·²å‡ºå¸­ï¼‰",
        result_title: "è¨ˆç®—çµæœ",
        plan_title: "ç›®æ¨™è¦åŠƒ",
        label_target: "ç›®æ¨™ç™¾åˆ†æ¯” (%)",
        plan_miss: "æ‚¨é‚„å¯ä»¥ç¼ºå¸­/æ¸›å°‘ <strong>{n}</strong> å€‹å–®ä½ï¼Œä»ä¿æŒåœ¨ {t}% ä»¥ä¸Šã€‚",
        plan_attend: "æ‚¨éœ€è¦é€£çºŒå¢åŠ  <strong>{n}</strong> å€‹å–®ä½ï¼ˆå‡ºå¸­/åˆ°å ´ï¼‰ï¼Œæ‰èƒ½é”åˆ° {t}%ã€‚",
        plan_impossible: "ç•¶å‰åŸºæ•¸ä¸‹ç„¡æ³•é€éå¢åŠ æ•¸é‡é”åˆ° {t}%ã€‚"
    },
    "pl": {
        title: "Kalkulator Frekwencji",
        subtitle: "Oblicz procent obecnoÅ›ci",
        label_classname: "Nazwa klasy / Przedmiot (Opcjonalnie)",
        label_total: "Suma (Uczniowie/ZajÄ™cia)",
        label_present: "Obecni (Uczestnicy)",
        result_title: "Wynik Procentowy",
        plan_title: "Planowanie",
        label_target: "Cel (%)",
        plan_miss: "MoÅ¼esz opuÅ›ciÄ‡ <strong>{n}</strong>, aby utrzymaÄ‡ {t}%.",
        plan_attend: "Potrzebujesz <strong>{n}</strong> wiÄ™cej, aby osiÄ…gnÄ…Ä‡ {t}%.",
        plan_impossible: "NiemoÅ¼liwe do osiÄ…gniÄ™cia {t}%."
    },
    "es": {
        title: "Calculadora de Asistencia",
        subtitle: "Calcula tu porcentaje",
        label_classname: "Nombre de la Clase (Opcional)",
        label_total: "Total (Estudiantes/Clases)",
        label_present: "Presentes (Asistencias)",
        result_title: "Porcentaje Resultante",
        plan_title: "PlanificaciÃ³n",
        label_target: "Meta (%)",
        plan_miss: "Puedes faltar <strong>{n}</strong> mÃ¡s para mantenerte sobre {t}%.",
        plan_attend: "Necesitas <strong>{n}</strong> mÃ¡s para llegar al {t}%.",
        plan_impossible: "Imposible llegar al {t}%."
    },
    "ru": {
        title: "ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ğ¾ÑĞµÑ‰Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸",
        subtitle: "Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²",
        label_classname: "ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ°ÑÑĞ° (Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)",
        label_total: "Ğ’ÑĞµĞ³Ğ¾ (Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹/Ğ—Ğ°Ğ½ÑÑ‚Ğ¸Ñ)",
        label_present: "ĞŸÑ€Ğ¸ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚",
        result_title: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚",
        plan_title: "ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",
        label_target: "Ğ¦ĞµĞ»ÑŒ (%)",
        plan_miss: "ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ <strong>{n}</strong>, Ğ¾ÑÑ‚Ğ°Ğ²Ğ°ÑÑÑŒ Ğ²Ñ‹ÑˆĞµ {t}%.",
        plan_attend: "ĞÑƒĞ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚ÑŒ ĞµÑ‰Ğµ <strong>{n}</strong>, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ¾ÑÑ‚Ğ¸Ñ‡ÑŒ {t}%.",
        plan_impossible: "ĞĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ¸Ñ‡ÑŒ {t}%."
    },
    "hi": {
        title: "à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°",
        subtitle: "à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚",
        label_classname: "à¤•à¤•à¥à¤·à¤¾ à¤•à¤¾ à¤¨à¤¾à¤® (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•)",
        label_total: "à¤•à¥à¤² (à¤›à¤¾à¤¤à¥à¤°/à¤•à¤•à¥à¤·à¤¾à¤à¤‚)",
        label_present: "à¤‰à¤ªà¤¸à¥à¤¥à¤¿à¤¤ à¤¸à¤‚à¤–à¥à¤¯à¤¾",
        result_title: "à¤ªà¤°à¤¿à¤£à¤¾à¤®",
        plan_title: "à¤¯à¥‹à¤œà¤¨à¤¾",
        label_target: "à¤²à¤•à¥à¤·à¥à¤¯ (%)",
        plan_miss: "à¤†à¤ª {t}% à¤¸à¥‡ à¤Šà¤ªà¤° à¤°à¤¹à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ <strong>{n}</strong> à¤›à¥‹à¤¡à¤¼ à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤",
        plan_attend: "à¤†à¤ªà¤•à¥‹ {t}% à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤šà¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ <strong>{n}</strong> à¤”à¤° à¤šà¤¾à¤¹à¤¿à¤à¥¤",
        plan_impossible: "{t}% à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤šà¤¨à¤¾ à¤¸à¤‚à¤­à¤µ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤"
    }
};

const AttCalc = {
    currentLang: 'en',
    currentTheme: 'dark',

    init() {
        const savedTheme = localStorage.getItem('att_theme') || 'dark';
        this.setTheme(savedTheme);

        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        const savedLang = localStorage.getItem('att_lang');
        
        if (urlLang && i18n[urlLang]) {
            this.currentLang = urlLang;
        } else if (savedLang && i18n[savedLang]) {
            this.currentLang = savedLang;
        } else {
            this.currentLang = 'en';
        }

        document.getElementById('lang-select').value = this.currentLang;
        document.getElementById('current-year-display').textContent = `${currentYear}`;

        this.updateTexts();
    },

    calculate() {
        const total = parseFloat(document.getElementById('total-count').value);
        const present = parseFloat(document.getElementById('present-count').value);
        const target = parseFloat(document.getElementById('target-percent').value) || 75;

        const displayEl = document.getElementById('percentage-value');
        const barEl = document.getElementById('progress-fill');
        const planAlert = document.getElementById('plan-alert');

        if (isNaN(total) || isNaN(present) || total <= 0) {
            displayEl.textContent = '0%';
            barEl.style.width = '0%';
            planAlert.classList.add('hidden');
            return;
        }

        // Percentage Logic
        let percent = (present / total) * 100;
        if (percent > 100) percent = 100;
        if (percent < 0) percent = 0;

        const formattedPercent = Number.isInteger(percent) ? percent : percent.toFixed(1);
        displayEl.textContent = `${formattedPercent}%`;
        barEl.style.width = `${percent}%`;

        const texts = i18n[this.currentLang];
        
        // Color coding
        if (percent >= target) {
            barEl.style.backgroundColor = 'var(--success)';
            displayEl.style.color = 'var(--success)';
        } else {
            barEl.style.backgroundColor = 'var(--danger)';
            displayEl.style.color = 'var(--danger)';
        }

        // Planning Logic
        let msg = "";
        let alertClass = "";

        if (percent >= target) {
            // How many can I miss? (Assuming student context: Total increases, Present stays same)
            // Or (Teacher context: Total Students stays same, Present Students drops) 
            // The formula provided in prompt implies "Student Bunking" logic usually.
            // Let's stick to the standard "Bunking" logic (Total increases) as it's the most common use case for "Planning".
            // Logic: Attended / (Total + X) >= Target%
            const maxTotal = (present * 100) / target;
            const missable = Math.floor(maxTotal - total);
            
            if (missable > 0) {
                msg = texts.plan_miss.replace('{n}', missable).replace('{t}', target);
                alertClass = "text-[var(--success)]";
            }
        } else {
            // Need to attend more
            if (target >= 100) {
                 msg = texts.plan_impossible.replace('{t}', target);
            } else {
                const numerator = (target * total) - (100 * present);
                const denominator = 100 - target;
                const needed = Math.ceil(numerator / denominator);
                
                if (needed > 0) {
                    msg = texts.plan_attend.replace('{n}', needed).replace('{t}', target);
                    alertClass = "text-[var(--warning)]";
                }
            }
        }

        if(msg) {
            planAlert.innerHTML = msg;
            planAlert.className = `p-4 rounded-lg bg-[var(--bg-card)] border border-[var(--border)] mt-4 ${alertClass}`;
            planAlert.classList.remove('hidden');
        } else {
            planAlert.classList.add('hidden');
        }
    },

    toggleTheme() {
        const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
        this.setTheme(newTheme);
    },

    setTheme(theme) {
        this.currentTheme = theme;
        const icon = document.getElementById('theme-icon');
        if (theme === 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
            icon.textContent = 'â˜€ï¸';
        } else {
            document.documentElement.removeAttribute('data-theme');
            icon.textContent = 'ğŸŒ™';
        }
        localStorage.setItem('att_theme', theme);
    },

    changeLang() {
        this.currentLang = document.getElementById('lang-select').value;
        localStorage.setItem('att_lang', this.currentLang);
        try {
            const url = new URL(window.location);
            url.searchParams.set('lang', this.currentLang);
            window.history.pushState({}, '', url);
        } catch (e) {}
        this.updateTexts();
        this.calculate(); 
    },

    updateTexts() {
        const texts = i18n[this.currentLang];
        // 1. Update simple UI labels
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (texts[key]) el.textContent = texts[key];
        });
        document.title = texts.title;

        // 2. Update Long Content Sections (Show/Hide divs)
        document.querySelectorAll('[data-lang-group]').forEach(el => {
            el.classList.remove('active');
            if(el.getAttribute('data-lang-group') === this.currentLang) {
                el.classList.add('active');
            }
        });
        
        // Fallback to English for content if specific lang not found in HTML blocks
        const activeContent = document.querySelector(`[data-lang-group="${this.currentLang}"]`);
        if(!activeContent) {
            const enContent = document.querySelector(`[data-lang-group="en"]`);
            if(enContent) enContent.classList.add('active');
        }

        if(document.getElementById('total-count').value) {
            this.calculate();
        }
    }
};

window.onload = () => AttCalc.init();
</script>

<div id="related-tools-container"></div>
<script src="/scripts/related.js"></script>
</body>
</html>