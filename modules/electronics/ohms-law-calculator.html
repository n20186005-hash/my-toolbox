<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Category Meta Tag -->
    <meta name="category" content="engineering">
    <meta name="icon" content="⚡">
    <meta name="description" content="Ohm's Law Calculator - Calculate Voltage, Current, and Resistance.">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>Ω</text></svg>">
    
    <title>电阻,电流,电压计算器 | Ohm's Law Pro</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/electronics/ohms-law-calculator.html" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: { DEFAULT: '#f59e0b', hover: '#d97706' }, /* Amber */
                        secondary: { DEFAULT: '#3b82f6', hover: '#2563eb' }, /* Blue */
                        bg: { light: '#fffbeb', dark: '#0f172a' }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .scrollbar-hide::-webkit-scrollbar { display: none; }
            .glass {
                @apply bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg border border-amber-200 dark:border-slate-700;
            }
            .input-group {
                @apply relative flex items-center transition-all;
            }
            .input-field {
                @apply w-full pl-10 pr-12 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-white focus:ring-4 focus:ring-primary/20 focus:border-primary outline-none transition-all text-lg font-mono placeholder:text-slate-400;
            }
            .input-field:read-only {
                @apply bg-slate-50 dark:bg-slate-800 text-slate-500 border-dashed cursor-not-allowed;
            }
            .result-highlight {
                @apply bg-amber-50 dark:bg-amber-900/20 border-amber-400 dark:border-amber-500 text-amber-700 dark:text-amber-300 font-bold !important;
            }
            .input-icon {
                @apply absolute left-3 text-slate-400 text-lg pointer-events-none transition-colors;
            }
            .unit-label {
                @apply absolute right-4 text-slate-400 text-sm font-bold pointer-events-none;
            }
            .btn-primary {
                @apply bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-amber-500/20 transition-all active:scale-95 flex items-center justify-center gap-2 text-base;
            }
            .btn-secondary {
                @apply bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 font-medium py-3 px-6 rounded-xl transition-all text-base;
            }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-bg-light dark:bg-bg-dark min-h-screen font-sans text-slate-800 dark:text-slate-200 transition-colors duration-300 overflow-x-hidden">

    <!-- Header -->
    <header class="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 text-white flex items-center justify-center font-bold text-xs shadow-md">
                    Ω
                </div>
                <div>
                    <h1 class="text-lg font-bold text-slate-900 dark:text-white leading-tight" data-i18n="title">电阻,电流,电压计算器</h1>
                    <p class="text-[10px] text-slate-500 font-medium" data-i18n="subtitle">欧姆定律在线计算</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2">
                <select id="lang-selector" class="bg-slate-100 dark:bg-slate-700 text-xs font-bold px-2 py-1.5 rounded-lg border-none focus:ring-0 cursor-pointer text-slate-600 dark:text-slate-300">
                    <option value="zh-CN">中文</option>
                    <option value="en">EN</option>
                </select>
                <button id="mode-toggle" class="w-8 h-8 rounded-lg bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 hover:text-primary transition-colors">
                    <i class="fa fa-moon-o dark:hidden"></i>
                    <i class="fa fa-sun-o hidden dark:inline"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-6 max-w-6xl grid lg:grid-cols-12 gap-6">
        
        <!-- Input Panel -->
        <div class="lg:col-span-5 space-y-4">
            <div class="glass rounded-2xl p-6 shadow-sm space-y-5 border-t-4 border-t-amber-500">
                
                <div>
                    <h3 class="text-sm font-bold text-slate-500 uppercase mb-1 flex items-center gap-2">
                        <i class="fa fa-keyboard-o"></i> <span data-i18n="h_inputs">参数输入</span>
                    </h3>
                    <p class="text-xs text-slate-400 mb-4" data-i18n="p_hint">请输入任意两个值，第三个值将被计算出来。</p>
                </div>

                <div class="space-y-4">
                    <!-- Resistance R -->
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lbl_r">电阻 (R)</label>
                        <div class="input-group">
                            <i class="fa fa-microchip input-icon text-amber-500"></i>
                            <input type="number" id="inp-r" class="input-field" placeholder="-" oninput="App.checkInput('r')">
                            <span class="unit-label">Ω</span>
                        </div>
                    </div>

                    <!-- Current I -->
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lbl_i">电流 (I)</label>
                        <div class="input-group">
                            <i class="fa fa-exchange input-icon text-emerald-500"></i>
                            <input type="number" id="inp-i" class="input-field" placeholder="-" oninput="App.checkInput('i')">
                            <span class="unit-label">A</span>
                        </div>
                    </div>
                    
                    <!-- Voltage V -->
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lbl_v">电压 (V)</label>
                        <div class="input-group">
                            <i class="fa fa-bolt input-icon text-blue-500"></i>
                            <input type="number" id="inp-v" class="input-field" placeholder="-" oninput="App.checkInput('v')">
                            <span class="unit-label">V</span>
                        </div>
                    </div>
                </div>

                <div class="pt-2 flex gap-3">
                    <button onclick="App.calculate()" class="btn-primary flex-1" id="btn-calc" disabled>
                        <span data-i18n="btn_calc">计算</span> (0/2)
                    </button>
                    <button onclick="App.reset()" class="btn-secondary text-red-500 hover:text-red-600">
                        <i class="fa fa-refresh"></i> <span data-i18n="btn_clear">清空</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Output / Diagram Panel -->
        <div class="lg:col-span-7 space-y-6">
            
            <!-- Triangle Diagram -->
            <div class="glass rounded-2xl shadow-sm border-t-4 border-t-blue-500 overflow-hidden flex flex-col h-full items-center justify-center p-6 relative">
                
                <div class="absolute top-4 left-4">
                    <h3 class="text-sm font-bold text-slate-500 uppercase flex items-center gap-2">
                        <i class="fa fa-play fa-rotate-270"></i> <span data-i18n="h_triangle">欧姆定律三角</span>
                    </h3>
                </div>

                <!-- SVG Triangle -->
                <div class="w-full max-w-[350px] aspect-square relative">
                    <svg viewBox="0 0 300 260" class="w-full h-full drop-shadow-xl">
                        <!-- Outer Triangle -->
                        <path d="M150,10 L290,250 L10,250 Z" class="fill-white dark:fill-slate-800 stroke-slate-300 dark:stroke-slate-600 stroke-4" />
                        
                        <!-- Horizontal Line -->
                        <line x1="80" y1="130" x2="220" y2="130" class="stroke-slate-300 dark:stroke-slate-600 stroke-4" />
                        
                        <!-- Vertical Line -->
                        <line x1="150" y1="130" x2="150" y2="250" class="stroke-slate-300 dark:stroke-slate-600 stroke-4" />

                        <!-- V (Top) -->
                        <text x="150" y="100" text-anchor="middle" class="text-6xl font-bold fill-blue-500 dark:fill-blue-400" style="font-size: 60px;">V</text>
                        
                        <!-- I (Bottom Left) -->
                        <text x="90" y="210" text-anchor="middle" class="text-6xl font-bold fill-emerald-500 dark:fill-emerald-400" style="font-size: 60px;">I</text>
                        
                        <!-- R (Bottom Right) -->
                        <text x="210" y="210" text-anchor="middle" class="text-6xl font-bold fill-amber-500 dark:fill-amber-400" style="font-size: 60px;">R</text>

                        <!-- Math Signs -->
                        <text x="150" y="125" text-anchor="middle" class="text-sm fill-slate-400 font-bold">÷</text>
                        <text x="150" y="200" text-anchor="middle" class="text-sm fill-slate-400 font-bold">×</text>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Section -->
    <section class="container mx-auto px-4 mb-12 max-w-6xl">
        <div class="glass rounded-2xl p-8 shadow-xl">
            <h2 class="text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
                <i class="fa fa-book text-primary"></i> <span data-i18n="guide_title">常用公式与定义</span>
            </h2>
            
            <div class="grid md:grid-cols-2 gap-12">
                <div class="space-y-6 text-slate-600 dark:text-slate-300 leading-relaxed text-sm">
                    <div class="bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 rounded-r-lg">
                        <h3 class="font-bold text-amber-800 dark:text-amber-200 mb-2 text-sm uppercase" data-i18n="h_formula">基本计算公式</h3>
                        <ul class="space-y-2 font-mono text-xs md:text-sm text-amber-900 dark:text-amber-100">
                            <li><span class="font-bold">1. </span> <span data-i18n="f1">求电压 V = R × I</span></li>
                            <li><span class="font-bold">2. </span> <span data-i18n="f2">求电流 I = V ÷ R</span></li>
                            <li><span class="font-bold">3. </span> <span data-i18n="f3">求电阻 R = V ÷ I</span></li>
                        </ul>
                    </div>
                    
                    <div class="bg-slate-100 dark:bg-slate-800 p-4 rounded-lg">
                        <h4 class="font-bold text-slate-800 dark:text-white mb-2 text-sm" data-i18n="def_r_title">电阻 (R)</h4>
                        <p class="text-xs text-slate-600 dark:text-slate-400" data-i18n="def_r_text">
                            导体的电阻通常用字母R表示，单位是欧姆（ohm），简称欧，符号是Ω。1Ω=1V/A。常用单位有千欧(kΩ)、兆欧(MΩ)。
                        </p>
                    </div>
                </div>

                <div class="space-y-6 text-slate-600 dark:text-slate-300 leading-relaxed text-sm">
                    <div class="bg-slate-100 dark:bg-slate-800 p-4 rounded-lg">
                        <h4 class="font-bold text-slate-800 dark:text-white mb-2 text-sm" data-i18n="def_i_title">电流 (I)</h4>
                        <p class="text-xs text-slate-600 dark:text-slate-400" data-i18n="def_i_text">
                            电流的基本单位是安培(A)，定义为在真空中相距1米的无限长平行导线通以相等恒定电流，每米受力2×10⁻⁷N时的电流值。
                        </p>
                    </div>

                    <div class="bg-slate-100 dark:bg-slate-800 p-4 rounded-lg">
                        <h4 class="font-bold text-slate-800 dark:text-white mb-2 text-sm" data-i18n="def_v_title">电压 (V)</h4>
                        <p class="text-xs text-slate-600 dark:text-slate-400" data-i18n="def_v_text">
                            电压在国际单位制中的主单位是伏特(V)。1伏特等于对1库仑电荷做1焦耳功，即 1V = 1J/C。常用单位：千伏(kV), 毫伏(mV), 微伏(μV)。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center text-xs text-slate-400 py-6">
        <p>&copy; <span id="year"></span> Ohm's Law Calculator. Generated for Educational Purposes.</p>
    </footer>

    <script>
        const i18nData = {
            'zh-CN': {
                title: "电阻,电流,电压计算器", subtitle: "欧姆定律在线计算",
                h_inputs: "参数输入", p_hint: "请输入任意两个值，第三个值将被计算出来。",
                lbl_r: "电阻 (R)", lbl_i: "电流 (I)", lbl_v: "电压 (V)",
                btn_calc: "计算", btn_clear: "清空",
                h_triangle: "欧姆定律三角",
                guide_title: "常用公式与定义",
                h_formula: "基本计算公式",
                f1: "求电压 V = R × I", f2: "求电流 I = V ÷ R", f3: "求电阻 R = V ÷ I",
                def_r_title: "电阻 (R)",
                def_r_text: "导体的电阻通常用字母R表示，单位是欧姆（ohm），简称欧，符号是Ω。1Ω=1V/A。常用单位有千欧(kΩ)、兆欧(MΩ)。",
                def_i_title: "电流 (I)",
                def_i_text: "电流的基本单位是安培(A)，定义为在真空中相距1米的无限长平行导线通以相等恒定电流，每米受力2×10⁻⁷N时的电流值。",
                def_v_title: "电压 (V)",
                def_v_text: "电压在国际单位制中的主单位是伏特(V)。1伏特等于对1库仑电荷做1焦耳功，即 1V = 1J/C。常用单位：千伏(kV), 毫伏(mV), 微伏(μV)。"
            },
            'en': {
                title: "Ohm's Law Calculator", subtitle: "R, I, V Calculator",
                h_inputs: "Parameters", p_hint: "Enter any 2 values to calculate the 3rd.",
                lbl_r: "Resistance (R)", lbl_i: "Current (I)", lbl_v: "Voltage (V)",
                btn_calc: "Calculate", btn_clear: "Clear",
                h_triangle: "Ohm's Law Triangle",
                guide_title: "Formulas & Definitions",
                h_formula: "Basic Formulas",
                f1: "Find Voltage: V = R × I", f2: "Find Current: I = V ÷ R", f3: "Find Resistance: R = V ÷ I",
                def_r_title: "Resistance (R)",
                def_r_text: "Resistance is measured in Ohms (Ω). 1Ω = 1V/A. Common units: kΩ (kilo-ohm), MΩ (mega-ohm).",
                def_i_title: "Current (I)",
                def_i_text: "The basic unit of current is the Ampere (A). It's the flow of electric charge across a surface at the rate of one coulomb per second.",
                def_v_title: "Voltage (V)",
                def_v_text: "Voltage is measured in Volts (V). 1 Volt is the potential difference that moves 1 Joule of energy per Coulomb of charge (1V = 1J/C)."
            }
        };

        const App = {
            lang: 'zh-CN',
            inputs: { r: '', i: '', v: '' },
            
            init() {
                this.setupLang();
                this.handleTheme();
                this.updateYear();
            },

            updateYear() {
                document.getElementById('year').textContent = new Date().getFullYear();
            },

            setupLang() {
                const sel = document.getElementById('lang-selector');
                const urlParams = new URLSearchParams(window.location.search);
                this.lang = urlParams.get('lang') || 'zh-CN';
                sel.value = this.lang;
                this.updateText();
                sel.addEventListener('change', (e) => {
                    this.lang = e.target.value;
                    try {
                        const newUrl = new URL(window.location);
                        newUrl.searchParams.set('lang', this.lang);
                        window.history.pushState({}, '', newUrl);
                    } catch (e) {}
                    this.updateText();
                });
            },

            updateText() {
                const dict = i18nData[this.lang];
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(dict[key]) el.innerHTML = dict[key];
                });
                this.checkInput(); // Update button text
            },

            checkInput(id) {
                this.inputs.r = document.getElementById('inp-r').value;
                this.inputs.i = document.getElementById('inp-i').value;
                this.inputs.v = document.getElementById('inp-v').value;

                let filled = 0;
                if(this.inputs.r) filled++;
                if(this.inputs.i) filled++;
                if(this.inputs.v) filled++;

                const btn = document.getElementById('btn-calc');
                const baseTxt = this.lang === 'zh-CN' ? '计算' : 'Calculate';
                btn.innerHTML = `<span>${baseTxt}</span> (${filled}/2)`;

                if (filled >= 2) {
                    btn.disabled = false;
                    btn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    btn.disabled = true;
                    btn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            },

            calculate() {
                let r = parseFloat(this.inputs.r);
                let i = parseFloat(this.inputs.i);
                let v = parseFloat(this.inputs.v);

                const hasR = !isNaN(r);
                const hasI = !isNaN(i);
                const hasV = !isNaN(v);

                if (hasR && hasI) {
                    // V = I * R
                    v = i * r;
                } else if (hasV && hasR) {
                    // I = V / R
                    i = v / r;
                } else if (hasV && hasI) {
                    // R = V / I
                    r = v / i;
                }

                this.updateField('inp-r', r, hasR);
                this.updateField('inp-i', i, hasI);
                this.updateField('inp-v', v, hasV);
            },

            updateField(id, val, wasUserForced) {
                const el = document.getElementById(id);
                if (isNaN(val) || !isFinite(val)) {
                    if (!wasUserForced) el.value = '';
                    return;
                }
                
                // Format nicely
                const displayVal = parseFloat(val.toFixed(6));
                el.value = displayVal;

                if (!wasUserForced) {
                    el.classList.add('result-highlight');
                    el.style.transform = 'scale(1.02)';
                    setTimeout(() => el.style.transform = 'scale(1)', 200);
                } else {
                    el.classList.remove('result-highlight');
                }
            },

            reset() {
                this.inputs = { r: '', i: '', v: '' };
                ['inp-r', 'inp-i', 'inp-v'].forEach(id => {
                    const el = document.getElementById(id);
                    el.value = '';
                    el.classList.remove('result-highlight');
                });
                this.checkInput();
            },

            handleTheme() {
                const toggle = document.getElementById('mode-toggle');
                const html = document.documentElement;
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    html.classList.add('dark');
                }
                toggle.addEventListener('click', () => {
                    html.classList.toggle('dark');
                    localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
                });
            }
        };

        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
     <!--  结尾必须包含的代码 -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>