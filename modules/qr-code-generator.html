<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    
    <!-- Âü∫Á§é‰ø°ÊÅØ -->
    <meta name="tool-id" content="qr_generator">
    <meta name="category" content="utilities">
    <meta name="icon" content="üì±">
    
    <!-- ÈªòË™çËã±ÊñáÂÖßÂÆπ -->
    <meta name="title" content="QR Code Generator">
    <meta name="description" content="Generate QR codes from text, URLs, or other information.">
    
    <!-- Â§öË™ûË®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="‰∫åÁª¥Á†ÅÁîüÊàêÂô®">
    <meta name="lang-description-zh-CN" content="Ê†πÊçÆÊñáÊú¨„ÄÅURLÊàñÂÖ∂‰ªñ‰ø°ÊÅØÁîüÊàê‰∫åÁª¥Á†Å„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="‰∫åÁ∂≠Á¢ºÁîüÊàêÂô®">
    <meta name="lang-description-zh-TW" content="Ê†πÊìöÊñáÊú¨„ÄÅURLÊàñÂÖ∂‰ªñ‰ø°ÊÅØÁîüÊàê‰∫åÁ∂≠Á¢º„ÄÇ">
    
    <meta name="lang-title-ja" content="QR„Ç≥„Éº„Éâ„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº">
    <meta name="lang-description-ja" content="„ÉÜ„Ç≠„Çπ„Éà„ÄÅURL„ÄÅ„Åæ„Åü„ÅØ„Åù„ÅÆ‰ªñ„ÅÆÊÉÖÂ†±„Åã„ÇâQR„Ç≥„Éº„Éâ„ÇíÁîüÊàê„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤">
    <meta name="lang-description-ru" content="–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞, URL –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.">
    
    <meta name="lang-title-es" content="Generador de C√≥digos QR">
    <meta name="lang-description-es" content="Genere c√≥digos QR a partir de texto, URL u otra informaci√≥n.">

    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Á¢∫‰øùÂºïÁî®Ê≠£Á¢∫ÁöÑÂ∫´Êñá‰ª∂ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <style>
        body { 
            padding: 20px; 
            background: #f0f9ff; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            margin: 0;
        }
        .tool-module { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            max-width: 800px; 
            margin: 0 auto; 
            position: relative; 
        }
        .input-group { margin-bottom: 16px; }
        label { 
            display: block; 
            margin-bottom: 4px; 
            font-weight: 500; 
            color: #4b5563; 
        }
        textarea { 
            width: 100%; 
            padding: 8px; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
            min-height: 100px; 
            box-sizing: border-box;
        }
        .options { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 16px; 
            margin-bottom: 16px; 
        }
        @media (max-width: 600px) {
            .options { grid-template-columns: 1fr; }
        }
        .qr-container { 
            text-align: center; 
            padding: 20px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }
        /* Á¢∫‰øùcanvasÊ≠£Á¢∫Â±Ö‰∏≠È°ØÁ§∫ */
        #qr-canvas { 
            max-width: 100%;
            height: auto;
            background: white; 
            border-radius: 4px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
            margin-bottom: 16px;
        }
        select, input[type="color"] {
            width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="qr_generator" 
         data-category="utilities" 
         data-title="QR Code Generator" 
         data-icon="üì±">
        
        <!-- Ë™ûË®ÄÈÅ∏ÊìáÂô® -->
        <div class="absolute top-4 right-4">
            <select id="qr-lang" onchange="QRGenerator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üì± QR Code Generator</h2>
        
        <div class="space-y-4">
            <div class="input-group">
                <label data-i18n="input_label">Enter Text/URL</label>
                <textarea id="qr-content" class="focus:ring-2 focus:ring-blue-500 outline-none" placeholder="https://example.com or any text"></textarea>
            </div>
            
            <div class="options">
                <div>
                    <label data-i18n="size_label">QR Code Size</label>
                    <select id="qr-size" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="128">128x128</option>
                        <option value="256" selected>256x256</option>
                        <option value="384">384x384</option>
                        <option value="512">512x512</option>
                    </select>
                </div>
                <div>
                    <label data-i18n="color_label">Foreground Color</label>
                    <input type="color" id="qr-color" value="#000000" class="w-full h-10 p-0 border rounded">
                </div>
            </div>
            
            <button onclick="QRGenerator.generate()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_generate">Generate QR Code</button>

            <div class="bg-blue-50 p-6 rounded-lg border border-blue-100 qr-container">
                <div id="qr-result" class="text-gray-500" data-i18n="result_placeholder">QR code will appear here</div>
                
                <!-- ‰ΩøÁî®È°ØÂºèÁöÑ canvas Ê®ôÁ±§ -->
                <canvas id="qr-canvas" style="display: none;"></canvas>
                
                <button onclick="QRGenerator.download()" id="download-btn" style="display: none; padding: 8px 16px; background: green; color: white; border: none; border-radius: 4px; cursor: pointer;" data-i18n="btn_download">Download QR Code</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.QRGenerator = {
                i18n: {
                    'en': {
                        title: 'üì± QR Code Generator',
                        input_label: 'Enter Text/URL',
                        size_label: 'QR Code Size',
                        color_label: 'Foreground Color',
                        btn_generate: 'Generate QR Code',
                        result_placeholder: 'QR code will appear here',
                        btn_download: 'Download QR Code',
                        err_empty: 'Please enter content to generate QR code',
                        err_generic: 'Failed to generate QR code',
                        err_lib: 'Library not loaded. Please check your internet connection.'
                    },
                    'zh-CN': {
                        title: 'üì± ‰∫åÁª¥Á†ÅÁîüÊàêÂô®',
                        input_label: 'ËæìÂÖ•ÊñáÊú¨/URL',
                        size_label: '‰∫åÁª¥Á†ÅÂ∞∫ÂØ∏',
                        color_label: 'ÂâçÊôØËâ≤',
                        btn_generate: 'ÁîüÊàê‰∫åÁª¥Á†Å',
                        result_placeholder: '‰∫åÁª¥Á†ÅÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå',
                        btn_download: '‰∏ãËΩΩ‰∫åÁª¥Á†Å',
                        err_empty: 'ËØ∑ËæìÂÖ•ÂÜÖÂÆπ‰ª•ÁîüÊàê‰∫åÁª¥Á†Å',
                        err_generic: 'ÁîüÊàê‰∫åÁª¥Á†ÅÂ§±Ë¥•',
                        err_lib: 'Â∫ìÊú™Âä†ËΩΩÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•'
                    },
                    'zh-TW': {
                        title: 'üì± ‰∫åÁ∂≠Á¢ºÁîüÊàêÂô®',
                        input_label: 'Ëº∏ÂÖ•ÊñáÊú¨/URL',
                        size_label: '‰∫åÁ∂≠Á¢ºÂ∞∫ÂØ∏',
                        color_label: 'ÂâçÊôØËâ≤',
                        btn_generate: 'ÁîüÊàê‰∫åÁ∂≠Á¢º',
                        result_placeholder: '‰∫åÁ∂≠Á¢ºÂ∞áÈ°ØÁ§∫Âú®ÈÄôË£°',
                        btn_download: '‰∏ãËºâ‰∫åÁ∂≠Á¢º',
                        err_empty: 'Ë´ãËº∏ÂÖ•ÂÖßÂÆπ‰ª•ÁîüÊàê‰∫åÁ∂≠Á¢º',
                        err_generic: 'ÁîüÊàê‰∫åÁ∂≠Á¢ºÂ§±Êïó',
                        err_lib: 'Â∫´Êú™Âä†ËºâÔºåË´ãÊ™¢Êü•Á∂≤Áµ°ÈÄ£Êé•'
                    },
                    'ja': {
                        title: 'üì± QR„Ç≥„Éº„Éâ„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº',
                        input_label: '„ÉÜ„Ç≠„Çπ„Éà/URL„ÇíÂÖ•Âäõ',
                        size_label: 'QR„Ç≥„Éº„Éâ„Çµ„Ç§„Ç∫',
                        color_label: 'ÂâçÊôØËâ≤',
                        btn_generate: 'QR„Ç≥„Éº„Éâ„ÇíÁîüÊàê',
                        result_placeholder: 'QR„Ç≥„Éº„Éâ„ÅØ„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô',
                        btn_download: 'QR„Ç≥„Éº„Éâ„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ',
                        err_empty: 'QR„Ç≥„Éº„Éâ„ÇíÁîüÊàê„Åô„Çã„Å´„ÅØ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                        err_generic: 'QR„Ç≥„Éº„Éâ„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü',
                        err_lib: '„É©„Ç§„Éñ„É©„É™„Åå„É≠„Éº„Éâ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„ÉàÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                    },
                    'ru': {
                        title: 'üì± –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤',
                        input_label: '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç/URL',
                        size_label: '–†–∞–∑–º–µ—Ä QR-–∫–æ–¥–∞',
                        color_label: '–¶–≤–µ—Ç –ø–µ—Ä–µ–¥–Ω–µ–≥–æ –ø–ª–∞–Ω–∞',
                        btn_generate: '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥',
                        result_placeholder: 'QR-–∫–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å',
                        btn_download: '–°–∫–∞—á–∞—Ç—å QR-–∫–æ–¥',
                        err_empty: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞',
                        err_generic: '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥',
                        err_lib: '–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É'
                    },
                    'es': {
                        title: 'üì± Generador de C√≥digos QR',
                        input_label: 'Ingrese texto/URL',
                        size_label: 'Tama√±o del c√≥digo QR',
                        color_label: 'Color de primer plano',
                        btn_generate: 'Generar c√≥digo QR',
                        result_placeholder: 'El c√≥digo QR aparecer√° aqu√≠',
                        btn_download: 'Descargar c√≥digo QR',
                        err_empty: 'Por favor, ingrese contenido para generar el c√≥digo QR',
                        err_generic: 'No se pudo generar el c√≥digo QR',
                        err_lib: 'Librer√≠a no cargada. Verifique su conexi√≥n a internet'
                    }
                },

                init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                    this.changeLang();
                },

                changeLang: function() {
                    const lang = document.getElementById('qr-lang').value;
                    const texts = this.i18n[lang] || this.i18n['en'];
                    
                    document.querySelectorAll('[data-id="qr_generator"] [data-i18n]').forEach(el => {
                        const key = el.getAttribute('data-i18n');
                        if (texts[key]) {
                            el.innerText = texts[key];
                        }
                    });
                    
                    const contentInput = document.getElementById('qr-content');
                    if (contentInput) {
                        const placeholders = {
                            'zh-CN': 'https://Á§∫‰æã.com Êàñ‰ªª‰ΩïÊñáÊú¨',
                            'zh-TW': 'https://Á§∫‰æã.com Êàñ‰ªª‰ΩïÊñáÊú¨',
                            'ja': 'https://‰æã.com „Åæ„Åü„ÅØ‰ªªÊÑè„ÅÆ„ÉÜ„Ç≠„Çπ„Éà',
                            'ru': 'https://–ø—Ä–∏–º–µ—Ä.com –∏–ª–∏ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç',
                            'es': 'https://ejemplo.com o cualquier texto',
                            'en': 'https://example.com or any text'
                        };
                        contentInput.placeholder = placeholders[lang] || placeholders['en'];
                    }
                },

                generate: function() {
                    const lang = document.getElementById('qr-lang').value;
                    const texts = this.i18n[lang] || this.i18n['en'];
                    const resultEl = document.getElementById('qr-result');
                    
                    // Ê™¢Êü•Â∫´ÊòØÂê¶Âä†Ëºâ
                    if (typeof QRCode === 'undefined') {
                        resultEl.innerText = texts.err_lib;
                        resultEl.className = "text-red-600 font-bold";
                        resultEl.style.display = 'block';
                        return;
                    }

                    const content = document.getElementById('qr-content').value.trim();
                    const size = parseInt(document.getElementById('qr-size').value);
                    const color = document.getElementById('qr-color').value;
                    
                    const canvas = document.getElementById('qr-canvas');
                    const downloadBtn = document.getElementById('download-btn');
                    
                    if (!content) {
                        resultEl.innerText = texts.err_empty;
                        resultEl.className = "text-red-600";
                        resultEl.style.display = 'block';
                        canvas.style.display = 'none';
                        downloadBtn.style.display = 'none';
                        return;
                    }
                    
                    try {
                        // ‰ΩøÁî® toCanvas ‰∏¶ÂÇ≥ÂÖ•ÂÖ∑È´îÁöÑ canvas ÂÖÉÁ¥†
                        QRCode.toCanvas(canvas, content, {
                            width: size,
                            margin: 2,
                            color: {
                                dark: color,
                                light: '#ffffff'
                            }
                        }, function (error) {
                            if (error) {
                                console.error('QR Code generation error:', error);
                                resultEl.innerText = texts.err_generic;
                                resultEl.className = "text-red-600";
                                resultEl.style.display = 'block';
                                canvas.style.display = 'none';
                                downloadBtn.style.display = 'none';
                            } else {
                                // ÊàêÂäü
                                resultEl.style.display = 'none';
                                canvas.style.display = 'inline-block';
                                downloadBtn.style.display = 'inline-block';
                            }
                        });
                    } catch (error) {
                        console.error('Error in generate function:', error);
                        resultEl.innerText = texts.err_generic + ": " + error.message;
                        resultEl.className = "text-red-600";
                        resultEl.style.display = 'block';
                        canvas.style.display = 'none';
                        downloadBtn.style.display = 'none';
                    }
                },

                download: function() {
                    try {
                        const canvas = document.getElementById('qr-canvas');
                        if (canvas) {
                            const link = document.createElement('a');
                            link.download = 'qrcode.png';
                            link.href = canvas.toDataURL('image/png');
                            document.body.appendChild(link);
                            link.click();
                            document.body.removeChild(link);
                        }
                    } catch (error) {
                        console.error('Download error:', error);
                        alert('Failed to download QR code');
                    }
                }
            };

            window.QRGenerator.init();

            // Ëá™ÂãïË™ûË®ÄÊ™¢Ê∏¨
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            } else if (userLang.startsWith('es')) {
                targetLang = 'es';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('qr-lang');
                if (langSelect) {
                    langSelect.value = targetLang;
                    window.QRGenerator.changeLang();
                }
            }
        });
    </script>

</body>
</html>