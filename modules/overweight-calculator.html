<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Overweight Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #fff7ed; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="overweight_calc" 
         data-category="health" 
         data-title="Overweight Calculator" 
         data-icon="⚖️">
        
        <div class="absolute top-4 right-4">
            <select id="oc-lang" onchange="OverCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">簡體中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
                <option value="es">Español</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">⚖️ Overweight Calculator</h2>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_height">Height (cm)</label>
                <input type="number" id="oc-height" class="w-full p-2 border rounded focus:ring-1 focus:ring-orange-500 outline-none" placeholder="175">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_weight">Weight (kg)</label>
                <input type="number" id="oc-weight" class="w-full p-2 border rounded focus:ring-1 focus:ring-orange-500 outline-none" placeholder="85">
            </div>
        </div>

        <button onclick="OverCalc.calc()" class="w-full bg-orange-500 text-white py-2 rounded font-bold hover:bg-orange-600 transition mb-6" data-i18n="btn_calc">Check Status</button>

        <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
            <div class="flex justify-between items-end mb-2">
                <span class="text-gray-600 text-sm" data-i18n="res_bmi">BMI</span>
                <div id="oc-bmi" class="text-2xl font-bold text-orange-800">--</div>
            </div>
            <div class="mb-4">
                <span class="text-gray-600 text-sm" data-i18n="res_class">Classification</span>
                <div id="oc-class" class="font-bold text-orange-600">--</div>
            </div>
            
            <div class="border-t border-orange-200 pt-3 text-center">
                <span class="text-xs text-gray-500 uppercase tracking-wide" data-i18n="res_lose">Weight to Lose (to reach BMI 25)</span>
                <div id="oc-lose" class="text-lg font-bold text-green-600 mt-1">--</div>
            </div>
        </div>
    </div>

    <script>
        const OverCalc = {
            i18n: {
                'en': {
                    title: '⚖️ Overweight Calculator',
                    lbl_height: 'Height (cm)', lbl_weight: 'Weight (kg)',
                    btn_calc: 'Check Status',
                    res_bmi: 'BMI', res_class: 'Classification',
                    res_lose: 'Weight to Lose (to reach Normal)',
                    st_norm: 'Normal Weight',
                    st_over: 'Overweight (25-30)',
                    st_ob1: 'Obesity Class I (30-35)',
                    st_ob2: 'Obesity Class II (35-40)',
                    st_ob3: 'Obesity Class III (> 40)',
                    msg_ok: 'You are in normal range.',
                    txt_kg: 'kg'
                },
                'zh-CN': {
                    title: '⚖️ 超重/肥胖计算器',
                    lbl_height: '身高 (cm)', lbl_weight: '体重 (kg)',
                    btn_calc: '检查状态',
                    res_bmi: 'BMI 指数', res_class: '肥胖等级',
                    res_lose: '需减去重量 (至正常范围)',
                    st_norm: '正常体重',
                    st_over: '超重 (25-30)',
                    st_ob1: '一级肥胖 (30-35)',
                    st_ob2: '二级肥胖 (35-40)',
                    st_ob3: '三级肥胖 (> 40)',
                    msg_ok: '您的体重在正常范围内。',
                    txt_kg: '千克'
                },
                'zh-TW': {
                    title: '⚖️ 超重/肥胖計算器',
                    lbl_height: '身高 (cm)', lbl_weight: '體重 (kg)',
                    btn_calc: '檢查狀態',
                    res_bmi: 'BMI 指數', res_class: '肥胖等級',
                    res_lose: '需減去重量 (至正常範圍)',
                    st_norm: '正常體重',
                    st_over: '超重 (25-30)',
                    st_ob1: '一級肥胖 (30-35)',
                    st_ob2: '二級肥胖 (35-40)',
                    st_ob3: '三級肥胖 (> 40)',
                    msg_ok: '您的體重在正常範圍內。',
                    txt_kg: '公斤'
                },
                'ja': {
                    title: '⚖️ 肥満度チェック',
                    lbl_height: '身長 (cm)', lbl_weight: '体重 (kg)',
                    btn_calc: '計算する',
                    res_bmi: 'BMI', res_class: '判定',
                    res_lose: '目標減量 (標準体重まで)',
                    st_norm: '普通体重',
                    st_over: '肥満 (1度) 25-30',
                    st_ob1: '肥満 (2度) 30-35',
                    st_ob2: '肥満 (3度) 35-40',
                    st_ob3: '肥満 (4度) > 40',
                    msg_ok: '標準体重です。',
                    txt_kg: 'kg'
                },
                'ru': {
                    title: '⚖️ Калькулятор лишнего веса',
                    lbl_height: 'Рост (см)', lbl_weight: 'Вес (кг)',
                    btn_calc: 'Проверить',
                    res_bmi: 'ИМТ', res_class: 'Классификация',
                    res_lose: 'Сбросить до нормы',
                    st_norm: 'Норма',
                    st_over: 'Избыточный вес',
                    st_ob1: 'Ожирение I',
                    st_ob2: 'Ожирение II',
                    st_ob3: 'Ожирение III',
                    msg_ok: 'Ваш вес в норме.',
                    txt_kg: 'кг'
                },
                'es': {
                    title: '⚖️ Calculadora de Sobrepeso',
                    lbl_height: 'Altura (cm)', lbl_weight: 'Peso (kg)',
                    btn_calc: 'Verificar',
                    res_bmi: 'IMC', res_class: 'Clasificación',
                    res_lose: 'Peso a Perder (para Normal)',
                    st_norm: 'Peso Normal',
                    st_over: 'Sobrepeso',
                    st_ob1: 'Obesidad Clase I',
                    st_ob2: 'Obesidad Clase II',
                    st_ob3: 'Obesidad Clase III',
                    msg_ok: 'Estás en rango normal.',
                    txt_kg: 'kg'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('oc-lang').value;
                const texts = OverCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="overweight_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(texts[key]) el.innerText = texts[key];
                });
                if(document.getElementById('oc-bmi').innerText !== '--') OverCalc.calc();
            },

            calc: () => {
                const h = parseFloat(document.getElementById('oc-height').value);
                const w = parseFloat(document.getElementById('oc-weight').value);

                if (!h || !w) return;

                const hM = h / 100;
                const bmi = w / (hM * hM);
                
                document.getElementById('oc-bmi').innerText = bmi.toFixed(1);

                const lang = document.getElementById('oc-lang').value;
                const txt = OverCalc.i18n[lang];
                let status = "";
                
                if (bmi < 25) status = txt.st_norm;
                else if (bmi < 30) status = txt.st_over;
                else if (bmi < 35) status = txt.st_ob1;
                else if (bmi < 40) status = txt.st_ob2;
                else status = txt.st_ob3;

                document.getElementById('oc-class').innerText = status;

                // Weight to lose to reach BMI 25
                if (bmi > 25) {
                    const targetW = 25 * (hM * hM);
                    const toLose = w - targetW;
                    document.getElementById('oc-lose').innerText = `-${toLose.toFixed(1)} ${txt.txt_kg}`;
                } else {
                    document.getElementById('oc-lose').innerText = txt.msg_ok;
                }
            }
        };
    </script>
</body>
</html>