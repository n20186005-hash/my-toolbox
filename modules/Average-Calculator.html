<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Average Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="average_calc">
    <meta name="category" content="Math">
    <meta name="icon" content="üìä">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Average Calculator">
    <meta name="description" content="Calculate the average (mean) of a set of numbers.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="Âπ≥ÂùáÂÄºËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="ËÆ°ÁÆó‰∏ÄÁªÑÊï∞Â≠óÁöÑÂπ≥ÂùáÂÄºÔºàÂùáÂÄºÔºâ„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Âπ≥ÂùáÂÄºË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Ë®àÁÆó‰∏ÄÁµÑÊï∏Â≠óÁöÑÂπ≥ÂùáÂÄºÔºàÂùáÂÄºÔºâ„ÄÇ">
    
    <meta name="lang-title-ja" content="Âπ≥ÂùáÂÄ§Ë®àÁÆó„ÉÑ„Éº„É´">
    <meta name="lang-description-ja" content="Êï∞ÂÄ§„ÅÆ„Çª„ÉÉ„Éà„ÅÆÂπ≥ÂùáÂÄ§ÔºàÂπ≥ÂùáÔºâ„ÇíË®àÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è">
    <meta name="lang-description-ru" content="–í—ã—á–∏—Å–ª–∏—Ç–µ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å—Ä–µ–¥–Ω—é—é) –Ω–∞–±–æ—Ä–∞ —á–∏—Å–µ–ª.">
    
    <meta name="lang-title-es" content="Calculadora de Promedio">
    <meta name="lang-description-es" content="Calcule el promedio (media) de un conjunto de n√∫meros.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .numbers-container { display: flex; flex-wrap: gap; gap: 10px; margin-bottom: 15px; }
        .number-input { flex: 1; min-width: 60px; }
        .stat-item { margin: 8px 0; padding: 8px; background: #f8fafc; border-radius: 4px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="average_calc" 
         data-category="math" 
         data-title="Average Calculator" 
         data-icon="üìä">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="avg-lang" onchange="AverageCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üìä Average Calculator</h2>
        
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="numbers_label">Enter numbers (separated by commas or spaces)</label>
            <textarea id="avg-numbers" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" rows="3" placeholder="e.g. 1, 2, 3, 4, 5 or 1 2 3 4 5"></textarea>
            
            <div class="flex justify-between mt-3">
                <button onclick="AverageCalc.addInputField()" class="bg-gray-200 text-gray-800 py-1 px-3 rounded text-sm hover:bg-gray-300 transition" data-i18n="btn_add_field">Add input field</button>
                <button onclick="AverageCalc.clearAll()" class="bg-gray-200 text-gray-800 py-1 px-3 rounded text-sm hover:bg-gray-300 transition" data-i18n="btn_clear">Clear all</button>
            </div>
            
            <div id="additional-fields" class="numbers-container mt-3">
                <!-- Âä®ÊÄÅÊ∑ªÂä†ÁöÑËæìÂÖ•Ê°ÜÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
            </div>
        </div>

        <button onclick="AverageCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate Average</button>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="results_label">Results</div>
            
            <div id="avg-results" class="space-y-2">
                <div class="stat-item">
                    <span data-i18n="average_label" class="font-medium">Average:</span>
                    <span id="avg-average" class="ml-2 text-blue-800 font-bold">--</span>
                </div>
                <div class="stat-item">
                    <span data-i18n="sum_label" class="font-medium">Sum:</span>
                    <span id="avg-sum" class="ml-2 text-blue-800">--</span>
                </div>
                <div class="stat-item">
                    <span data-i18n="count_label" class="font-medium">Count:</span>
                    <span id="avg-count" class="ml-2 text-blue-800">--</span>
                </div>
                <div class="stat-item">
                    <span data-i18n="min_label" class="font-medium">Minimum:</span>
                    <span id="avg-min" class="ml-2 text-blue-800">--</span>
                </div>
                <div class="stat-item">
                    <span data-i18n="max_label" class="font-medium">Maximum:</span>
                    <span id="avg-max" class="ml-2 text-blue-800">--</span>
                </div>
            </div>
            
            <div id="avg-error" class="mt-4 text-red-600 hidden"></div>
        </div>
    </div>

    <script>
        const AverageCalc = {
            i18n: {
                'en': {
                    title: 'üìä Average Calculator',
                    numbers_label: 'Enter numbers (separated by commas or spaces)',
                    btn_add_field: 'Add input field',
                    btn_clear: 'Clear all',
                    btn_calc: 'Calculate Average',
                    results_label: 'Results',
                    average_label: 'Average (Mean):',
                    sum_label: 'Sum:',
                    count_label: 'Count of numbers:',
                    min_label: 'Minimum value:',
                    max_label: 'Maximum value:',
                    err_no_numbers: 'Please enter valid numbers',
                    err_not_enough: 'Please enter at least one number'
                },
                'zh-CN': {
                    title: 'üìä Âπ≥ÂùáÂÄºËÆ°ÁÆóÂô®',
                    numbers_label: 'ËæìÂÖ•Êï∞Â≠óÔºàÁî®ÈÄóÂè∑ÊàñÁ©∫Ê†ºÂàÜÈöîÔºâ',
                    btn_add_field: 'Ê∑ªÂä†ËæìÂÖ•Ê°Ü',
                    btn_clear: 'ÂÖ®ÈÉ®Ê∏ÖÈô§',
                    btn_calc: 'ËÆ°ÁÆóÂπ≥ÂùáÂÄº',
                    results_label: 'ÁªìÊûú',
                    average_label: 'Âπ≥ÂùáÂÄºÔºö',
                    sum_label: 'ÊÄªÂíåÔºö',
                    count_label: 'Êï∞Â≠óÊï∞ÈáèÔºö',
                    min_label: 'ÊúÄÂ∞èÂÄºÔºö',
                    max_label: 'ÊúÄÂ§ßÂÄºÔºö',
                    err_no_numbers: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠ó',
                    err_not_enough: 'ËØ∑Ëá≥Â∞ëËæìÂÖ•‰∏Ä‰∏™Êï∞Â≠ó'
                },
                'zh-TW': {
                    title: 'üìä Âπ≥ÂùáÂÄºË®àÁÆóÂô®',
                    numbers_label: 'Ëº∏ÂÖ•Êï∏Â≠óÔºàÁî®ÈÄóËôüÊàñÁ©∫Ê†ºÂàÜÈöîÔºâ',
                    btn_add_field: 'Ê∑ªÂä†Ëº∏ÂÖ•Ê°Ü',
                    btn_clear: 'ÂÖ®ÈÉ®Ê∏ÖÈô§',
                    btn_calc: 'Ë®àÁÆóÂπ≥ÂùáÂÄº',
                    results_label: 'ÁµêÊûú',
                    average_label: 'Âπ≥ÂùáÂÄºÔºö',
                    sum_label: 'Á∏ΩÂíåÔºö',
                    count_label: 'Êï∏Â≠óÊï∏ÈáèÔºö',
                    min_label: 'ÊúÄÂ∞èÂÄºÔºö',
                    max_label: 'ÊúÄÂ§ßÂÄºÔºö',
                    err_no_numbers: 'Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÊï∏Â≠ó',
                    err_not_enough: 'Ë´ãËá≥Â∞ëËº∏ÂÖ•‰∏ÄÂÄãÊï∏Â≠ó'
                },
                'ja': {
                    title: 'üìä Âπ≥ÂùáÂÄ§Ë®àÁÆó„ÉÑ„Éº„É´',
                    numbers_label: 'Êï∞ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºà„Ç´„É≥„Éû„Åæ„Åü„ÅØ„Çπ„Éö„Éº„Çπ„ÅßÂå∫Âàá„Å£„Å¶Ôºâ',
                    btn_add_field: 'ÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÇíËøΩÂä†',
                    btn_clear: '„Åô„Åπ„Å¶Ê∂àÂéª',
                    btn_calc: 'Âπ≥Âùá„ÇíË®àÁÆó',
                    results_label: 'ÁµêÊûú',
                    average_label: 'Âπ≥ÂùáÂÄ§Ôºö',
                    sum_label: 'ÂêàË®àÔºö',
                    count_label: 'Êï∞ÂÄ§„ÅÆÊï∞Ôºö',
                    min_label: 'ÊúÄÂ∞èÂÄ§Ôºö',
                    max_label: 'ÊúÄÂ§ßÂÄ§Ôºö',
                    err_no_numbers: 'ÊúâÂäπ„Å™Êï∞ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    err_not_enough: 'Â∞ë„Å™„Åè„Å®„ÇÇ1„Å§„ÅÆÊï∞ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                },
                'ru': {
                    title: 'üìä –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è',
                    numbers_label: '–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞ (—Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—è—Ç—ã–º–∏ –∏–ª–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏)',
                    btn_add_field: '–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞',
                    btn_clear: '–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ',
                    btn_calc: '–í—ã—á–∏—Å–ª–∏—Ç—å —Å—Ä–µ–¥–Ω–µ–µ',
                    results_label: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã',
                    average_label: '–°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:',
                    sum_label: '–°—É–º–º–∞:',
                    count_label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª:',
                    min_label: '–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:',
                    max_label: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:',
                    err_no_numbers: '–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞',
                    err_not_enough: '–í–≤–µ–¥–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —á–∏—Å–ª–æ'
                },
                'es': {
                    title: 'üìä Calculadora de Promedio',
                    numbers_label: 'Ingrese n√∫meros (separados por comas o espacios)',
                    btn_add_field: 'Agregar campo de entrada',
                    btn_clear: 'Limpiar todo',
                    btn_calc: 'Calcular Promedio',
                    results_label: 'Resultados',
                    average_label: 'Promedio (Media):',
                    sum_label: 'Suma:',
                    count_label: 'Recuento de n√∫meros:',
                    min_label: 'Valor m√≠nimo:',
                    max_label: 'Valor m√°ximo:',
                    err_no_numbers: 'Por favor, ingrese n√∫meros v√°lidos',
                    err_not_enough: 'Por favor, ingrese al menos un n√∫mero'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('avg-lang').value;
                const texts = AverageCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="average_calc"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // ÈáçÊñ∞ËÆ°ÁÆó‰ª•Êõ¥Êñ∞ÁªìÊûúËØ≠Ë®Ä
                const currentAvg = document.getElementById('avg-average').innerText;
                if (currentAvg !== '--') {
                    AverageCalc.calc();
                }
            },

            addInputField: () => {
                const container = document.getElementById('additional-fields');
                const inputCount = container.children.length + 1;
                
                const inputDiv = document.createElement('div');
                inputDiv.className = 'number-input';
                
                const input = document.createElement('input');
                input.type = 'number';
                input.className = 'w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none';
                input.placeholder = `Number ${inputCount}`;
                input.id = `avg-num-${inputCount}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.type = 'button';
                removeBtn.className = 'mt-1 text-red-500 text-xs hover:text-red-700';
                removeBtn.innerText = '√ó';
                removeBtn.onclick = () => container.removeChild(inputDiv);
                
                inputDiv.appendChild(input);
                inputDiv.appendChild(removeBtn);
                container.appendChild(inputDiv);
            },

            clearAll: () => {
                document.getElementById('avg-numbers').value = '';
                document.getElementById('additional-fields').innerHTML = '';
                document.getElementById('avg-average').innerText = '--';
                document.getElementById('avg-sum').innerText = '--';
                document.getElementById('avg-count').innerText = '--';
                document.getElementById('avg-min').innerText = '--';
                document.getElementById('avg-max').innerText = '--';
                document.getElementById('avg-error').classList.add('hidden');
            },

            calc: () => {
                const lang = document.getElementById('avg-lang').value;
                const texts = AverageCalc.i18n[lang];
                const errorEl = document.getElementById('avg-error');
                
                // ÈáçÁΩÆÈîôËØØÁä∂ÊÄÅ
                errorEl.classList.add('hidden');
                errorEl.innerText = '';
                
                // Êî∂ÈõÜÊâÄÊúâÊï∞Â≠ó
                let numbers = [];
                
                // ‰ªéÊñáÊú¨Âå∫ÂüüÊî∂ÈõÜÊï∞Â≠ó
                const textArea = document.getElementById('avg-numbers').value.trim();
                if (textArea) {
                    // Áî®ÈÄóÂè∑ÊàñÁ©∫Ê†ºÂàÜÂâ≤
                    const textNumbers = textArea.split(/[,\s]+/).map(num => parseFloat(num));
                    numbers = numbers.concat(textNumbers.filter(num => !isNaN(num)));
                }
                
                // ‰ªéÈ¢ùÂ§ñÁöÑËæìÂÖ•Ê°ÜÊî∂ÈõÜÊï∞Â≠ó
                const extraInputs = document.querySelectorAll('#additional-fields input');
                extraInputs.forEach(input => {
                    const num = parseFloat(input.value);
                    if (!isNaN(num)) {
                        numbers.push(num);
                    }
                });
                
                // È™åËØÅ
                if (numbers.length === 0) {
                    errorEl.innerText = texts.err_not_enough;
                    errorEl.classList.remove('hidden');
                    return;
                }
                
                // ËÆ°ÁÆóÁªüËÆ°Êï∞ÊçÆ
                const sum = numbers.reduce((acc, num) => acc + num, 0);
                const average = sum / numbers.length;
                const count = numbers.length;
                const min = Math.min(...numbers);
                const max = Math.max(...numbers);
                
                // ÊòæÁ§∫ÁªìÊûú
                document.getElementById('avg-average').innerText = average.toFixed(4);
                document.getElementById('avg-sum').innerText = sum.toFixed(4);
                document.getElementById('avg-count').innerText = count;
                document.getElementById('avg-min').innerText = min;
                document.getElementById('avg-max').innerText = max;
            }
        };

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            // Ëá™Âä®ÂåπÈÖçÊµèËßàÂô®ËØ≠Ë®Ä
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            } else if (userLang.startsWith('es')) {
                targetLang = 'es';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('avg-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    AverageCalc.changeLang();
                }
            }
        });
    </script>

</body>

</html>
