<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commission Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="commission_calculator">
    <meta name="category" content="finance">
    <meta name="icon" content="üí∏">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Commission Calculator">
    <meta name="description" content="Calculate commission earnings based on sales and commission rate.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="‰Ω£ÈáëËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="Ê†πÊçÆÈîÄÂîÆÈ¢ùÂíå‰Ω£ÈáëÁéáËÆ°ÁÆó‰Ω£ÈáëÊî∂ÂÖ•„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="‰Ω£ÈáëË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Ê†πÊìöÈä∑ÂîÆÈ°çÂíå‰Ω£ÈáëÁéáË®àÁÆó‰Ω£ÈáëÊî∂ÂÖ•„ÄÇ">
    
    <meta name="lang-title-ja" content="„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Ë®àÁÆóÊ©ü">
    <meta name="lang-description-ja" content="Â£≤‰∏äÈ´ò„Å®„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Áéá„Å´Âü∫„Å•„ÅÑ„Å¶„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥ÂèéÂÖ•„ÇíË®àÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º–∏—Å—Å–∏–∏">
    <meta name="lang-description-ru" content="–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –¥–æ—Ö–æ–¥—ã –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–¥–∞–∂ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏.">
    
    <meta name="lang-title-es" content="Calculadora de comisiones">
    <meta name="lang-description-es" content="Calcule las ganancias por comisi√≥n seg√∫n las ventas y la tasa de comisi√≥n.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .info { background-color: #eff8ff; border: 1px solid #3b82f6; color: #1e40af; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .result-highlight { font-size: 1.5rem; font-weight: bold; color: #166534; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/finance/commission-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="commission_calculator" 
         data-category="finance" 
         data-title="Commission Calculator" 
         data-icon="üí∏">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="commission-lang" onchange="CommissionCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üí∏ Commission Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="commission_type">Commission Type</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="commission-type" value="percentage" checked class="text-green-600 focus:ring-green-500">
                        <span data-i18n="percentage">Percentage</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="commission-type" value="flat" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="flat_rate">Flat Rate</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="commission-type" value="tiered" class="text-green-600 focus:ring-green-500">
                        <span data-i18n="tiered">Tiered</span>
                    </label>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="total_sales">Total Sales Amount</label>
                <input type="number" id="total-sales" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 10000" min="0" value="10000">
            </div>
            
            <div id="percentage-rate-container">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="commission_rate">Commission Rate (%)</label>
                <input type="number" id="commission-rate" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 10" min="0" max="100" step="0.1" value="10">
            </div>
            
            <div id="flat-rate-container" style="display: none;">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="flat_commission">Flat Commission per Sale</label>
                <input type="number" id="flat-commission" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 500" min="0" value="500">
            </div>
            
            <div id="tiered-container" style="display: none;">
                <div class="p-3 bg-gray-50 rounded text-sm mb-2" data-i18n="tiered_help">Set tiered commission rates (e.g., 0-10000:5%, 10001-20000:7%, 20000+:10%)</div>
                
                <div id="tier-fields">
                    <div class="tier-row flex gap-2 mb-2">
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="from">From</label>
                            <input type="number" class="tier-from w-full p-1 border rounded text-sm" value="0" min="0">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="to">To</label>
                            <input type="number" class="tier-to w-full p-1 border rounded text-sm" value="10000" min="0">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="rate">Rate (%)</label>
                            <input type="number" class="tier-rate w-full p-1 border rounded text-sm" value="5" min="0" max="100">
                        </div>
                    </div>
                    
                    <div class="tier-row flex gap-2 mb-2">
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="from">From</label>
                            <input type="number" class="tier-from w-full p-1 border rounded text-sm" value="10001" min="0">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="to">To</label>
                            <input type="number" class="tier-to w-full p-1 border rounded text-sm" value="20000" min="0">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="rate">Rate (%)</label>
                            <input type="number" class="tier-rate w-full p-1 border rounded text-sm" value="7" min="0" max="100">
                        </div>
                    </div>
                    
                    <div class="tier-row flex gap-2 mb-2">
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="from">From</label>
                            <input type="number" class="tier-from w-full p-1 border rounded text-sm" value="20001" min="0">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="to">To</label>
                            <input type="number" class="tier-to w-full p-1 border rounded text-sm" value="" placeholder="‚àû">
                        </div>
                        <div class="flex-1">
                            <label class="block text-xs text-gray-500" data-i18n="rate">Rate (%)</label>
                            <input type="number" class="tier-rate w-full p-1 border rounded text-sm" value="10" min="0" max="100">
                        </div>
                    </div>
                </div>
                
                <button onclick="CommissionCalc.addTier()" class="text-sm text-green-600 hover:text-green-800 mt-1" data-i18n="add_tier">Add Tier</button>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="num_sales">Number of Sales (for flat rate)</label>
                <input type="number" id="num-sales" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 1" min="1" value="1">
            </div>
        </div>

        <button onclick="CommissionCalc.calc()" class="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_calc">Calculate Commission</button>

        <div class="bg-green-50 p-6 rounded-lg border border-green-100">
            <div class="text-center">
                <div class="text-sm text-gray-500 mb-2" data-i18n="total_commission">Total Commission</div>
                <div id="total-commission" class="result-highlight">--</div>
                
                <div class="mt-4 text-sm" data-i18n="commission_details">Commission Details:</div>
                <div id="commission-details" class="mt-2 text-sm text-gray-600">--</div>
                
                <div class="mt-4 text-sm" data-i18n="effective_rate">Effective Commission Rate:</div>
                <div id="effective-rate" class="text-gray-600">--</div>
            </div>
            
            <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: This calculator is for estimation purposes only.</div>
        </div>
    </div>

    <script>
        const CommissionCalc = {
            i18n: {
                'en': {
                    title: 'üí∏ Commission Calculator',
                    commission_type: 'Commission Type',
                    percentage: 'Percentage',
                    flat_rate: 'Flat Rate',
                    tiered: 'Tiered',
                    total_sales: 'Total Sales Amount',
                    commission_rate: 'Commission Rate (%)',
                    flat_commission: 'Flat Commission per Sale',
                    tiered_help: 'Set tiered commission rates (e.g., 0-10000:5%, 10001-20000:7%, 20000+:10%)',
                    from: 'From',
                    to: 'To',
                    rate: 'Rate (%)',
                    add_tier: 'Add Tier',
                    num_sales: 'Number of Sales (for flat rate)',
                    btn_calc: 'Calculate Commission',
                    total_commission: 'Total Commission',
                    commission_details: 'Commission Details:',
                    effective_rate: 'Effective Commission Rate:',
                    disclaimer: 'Disclaimer: This calculator is for estimation purposes only.',
                    err_invalid: 'Please enter valid numbers',
                    tier_error: 'Please ensure tiers are in order and do not overlap'
                },
                'zh-CN': {
                    title: 'üí∏ ‰Ω£ÈáëËÆ°ÁÆóÂô®',
                    commission_type: '‰Ω£ÈáëÁ±ªÂûã',
                    percentage: 'ÁôæÂàÜÊØî',
                    flat_rate: 'Âõ∫ÂÆöË¥πÁéá',
                    tiered: 'Èò∂Ê¢ØÂºè',
                    total_sales: 'ÊÄªÈîÄÂîÆÈ¢ù',
                    commission_rate: '‰Ω£ÈáëÁéáÔºà%Ôºâ',
                    flat_commission: 'ÊØèÁ¨îÈîÄÂîÆÂõ∫ÂÆö‰Ω£Èáë',
                    tiered_help: 'ËÆæÁΩÆÈò∂Ê¢ØÂºè‰Ω£ÈáëÁéáÔºà‰æãÂ¶ÇÔºå0-10000:5%Ôºå10001-20000:7%Ôºå20000+:10%Ôºâ',
                    from: '‰ªé',
                    to: 'Âà∞',
                    rate: 'Ë¥πÁéáÔºà%Ôºâ',
                    add_tier: 'Ê∑ªÂä†Èò∂Ê¢Ø',
                    num_sales: 'ÈîÄÂîÆÊï∞ÈáèÔºàÈÄÇÁî®‰∫éÂõ∫ÂÆöË¥πÁéáÔºâ',
                    btn_calc: 'ËÆ°ÁÆó‰Ω£Èáë',
                    total_commission: 'ÊÄª‰Ω£Èáë',
                    commission_details: '‰Ω£ÈáëËØ¶ÊÉÖÔºö',
                    effective_rate: 'ÂÆûÈôÖ‰Ω£ÈáëÁéáÔºö',
                    disclaimer: 'ÂÖçË¥£Â£∞ÊòéÔºöÊú¨ËÆ°ÁÆóÂô®‰ªÖÁî®‰∫é‰º∞ÁÆó„ÄÇ',
                    err_invalid: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠ó',
                    tier_error: 'ËØ∑Á°Æ‰øùÈò∂Ê¢ØÈ°∫Â∫èÊ≠£Á°Æ‰∏î‰∏çÈáçÂè†'
                },
                'zh-TW': {
                    title: 'üí∏ ‰Ω£ÈáëË®àÁÆóÂô®',
                    commission_type: '‰Ω£ÈáëÈ°ûÂûã',
                    percentage: 'ÁôæÂàÜÊØî',
                    flat_rate: 'Âõ∫ÂÆöË≤ªÁéá',
                    tiered: 'ÈöéÊ¢ØÂºè',
                    total_sales: 'Á∏ΩÈä∑ÂîÆÈ°ç',
                    commission_rate: '‰Ω£ÈáëÁéáÔºà%Ôºâ',
                    flat_commission: 'ÊØèÁ≠ÜÈä∑ÂîÆÂõ∫ÂÆö‰Ω£Èáë',
                    tiered_help: 'Ë®≠ÁΩÆÈöéÊ¢ØÂºè‰Ω£ÈáëÁéáÔºà‰æãÂ¶ÇÔºå0-10000:5%Ôºå10001-20000:7%Ôºå20000+:10%Ôºâ',
                    from: 'Âæû',
                    to: 'Âà∞',
                    rate: 'Ë≤ªÁéáÔºà%Ôºâ',
                    add_tier: 'Ê∑ªÂä†ÈöéÊ¢Ø',
                    num_sales: 'Èä∑ÂîÆÊï∏ÈáèÔºàÈÅ©Áî®ÊñºÂõ∫ÂÆöË≤ªÁéáÔºâ',
                    btn_calc: 'Ë®àÁÆó‰Ω£Èáë',
                    total_commission: 'Á∏Ω‰Ω£Èáë',
                    commission_details: '‰Ω£ÈáëË©≥ÊÉÖÔºö',
                    effective_rate: 'ÂØ¶Èöõ‰Ω£ÈáëÁéáÔºö',
                    disclaimer: 'ÂÖçË≤¨ËÅ≤ÊòéÔºöÊú¨Ë®àÁÆóÂô®ÂÉÖÁî®Êñº‰º∞ÁÆó„ÄÇ',
                    err_invalid: 'Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÊï∏Â≠ó',
                    tier_error: 'Ë´ãÁ¢∫‰øùÈöéÊ¢ØÈ†ÜÂ∫èÊ≠£Á¢∫‰∏î‰∏çÈáçÁñä'
                },
                'ja': {
                    title: 'üí∏ „Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Ë®àÁÆóÊ©ü',
                    commission_type: '„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥„Çø„Ç§„Éó',
                    percentage: 'Ââ≤Âêà',
                    flat_rate: 'ÂÆöÈ°ç',
                    tiered: 'ÈöéÂ±§Âºè',
                    total_sales: 'Á∑èÂ£≤‰∏äÈ´ò',
                    commission_rate: '„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥ÁéáÔºà%Ôºâ',
                    flat_commission: 'Ë≤©Â£≤„Åî„Å®„ÅÆÂÆöÈ°ç„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥',
                    tiered_help: 'ÈöéÂ±§Âºè„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Áéá„ÇíË®≠ÂÆöÔºà‰æãÔºö0-10000:5%„ÄÅ10001-20000:7%„ÄÅ20000+:10%Ôºâ',
                    from: '‰∏ãÈôê',
                    to: '‰∏äÈôê',
                    rate: 'ÁéáÔºà%Ôºâ',
                    add_tier: 'ÈöéÂ±§„ÇíËøΩÂä†',
                    num_sales: 'Ë≤©Â£≤Êï∞ÔºàÂÆöÈ°ç„ÅÆÂ†¥ÂêàÔºâ',
                    btn_calc: '„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥„ÇíË®àÁÆó',
                    total_commission: 'Á∑è„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥',
                    commission_details: '„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Ë©≥Á¥∞Ôºö',
                    effective_rate: 'ÂÆüÂäπ„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥ÁéáÔºö',
                    disclaimer: 'ÂÖçË≤¨‰∫ãÈ†ÖÔºö„Åì„ÅÆË®àÁÆóÊ©ü„ÅØÊé®ÂÆö„ÅÆ„Åø„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                    err_invalid: 'ÊúâÂäπ„Å™Êï∞Â≠ó„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    tier_error: 'ÈöéÂ±§„ÅåÈ†ÜÂ∫èÈÄö„Çä„ÅßÈáçË§á„Åó„Å¶„ÅÑ„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                },
                'ru': {
                    title: 'üí∏ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º–∏—Å—Å–∏–∏',
                    commission_type: '–¢–∏–ø –∫–æ–º–∏—Å—Å–∏–∏',
                    percentage: '–ü—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–π',
                    flat_rate: '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π',
                    tiered: '–°—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π',
                    total_sales: '–û–±—â–∞—è —Å—É–º–º–∞ –ø—Ä–æ–¥–∞–∂',
                    commission_rate: '–°—Ç–∞–≤–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏ (%)',
                    flat_commission: '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –ø—Ä–æ–¥–∞–∂—É',
                    tiered_help: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ–º–∏—Å—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0-10000:5%, 10001-20000:7%, 20000+:10%)',
                    from: '–û—Ç',
                    to: '–î–æ',
                    rate: '–°—Ç–∞–≤–∫–∞ (%)',
                    add_tier: '–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–ø–µ–Ω—å',
                    num_sales: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂ (–¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞–≤–∫–∏)',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é',
                    total_commission: '–û–±—â–∞—è –∫–æ–º–∏—Å—Å–∏—è',
                    commission_details: '–î–µ—Ç–∞–ª–∏ –∫–æ–º–∏—Å—Å–∏–∏:',
                    effective_rate: '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –∫–æ–º–∏—Å—Å–∏–∏:',
                    disclaimer: '–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –≠—Ç–æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏.',
                    err_invalid: '–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞',
                    tier_error: '–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—É–ø–µ–Ω–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –∏ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è'
                },
                'es': {
                    title: 'üí∏ Calculadora de comisiones',
                    commission_type: 'Tipo de comisi√≥n',
                    percentage: 'Porcentaje',
                    flat_rate: 'Tarifa fija',
                    tiered: 'Escalonada',
                    total_sales: 'Monto total de ventas',
                    commission_rate: 'Tasa de comisi√≥n (%)',
                    flat_commission: 'Comisi√≥n fija por venta',
                    tiered_help: 'Establezca tasas de comisi√≥n escalonadas (ej: 0-10000:5%, 10001-20000:7%, 20000+:10%)',
                    from: 'Desde',
                    to: 'Hasta',
                    rate: 'Tasa (%)',
                    add_tier: 'Agregar nivel',
                    num_sales: 'N√∫mero de ventas (para tarifa fija)',
                    btn_calc: 'Calcular comisi√≥n',
                    total_commission: 'Comisi√≥n total',
                    commission_details: 'Detalles de la comisi√≥n:',
                    effective_rate: 'Tasa de comisi√≥n efectiva:',
                    disclaimer: 'Descargo de responsabilidad: Esta calculadora es solo para fines de estimaci√≥n.',
                    err_invalid: 'Por favor, ingrese n√∫meros v√°lidos',
                    tier_error: 'Aseg√∫rese de que los niveles est√©n en orden y no se superpongan'
                }
            },
            
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // ÁõëÂê¨‰Ω£ÈáëÁ±ªÂûãÂèòÂåñ
                document.querySelectorAll('input[name="commission-type"]').forEach(radio => {
                    radio.addEventListener('change', (e) => {
                        this.showCorrectRateContainer(e.target.value);
                    });
                });
            },
            
            showCorrectRateContainer: function(type) {
                document.getElementById('percentage-rate-container').style.display = 'none';
                document.getElementById('flat-rate-container').style.display = 'none';
                document.getElementById('tiered-container').style.display = 'none';
                
                if (type === 'percentage') {
                    document.getElementById('percentage-rate-container').style.display = 'block';
                } else if (type === 'flat') {
                    document.getElementById('flat-rate-container').style.display = 'block';
                } else if (type === 'tiered') {
                    document.getElementById('tiered-container').style.display = 'block';
                }
            },
            
            addTier: function() {
                const tierFields = document.getElementById('tier-fields');
                const lastTier = tierFields.lastElementChild;
                const lastFrom = parseFloat(lastTier.querySelector('.tier-from').value) || 0;
                const newFrom = lastFrom + 10000;
                
                const newTier = document.createElement('div');
                newTier.className = 'tier-row flex gap-2 mb-2';
                newTier.innerHTML = `
                    <div class="flex-1">
                        <label class="block text-xs text-gray-500" data-i18n="from">From</label>
                        <input type="number" class="tier-from w-full p-1 border rounded text-sm" value="${newFrom}" min="0">
                    </div>
                    <div class="flex-1">
                        <label class="block text-xs text-gray-500" data-i18n="to">To</label>
                        <input type="number" class="tier-to w-full p-1 border rounded text-sm" value="" placeholder="‚àû">
                    </div>
                    <div class="flex-1">
                        <label class="block text-xs text-gray-500" data-i18n="rate">Rate (%)</label>
                        <input type="number" class="tier-rate w-full p-1 border rounded text-sm" value="10" min="0" max="100">
                    </div>
                `;
                
                tierFields.appendChild(newTier);
                this.changeLang(); // Êõ¥Êñ∞Êñ∞Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÁøªËØë
            },
            
            changeLang: function() {
                const lang = document.getElementById('commission-lang').value;
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
            },
            
            calc: function() {
                // Ëé∑ÂèñËæìÂÖ•ÂÄº
                const commissionType = document.querySelector('input[name="commission-type"]:checked').value;
                const totalSales = parseFloat(document.getElementById('total-sales').value) || 0;
                const numSales = parseFloat(document.getElementById('num-sales').value) || 1;
                
                // È™åËØÅËæìÂÖ•
                if (totalSales <= 0 || numSales <= 0) {
                    alert(this.getCurrentLangText('err_invalid'));
                    return;
                }
                
                let totalCommission = 0;
                let details = [];
                const lang = document.getElementById('commission-lang').value;
                const currency = lang === 'zh-CN' || lang === 'zh-TW' ? '¬•' : 
                                lang === 'ja' ? '¬•' : 
                                lang === 'ru' ? '‚ÇΩ' : '$';
                
                // Ê†πÊçÆ‰∏çÂêå‰Ω£ÈáëÁ±ªÂûãËÆ°ÁÆó
                if (commissionType === 'percentage') {
                    const rate = parseFloat(document.getElementById('commission-rate').value) || 0;
                    if (rate <= 0) {
                        alert(this.getCurrentLangText('err_invalid'));
                        return;
                    }
                    
                    totalCommission = (totalSales * rate) / 100;
                    details.push(`${rate}% of ${currency}${totalSales.toFixed(2)} = ${currency}${totalCommission.toFixed(2)}`);
                } 
                else if (commissionType === 'flat') {
                    const flatRate = parseFloat(document.getElementById('flat-commission').value) || 0;
                    if (flatRate <= 0) {
                        alert(this.getCurrentLangText('err_invalid'));
                        return;
                    }
                    
                    totalCommission = flatRate * numSales;
                    details.push(`${numSales} sale(s) √ó ${currency}${flatRate.toFixed(2)} = ${currency}${totalCommission.toFixed(2)}`);
                } 
                else if (commissionType === 'tiered') {
                    // Êî∂ÈõÜÈò∂Ê¢ØÊï∞ÊçÆ
                    const tiers = [];
                    document.querySelectorAll('.tier-row').forEach(row => {
                        const from = parseFloat(row.querySelector('.tier-from').value) || 0;
                        const to = row.querySelector('.tier-to').value ? parseFloat(row.querySelector('.tier-to').value) : Infinity;
                        const rate = parseFloat(row.querySelector('.tier-rate').value) || 0;
                        
                        tiers.push({ from, to, rate });
                    });
                    
                    // È™åËØÅÈò∂Ê¢Ø
                    tiers.sort((a, b) => a.from - b.from);
                    for (let i = 1; i < tiers.length; i++) {
                        if (tiers[i].from <= tiers[i-1].to) {
                            alert(this.getCurrentLangText('tier_error'));
                            return;
                        }
                    }
                    
                    // ËÆ°ÁÆóÈò∂Ê¢Ø‰Ω£Èáë
                    let remainingSales = totalSales;
                    tiers.forEach(tier => {
                        if (remainingSales <= 0) return;
                        
                        const tierAmount = Math.min(remainingSales, tier.to - tier.from);
                        const commission = (tierAmount * tier.rate) / 100;
                        totalCommission += commission;
                        
                        const toText = tier.to === Infinity ? '+' : tier.to;
                        details.push(`${currency}${tier.from.toFixed(0)}-${currency}${toText.toFixed(0)} at ${tier.rate}%: ${currency}${commission.toFixed(2)}`);
                        
                        remainingSales -= tierAmount;
                    });
                }
                
                // ËÆ°ÁÆóÂÆûÈôÖ‰Ω£ÈáëÁéá
                const effectiveRate = ((totalCommission / totalSales) * 100).toFixed(2);
                
                // ÊòæÁ§∫ÁªìÊûú
                document.getElementById('total-commission').textContent = `${currency}${totalCommission.toFixed(2)}`;
                document.getElementById('commission-details').textContent = details.join('; ');
                document.getElementById('effective-rate').textContent = `${effectiveRate}%`;
            },
            
            getCurrentLangText: function(key) {
                const lang = document.getElementById('commission-lang').value;
                return this.i18n[lang][key] || this.i18n['en'][key];
            }
        };
        
        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            CommissionCalc.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>