<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canadian Mortgage Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="canadian_mortgage_calculator">
    <meta name="category" content="finance">
    <meta name="icon" content="üè¶">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Canadian Mortgage Calculator">
    <meta name="description" content="Calculate your Canadian mortgage payments with amortization schedule.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="Âä†ÊãøÂ§ßÊäµÊäºË¥∑Ê¨æËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="ËÆ°ÁÆóÊÇ®ÁöÑÂä†ÊãøÂ§ßÊäµÊäºË¥∑Ê¨æ‰ªòÊ¨æÂíåÊëäÈîÄÊó∂Èó¥Ë°®„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Âä†ÊãøÂ§ßÊäµÊäºË≤∏Ê¨æË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Ë®àÁÆóÊÇ®ÁöÑÂä†ÊãøÂ§ßÊäµÊäºË≤∏Ê¨æ‰ªòÊ¨æÂíåÊî§Èä∑ÊôÇÈñìË°®„ÄÇ">
    
    <meta name="lang-title-ja" content="„Ç´„Éä„ÉÄ‰ΩèÂÆÖ„É≠„Éº„É≥Ë®àÁÆóÊ©ü">
    <meta name="lang-description-ja" content="„Ç´„Éä„ÉÄ„ÅÆ‰ΩèÂÆÖ„É≠„Éº„É≥„ÅÆÊîØÊâï„ÅÑ„Å®ÂÑüÈÇÑ„Çπ„Ç±„Ç∏„É•„Éº„É´„ÇíË®àÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä kanad—Å–∫–æ–≥–æ –∏–ø–æ—Ç–µ–∫–∏">
    <meta name="lang-description-ru" content="–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –ø–ª–∞—Ç–µ–∂–∏ –ø–æ kanad—Å–∫–æ–π –∏–ø–æ—Ç–µ–∫–µ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –∞–º–æ—Ä—Ç—Ç–∏–∑–∞—Ü–∏–∏.">
    
    <meta name="lang-title-es" content="Calculadora de hipotecas canadiense">
    <meta name="lang-description-es" content="Calcule sus pagos de hipoteca canadiense con el calendario de amortizaci√≥n.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .info { background-color: #eff8ff; border: 1px solid #3b82f6; color: #1e40af; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .result-highlight { font-size: 1.5rem; font-weight: bold; color: #2563eb; }
        .schedule-container { max-height: 300px; overflow-y: auto; margin-top: 10px; }
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
        .schedule-table th, .schedule-table td { border: 1px solid #e2e8f0; padding: 4px 8px; text-align: right; }
        .schedule-table th { background-color: #f1f5f9; font-weight: bold; }
        .schedule-table tr:nth-child(even) { background-color: #f8fafc; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/finance/canadian-mortgage-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="canadian_mortgage_calculator" 
         data-category="finance" 
         data-title="Canadian Mortgage Calculator" 
         data-icon="üè¶">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="mortgage-lang" onchange="MortgageCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üè¶ Canadian Mortgage Calculator</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="home_price">Home Price (CAD)</label>
                <input type="number" id="home-price" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 500000" min="0" value="500000">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="down_payment">Down Payment (%)</label>
                <input type="number" id="down-payment" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 20" min="0" max="100" value="20">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="amortization_period">Amortization Period (years)</label>
                <input type="number" id="amortization-period" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 25" min="5" max="40" value="25">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="term">Term (years)</label>
                <input type="number" id="term" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 5" min="1" max="10" value="5">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="interest_rate">Interest Rate (%)</label>
                <input type="number" id="interest-rate" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 5.25" min="0" max="20" step="0.01" value="5.25">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="payment_frequency">Payment Frequency</label>
                <select id="payment-frequency" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="monthly" selected data-i18n="monthly">Monthly</option>
                    <option value="biweekly" data-i18n="biweekly">Bi-weekly</option>
                    <option value="weekly" data-i18n="weekly">Weekly</option>
                </select>
            </div>
        </div>

        <button onclick="MortgageCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate Mortgage</button>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-1" data-i18n="mortgage_amount">Mortgage Amount</div>
                <div id="mortgage-amount" class="result-highlight">--</div>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-1" data-i18n="payment_amount">Payment Amount</div>
                <div id="payment-amount" class="result-highlight">--</div>
                <div class="text-xs text-gray-500 mt-1" id="payment-frequency-text" data-i18n="monthly">Monthly</div>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-1" data-i18n="total_paid">Total Paid Over Term</div>
                <div id="total-paid" class="result-highlight">--</div>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-1" data-i18n="total_interest">Total Interest Over Term</div>
                <div id="total-interest" class="result-highlight">--</div>
            </div>
        </div>
        
        <div>
            <div class="flex justify-between items-center mb-2">
                <h3 class="font-bold text-blue-800" data-i18n="amortization_schedule">Amortization Schedule (First 24 Payments)</h3>
                <button onclick="MortgageCalc.toggleSchedule()" class="text-sm text-blue-600" data-i18n="show_more">Show More</button>
            </div>
            
            <div class="schedule-container">
                <table class="schedule-table">
                    <thead>
                        <tr>
                            <th data-i18n="payment_num">Payment #</th>
                            <th data-i18n="payment_date">Date</th>
                            <th data-i18n="payment">Payment</th>
                            <th data-i18n="principal">Principal</th>
                            <th data-i18n="interest">Interest</th>
                            <th data-i18n="remaining_balance">Remaining Balance</th>
                        </tr>
                    </thead>
                    <tbody id="amortization-schedule">
                        <!-- ‰ªòÊ¨æËÆ°ÂàíÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="info text-sm mt-4" data-i18n="cmhc_note">Note: Mortgages with less than 20% down payment require CMHC insurance.</div>
        <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: This calculator is for estimation purposes only. Actual mortgage terms may vary.</div>
    </div>

    <script>
        const MortgageCalc = {
            i18n: {
                'en': {
                    title: 'üè¶ Canadian Mortgage Calculator',
                    home_price: 'Home Price (CAD)',
                    down_payment: 'Down Payment (%)',
                    amortization_period: 'Amortization Period (years)',
                    term: 'Term (years)',
                    interest_rate: 'Interest Rate (%)',
                    payment_frequency: 'Payment Frequency',
                    monthly: 'Monthly',
                    biweekly: 'Bi-weekly',
                    weekly: 'Weekly',
                    btn_calc: 'Calculate Mortgage',
                    mortgage_amount: 'Mortgage Amount',
                    payment_amount: 'Payment Amount',
                    total_paid: 'Total Paid Over Term',
                    total_interest: 'Total Interest Over Term',
                    amortization_schedule: 'Amortization Schedule (First 24 Payments)',
                    show_more: 'Show More',
                    payment_num: 'Payment #',
                    payment_date: 'Date',
                    payment: 'Payment',
                    principal: 'Principal',
                    interest: 'Interest',
                    remaining_balance: 'Remaining Balance',
                    cmhc_note: 'Note: Mortgages with less than 20% down payment require CMHC insurance.',
                    disclaimer: 'Disclaimer: This calculator is for estimation purposes only. Actual mortgage terms may vary.',
                    err_invalid: 'Please enter valid numbers',
                    cmhc_insurance: 'CMHC Insurance Premium: '
                },
                'zh-CN': {
                    title: 'üè¶ Âä†ÊãøÂ§ßÊäµÊäºË¥∑Ê¨æËÆ°ÁÆóÂô®',
                    home_price: 'ÊàøÂ±ã‰ª∑Ê†ºÔºàÂä†ÂÖÉÔºâ',
                    down_payment: 'È¶ñ‰ªòÊØî‰æãÔºà%Ôºâ',
                    amortization_period: 'ÊëäÈîÄÊúüÔºàÂπ¥Ôºâ',
                    term: 'Ë¥∑Ê¨æÊúüÈôêÔºàÂπ¥Ôºâ',
                    interest_rate: 'Âà©ÁéáÔºà%Ôºâ',
                    payment_frequency: '‰ªòÊ¨æÈ¢ëÁéá',
                    monthly: 'ÊØèÊúà',
                    biweekly: 'ÊØè‰∏§Âë®',
                    weekly: 'ÊØèÂë®',
                    btn_calc: 'ËÆ°ÁÆóÊäµÊäºË¥∑Ê¨æ',
                    mortgage_amount: 'ÊäµÊäºË¥∑Ê¨æÈáëÈ¢ù',
                    payment_amount: '‰ªòÊ¨æÈáëÈ¢ù',
                    total_paid: 'Ë¥∑Ê¨æÊúüÂÜÖÊÄªÊîØ‰ªò',
                    total_interest: 'Ë¥∑Ê¨æÊúüÂÜÖÊÄªÂà©ÊÅØ',
                    amortization_schedule: 'ÊëäÈîÄÊó∂Èó¥Ë°®ÔºàÂâç24Êúü‰ªòÊ¨æÔºâ',
                    show_more: 'ÊòæÁ§∫Êõ¥Â§ö',
                    payment_num: '‰ªòÊ¨æÁºñÂè∑',
                    payment_date: 'Êó•Êúü',
                    payment: '‰ªòÊ¨æ',
                    principal: 'Êú¨Èáë',
                    interest: 'Âà©ÊÅØ',
                    remaining_balance: 'Ââ©‰Ωô‰ΩôÈ¢ù',
                    cmhc_note: 'Ê≥®ÔºöÈ¶ñ‰ªò‰Ωé‰∫é20%ÁöÑÊäµÊäºË¥∑Ê¨æÈúÄË¶ÅCMHC‰øùÈô©„ÄÇ',
                    disclaimer: 'ÂÖçË¥£Â£∞ÊòéÔºöÊú¨ËÆ°ÁÆóÂô®‰ªÖÁî®‰∫é‰º∞ÁÆó„ÄÇÂÆûÈôÖÊäµÊäºË¥∑Ê¨æÊù°Ê¨æÂèØËÉΩÊúâÊâÄ‰∏çÂêå„ÄÇ',
                    err_invalid: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠ó',
                    cmhc_insurance: 'CMHC‰øùÈô©Ë¥πÔºö'
                },
                'zh-TW': {
                    title: 'üè¶ Âä†ÊãøÂ§ßÊäµÊäºË≤∏Ê¨æË®àÁÆóÂô®',
                    home_price: 'ÊàøÂ±ãÂÉπÊ†ºÔºàÂä†ÂÖÉÔºâ',
                    down_payment: 'È¶ñ‰ªòÊØî‰æãÔºà%Ôºâ',
                    amortization_period: 'Êî§Èä∑ÊúüÔºàÂπ¥Ôºâ',
                    term: 'Ë≤∏Ê¨æÊúüÈôêÔºàÂπ¥Ôºâ',
                    interest_rate: 'Âà©ÁéáÔºà%Ôºâ',
                    payment_frequency: '‰ªòÊ¨æÈ†ªÁéá',
                    monthly: 'ÊØèÊúà',
                    biweekly: 'ÊØèÂÖ©Âë®',
                    weekly: 'ÊØèÂë®',
                    btn_calc: 'Ë®àÁÆóÊäµÊäºË≤∏Ê¨æ',
                    mortgage_amount: 'ÊäµÊäºË≤∏Ê¨æÈáëÈ°ç',
                    payment_amount: '‰ªòÊ¨æÈáëÈ°ç',
                    total_paid: 'Ë≤∏Ê¨æÊúüÂÖßÁ∏ΩÊîØ‰ªò',
                    total_interest: 'Ë≤∏Ê¨æÊúüÂÖßÁ∏ΩÂà©ÊÅØ',
                    amortization_schedule: 'Êî§Èä∑ÊôÇÈñìË°®ÔºàÂâç24Êúü‰ªòÊ¨æÔºâ',
                    show_more: 'È°ØÁ§∫Êõ¥Â§ö',
                    payment_num: '‰ªòÊ¨æÁ∑®Ëôü',
                    payment_date: 'Êó•Êúü',
                    payment: '‰ªòÊ¨æ',
                    principal: 'Êú¨Èáë',
                    interest: 'Âà©ÊÅØ',
                    remaining_balance: 'Ââ©È§òÈ§òÈ°ç',
                    cmhc_note: 'Ê≥®ÔºöÈ¶ñ‰ªò‰ΩéÊñº20%ÁöÑÊäµÊäºË≤∏Ê¨æÈúÄË¶ÅCMHC‰øùÈö™„ÄÇ',
                    disclaimer: 'ÂÖçË≤¨ËÅ≤ÊòéÔºöÊú¨Ë®àÁÆóÂô®ÂÉÖÁî®Êñº‰º∞ÁÆó„ÄÇÂØ¶ÈöõÊäµÊäºË≤∏Ê¨æÊ¢ùÊ¨æÂèØËÉΩÊúâÊâÄ‰∏çÂêå„ÄÇ',
                    err_invalid: 'Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÊï∏Â≠ó',
                    cmhc_insurance: 'CMHC‰øùÈö™Ë≤ªÔºö'
                },
                'ja': {
                    title: 'üè¶ „Ç´„Éä„ÉÄ‰ΩèÂÆÖ„É≠„Éº„É≥Ë®àÁÆóÊ©ü',
                    home_price: '‰ΩèÂÆÖ‰æ°Ê†ºÔºà„Ç´„Éä„ÉÄ„Éâ„É´Ôºâ',
                    down_payment: 'È†≠ÈáëÔºà%Ôºâ',
                    amortization_period: 'ÂÑüÈÇÑÊúüÈñìÔºàÂπ¥Ôºâ',
                    term: '„É≠„Éº„É≥ÊúüÈñìÔºàÂπ¥Ôºâ',
                    interest_rate: 'ÈáëÂà©Ôºà%Ôºâ',
                    payment_frequency: 'ÊîØÊâïÈ†ªÂ∫¶',
                    monthly: 'ÊØéÊúà',
                    biweekly: '2ÈÄ±„Åî„Å®',
                    weekly: 'ÊØéÈÄ±',
                    btn_calc: '‰ΩèÂÆÖ„É≠„Éº„É≥„ÇíË®àÁÆó',
                    mortgage_amount: '‰ΩèÂÆÖ„É≠„Éº„É≥ÈáëÈ°ç',
                    payment_amount: 'ÊîØÊâïÈáëÈ°ç',
                    total_paid: 'ÊúüÈñìÂÜÖ„ÅÆÁ∑èÊîØÊâïÈ°ç',
                    total_interest: 'ÊúüÈñìÂÜÖ„ÅÆÁ∑èÂà©ÊÅØ',
                    amortization_schedule: 'ÂÑüÈÇÑ„Çπ„Ç±„Ç∏„É•„Éº„É´ÔºàÊúÄÂàù„ÅÆ24Âõû„ÅÆÊîØÊâï„ÅÑÔºâ',
                    show_more: '„Åï„Çâ„Å´Ë°®Á§∫',
                    payment_num: 'ÊîØÊâï„ÅÑÁï™Âè∑',
                    payment_date: 'Êó•‰ªò',
                    payment: 'ÊîØÊâï„ÅÑ',
                    principal: 'ÂÖÉÊú¨',
                    interest: 'Âà©ÊÅØ',
                    remaining_balance: 'ÊÆãÈ´ò',
                    cmhc_note: 'Ê≥®ÔºöÈ†≠Èáë„Åå20%Êú™Ê∫Ä„ÅÆ‰ΩèÂÆÖ„É≠„Éº„É≥„Å´„ÅØCMHC‰øùÈô∫„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ',
                    disclaimer: 'ÂÖçË≤¨‰∫ãÈ†ÖÔºö„Åì„ÅÆË®àÁÆóÊ©ü„ÅØÊé®ÂÆö„ÅÆ„Åø„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂÆüÈöõ„ÅÆ‰ΩèÂÆÖ„É≠„Éº„É≥„ÅÆÊù°‰ª∂„ÅØÁï∞„Å™„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    err_invalid: 'ÊúâÂäπ„Å™Êï∞Â≠ó„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    cmhc_insurance: 'CMHC‰øùÈô∫ÊñôÔºö'
                },
                'ru': {
                    title: 'üè¶ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä kanad—Å–∫–æ–≥–æ –∏–ø–æ—Ç–µ–∫–∏',
                    home_price: '–¶–µ–Ω–∞ –¥–æ–º–∞ (–ö–∞–Ω–∞–¥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä)',
                    down_payment: '–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å (%)',
                    amortization_period: '–ü–µ—Ä–∏–æ–¥ –∞–º–æ—Ä—Ç—Ç–∏–∑–∞—Ü–∏–∏ (–ª–µ—Ç)',
                    term: '–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–ª–µ—Ç)',
                    interest_rate: '–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)',
                    payment_frequency: '–ß–∞—Å—Ç–æ—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π',
                    monthly: '–ï–∂–µ–º–µ—Å—è—á–Ω–æ',
                    biweekly: '–†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏',
                    weekly: '–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–ø–æ—Ç–µ–∫—É',
                    mortgage_amount: '–°—É–º–º–∞ –∏–ø–æ—Ç–µ–∫–∏',
                    payment_amount: '–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞',
                    total_paid: '–í—Å–µ–≥–æ –≤—ã–ø–ª–∞—á–µ–Ω–æ –∑–∞ —Å—Ä–æ–∫',
                    total_interest: '–û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞ —Å—Ä–æ–∫',
                    amortization_schedule: '–ì—Ä–∞—Ñ–∏–∫ –∞–º–æ—Ä—Ç—Ç–∏–∑–∞—Ü–∏–∏ (–ø–µ—Ä–≤—ã–µ 24 –ø–ª–∞—Ç–µ–∂–∞)',
                    show_more: '–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ',
                    payment_num: '–ü–ª–∞—Ç–µ–∂ #',
                    payment_date: '–î–∞—Ç–∞',
                    payment: '–ü–ª–∞—Ç–µ–∂',
                    principal: '–¢–µ–ª–æ –∫—Ä–µ–¥–∏—Ç–∞',
                    interest: '–ü—Ä–æ—Ü–µ–Ω—Ç—ã',
                    remaining_balance: '–û—Å—Ç–∞–≤—à–∏–π—Å—è –±–∞–ª–∞–Ω—Å',
                    cmhc_note: '–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ò–ø–æ—Ç–µ—á–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã —Å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–º –≤–∑–Ω–æ—Å–æ–º –º–µ–Ω–µ–µ 20% —Ç—Ä–µ–±—É—é—Ç —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è CMHC.',
                    disclaimer: '–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –≠—Ç–æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –∏–ø–æ—Ç–µ–∫–∏ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.',
                    err_invalid: '–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞',
                    cmhc_insurance: '–ü—Ä–µ–º–∏—è –∑–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ CMHC: '
                },
                'es': {
                    title: 'üè¶ Calculadora de hipotecas canadiense',
                    home_price: 'Precio de la vivienda (CAD)',
                    down_payment: 'Pago inicial (%)',
                    amortization_period: 'Periodo de amortizaci√≥n (a√±os)',
                    term: 'Plazo (a√±os)',
                    interest_rate: 'Tasa de inter√©s (%)',
                    payment_frequency: 'Frecuencia de pago',
                    monthly: 'Mensual',
                    biweekly: 'Quincenal',
                    weekly: 'Semanal',
                    btn_calc: 'Calcular hipoteca',
                    mortgage_amount: 'Monto de la hipoteca',
                    payment_amount: 'Monto del pago',
                    total_paid: 'Total pagado en el plazo',
                    total_interest: 'Total de inter√©s en el plazo',
                    amortization_schedule: 'Calendario de amortizaci√≥n (primeros 24 pagos)',
                    show_more: 'Mostrar m√°s',
                    payment_num: 'Pago #',
                    payment_date: 'Fecha',
                    payment: 'Pago',
                    principal: 'Capital',
                    interest: 'Inter√©s',
                    remaining_balance: 'Saldo restante',
                    cmhc_note: 'Nota: Las hipotecas con un pago inicial menor al 20% requieren seguro CMHC.',
                    disclaimer: 'Descargo de responsabilidad: Esta calculadora es solo para fines de estimaci√≥n. Los t√©rminos reales de la hipoteca pueden variar.',
                    err_invalid: 'Por favor, ingrese n√∫meros v√°lidos',
                    cmhc_insurance: 'Prima de seguro CMHC: '
                }
            },
            
            changeLang: function() {
                const lang = document.getElementById('mortgage-lang').value;
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // Êõ¥Êñ∞‰ªòÊ¨æÈ¢ëÁéáÊòæÁ§∫
                const frequency = document.getElementById('payment-frequency').value;
                document.getElementById('payment-frequency-text').textContent = this.i18n[lang][frequency] || this.i18n['en'][frequency];
            },
            
            calc: function() {
                // Ëé∑ÂèñËæìÂÖ•ÂÄº
                const homePrice = parseFloat(document.getElementById('home-price').value) || 0;
                const downPaymentPercent = parseFloat(document.getElementById('down-payment').value) || 0;
                const amortizationPeriod = parseFloat(document.getElementById('amortization-period').value) || 0;
                const term = parseFloat(document.getElementById('term').value) || 0;
                const interestRate = parseFloat(document.getElementById('interest-rate').value) || 0;
                const paymentFrequency = document.getElementById('payment-frequency').value;
                
                // È™åËØÅËæìÂÖ•
                if ([homePrice, downPaymentPercent, amortizationPeriod, term, interestRate].some(isNaN) || 
                    homePrice <= 0 || downPaymentPercent <= 0 || amortizationPeriod <= 0 || term <= 0 || interestRate <= 0) {
                    alert(this.getCurrentLangText('err_invalid'));
                    return;
                }
                
                // ËÆ°ÁÆóÊäµÊäºË¥∑Ê¨æÈáëÈ¢ù
                const downPayment = homePrice * (downPaymentPercent / 100);
                let mortgageAmount = homePrice - downPayment;
                
                // ËÆ°ÁÆóCMHC‰øùÈô©ÔºàÂ¶ÇÊûúÈ¶ñ‰ªò‰Ωé‰∫é20%Ôºâ
                let cmhcInsurance = 0;
                if (downPaymentPercent < 20) {
                    // CMHC‰øùÈô©Ë¥πÁéáÔºàÂä†ÊãøÂ§ßÊ†áÂáÜÔºâ
                    let cmhcRate = 0;
                    if (downPaymentPercent >= 10 && downPaymentPercent < 15) cmhcRate = 2.4;
                    else if (downPaymentPercent >= 5 && downPaymentPercent < 10) cmhcRate = 3.15;
                    else if (downPaymentPercent < 5) cmhcRate = 4.0;
                    
                    cmhcInsurance = mortgageAmount * (cmhcRate / 100);
                    mortgageAmount += cmhcInsurance; // ‰øùÈô©Ë¥πÂä†ÂÖ•Ë¥∑Ê¨æÈáëÈ¢ù
                }
                
                // ËÆ°ÁÆó‰ªòÊ¨æÊ¨°Êï∞ÂíåÂà©Áéá
                let paymentsPerYear = 12; // ÈªòËÆ§ÊØèÊúà
                if (paymentFrequency === 'biweekly') paymentsPerYear = 26;
                else if (paymentFrequency === 'weekly') paymentsPerYear = 52;
                
                const totalPayments = amortizationPeriod * paymentsPerYear;
                const periodicRate = (interestRate / 100) / paymentsPerYear;
                
                // ËÆ°ÁÆóÊØèÊúü‰ªòÊ¨æÈáëÈ¢ù
                const paymentAmount = mortgageAmount * (periodicRate * Math.pow(1 + periodicRate, totalPayments)) / 
                                     (Math.pow(1 + periodicRate, totalPayments) - 1);
                
                // ËÆ°ÁÆóË¥∑Ê¨æÊúüÂÜÖÁöÑÊÄªÊîØ‰ªòÂíåÊÄªÂà©ÊÅØ
                const termPayments = term * paymentsPerYear;
                let totalPaid = paymentAmount * termPayments;
                
                // ÁîüÊàêÊëäÈîÄË°®
                this.generateAmortizationSchedule(mortgageAmount, periodicRate, paymentAmount, termPayments, paymentFrequency);
                
                // ËÆ°ÁÆóÂâ©‰Ωô‰ΩôÈ¢ùÂíåÊÄªÂà©ÊÅØ
                let remainingBalance = mortgageAmount;
                let totalInterest = 0;
                
                for (let i = 0; i < termPayments; i++) {
                    const interestPayment = remainingBalance * periodicRate;
                    const principalPayment = paymentAmount - interestPayment;
                    remainingBalance -= principalPayment;
                    totalInterest += interestPayment;
                }
                
                // ÊòæÁ§∫ÁªìÊûú
                const lang = document.getElementById('mortgage-lang').value;
                const currency = 'CAD $';
                
                document.getElementById('mortgage-amount').textContent = `${currency}${mortgageAmount.toFixed(2)}`;
                document.getElementById('payment-amount').textContent = `${currency}${paymentAmount.toFixed(2)}`;
                document.getElementById('payment-frequency-text').textContent = this.i18n[lang][paymentFrequency] || this.i18n['en'][paymentFrequency];
                document.getElementById('total-paid').textContent = `${currency}${totalPaid.toFixed(2)}`;
                document.getElementById('total-interest').textContent = `${currency}${totalInterest.toFixed(2)}`;
                
                // ÊòæÁ§∫CMHC‰øùÈô©‰ø°ÊÅØÔºàÂ¶ÇÊûúÈÄÇÁî®Ôºâ
                const cmhcNoteEl = document.querySelector('[data-i18n="cmhc_note"]');
                if (cmhcInsurance > 0) {
                    cmhcNoteEl.textContent = `${this.i18n[lang]['cmhc_note']} ${this.i18n[lang]['cmhc_insurance']}${currency}${cmhcInsurance.toFixed(2)}`;
                } else {
                    cmhcNoteEl.textContent = this.i18n[lang]['cmhc_note'];
                }
            },
            
            generateAmortizationSchedule: function(principal, rate, payment, totalPayments, frequency) {
                const scheduleBody = document.getElementById('amortization-schedule');
                scheduleBody.innerHTML = '';
                
                let remainingBalance = principal;
                let currentDate = new Date();
                const displayPayments = Math.min(totalPayments, 24); // ÊòæÁ§∫Ââç24Êúü
                
                for (let i = 0; i < displayPayments; i++) {
                    const interestPayment = remainingBalance * rate;
                    const principalPayment = payment - interestPayment;
                    remainingBalance -= principalPayment;
                    
                    // ËÆ°ÁÆó‰ªòÊ¨æÊó•Êúü
                    if (frequency === 'monthly') {
                        currentDate.setMonth(currentDate.getMonth() + 1);
                    } else if (frequency === 'biweekly') {
                        currentDate.setDate(currentDate.getDate() + 14);
                    } else if (frequency === 'weekly') {
                        currentDate.setDate(currentDate.getDate() + 7);
                    }
                    
                    const formattedDate = currentDate.toLocaleDateString();
                    const currency = 'CAD $';
                    
                    // ÂàõÂª∫Ë°®Ê†ºË°å
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${i + 1}</td>
                        <td>${formattedDate}</td>
                        <td>${currency}${payment.toFixed(2)}</td>
                        <td>${currency}${principalPayment.toFixed(2)}</td>
                        <td>${currency}${interestPayment.toFixed(2)}</td>
                        <td>${currency}${Math.max(0, remainingBalance).toFixed(2)}</td>
                    `;
                    
                    scheduleBody.appendChild(row);
                }
            },
            
            toggleSchedule: function() {
                const container = document.querySelector('.schedule-container');
                if (container.style.maxHeight === '300px' || !container.style.maxHeight) {
                    container.style.maxHeight = '800px';
                    document.querySelector('[data-i18n="show_more"]').textContent = this.getCurrentLangText('show_less') || 'Show Less';
                } else {
                    container.style.maxHeight = '300px';
                    document.querySelector('[data-i18n="show_more"]').textContent = this.getCurrentLangText('show_more');
                }
            },
            
            getCurrentLangText: function(key) {
                const lang = document.getElementById('mortgage-lang').value;
                return this.i18n[lang][key] || this.i18n['en'][key];
            }
        };
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>