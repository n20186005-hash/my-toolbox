<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="calorie_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="ğŸ½ï¸">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Calorie Calculator">
    <meta name="description" content="Estimate your daily calorie needs based on your age, gender, weight, height, and activity level.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="å¡è·¯é‡Œè®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="æ ¹æ®æ‚¨çš„å¹´é¾„ã€æ€§åˆ«ã€ä½“é‡ã€èº«é«˜å’Œæ´»åŠ¨æ°´å¹³ä¼°ç®—æ‚¨çš„æ¯æ—¥å¡è·¯é‡Œéœ€æ±‚ã€‚">
    
    <meta name="lang-title-zh-TW" content="å¡è·¯é‡Œè¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="æ ¹æ“šæ‚¨çš„å¹´é½¡ã€æ€§åˆ¥ã€é«”é‡ã€èº«é«˜å’Œæ´»å‹•æ°´å¹³ä¼°ç®—æ‚¨çš„æ¯æ—¥å¡è·¯é‡Œéœ€æ±‚ã€‚">
    
    <meta name="lang-title-ja" content="ã‚«ãƒ­ãƒªãƒ¼è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="å¹´é½¢ã€æ€§åˆ¥ã€ä½“é‡ã€èº«é•·ã€æ´»å‹•ãƒ¬ãƒ™ãƒ«ã«åŸºã¥ã„ã¦æ¯æ—¥ã®ã‚«ãƒ­ãƒªãƒ¼å¿…è¦é‡ã‚’æ¨å®šã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹">
    <meta name="lang-description-ru" content="ĞÑ†ĞµĞ½Ğ¸Ñ‚Ğµ ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸ÑÑ… Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ»Ğ°, Ğ²ĞµÑĞ°, Ñ€Ğ¾ÑÑ‚Ğ° Ğ¸ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-section { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .goal-card { background: white; padding: 15px; border-radius: 8px; margin-top: 10px; text-align: center; }
        .goal-value { font-size: 1.5rem; font-weight: bold; color: #22c55e; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="calorie_calculator" 
         data-category="health" 
         data-title="Calorie Calculator" 
         data-icon="ğŸ½ï¸">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="calorie-lang" onchange="CalorieCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ½ï¸ Calorie Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <div class="grid-2">
                <!-- æ€§åˆ« -->
                <div class="form-group">
                    <label data-i18n="gender">Gender</label>
                    <select id="gender" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="male" data-i18n="male">Male</option>
                        <option value="female" data-i18n="female">Female</option>
                    </select>
                </div>
                
                <!-- å¹´é¾„ -->
                <div class="form-group">
                    <label data-i18n="age">Age (years)</label>
                    <input type="number" id="age" min="10" max="120" value="30" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                
                <!-- ä½“é‡ -->
                <div class="form-group">
                    <label data-i18n="weight">Weight</label>
                    <div class="flex gap-2">
                        <input type="number" id="weight" min="10" max="300" value="70" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <select id="weight-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="kg">kg</option>
                            <option value="lb">lb</option>
                        </select>
                    </div>
                </div>
                
                <!-- èº«é«˜ -->
                <div class="form-group">
                    <label data-i18n="height">Height</label>
                    <div class="flex gap-2">
                        <input type="number" id="height" min="50" max="250" value="175" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <select id="height-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="cm">cm</option>
                            <option value="ft">ft</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- æ´»åŠ¨æ°´å¹³ -->
            <div class="form-group">
                <label data-i18n="activity_level">Activity Level</label>
                <select id="activity" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="sedentary" data-i18n="sedentary">Sedentary (little to no exercise)</option>
                    <option value="lightly" data-i18n="lightly">Lightly Active (light exercise/sports 1-3 days/week)</option>
                    <option value="moderately" data-i18n="moderately">Moderately Active (moderate exercise/sports 3-5 days/week)</option>
                    <option value="very" data-i18n="very">Very Active (hard exercise/sports 6-7 days/week)</option>
                    <option value="extra" data-i18n="extra">Extra Active (very hard exercise/sports & physical job)</option>
                </select>
            </div>
            
            <!-- ç›®æ ‡ -->
            <div class="form-group">
                <label data-i18n="goal">Goal</label>
                <select id="goal" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="maintain" data-i18n="maintain">Maintain Weight</option>
                    <option value="lose" data-i18n="lose">Lose Weight</option>
                    <option value="gain" data-i18n="gain">Gain Weight</option>
                </select>
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="CalorieCalculator.clearForm()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="CalorieCalculator.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="calorie-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="calorie-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="results">Results</div>
            <div class="result-section">
                <div class="grid-2 mb-4">
                    <div>
                        <div class="text-sm text-gray-500" data-i18n="bmr">Basal Metabolic Rate (BMR)</div>
                        <div class="text-lg font-medium" id="bmr-result">-</div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-500" data-i18n="tdee">Total Daily Energy Expenditure (TDEE)</div>
                        <div class="text-lg font-medium" id="tdee-result">-</div>
                    </div>
                </div>
                
                <div data-i18n="daily_intake">Daily Calorie Intake Based on Goal</div>
                <div id="goal-results" class="grid-2">
                    <!-- ç›®æ ‡å¡è·¯é‡Œå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
                
                <div class="mt-4 text-sm text-gray-600" data-i18n="note_tip">
                    Note: This is an estimate. Individual calorie needs may vary based on metabolism, muscle mass, and other factors.
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="about_calculation">About the Calculation:</p>
            <ul class="list-disc list-inside mt-2 space-y-1">
                <li data-i18n="bmr_desc">BMR is calculated using the Mifflin-St Jeor equation, which estimates the number of calories your body needs at rest.</li>
                <li data-i18n="tdee_desc">TDEE is your BMR multiplied by an activity factor to account for your daily activity level.</li>
                <li data-i18n="weight_goal_desc">Weight loss/gain goals are based on a 500-750 calorie per day deficit/surplus, which is generally considered safe and sustainable.</li>
            </ul>
        </div>
    </div>

    <script>
        const CalorieCalculator = {
            // æ´»åŠ¨æ°´å¹³ç³»æ•°
            activityFactors: {
                'sedentary': 1.2,
                'lightly': 1.375,
                'moderately': 1.55,
                'very': 1.725,
                'extra': 1.9
            },
            
            // å¤šè¯­è¨€æ–‡æœ¬
            i18n: {
                'en': {
                    title: 'ğŸ½ï¸ Calorie Calculator',
                    gender: 'Gender',
                    male: 'Male',
                    female: 'Female',
                    age: 'Age (years)',
                    weight: 'Weight',
                    height: 'Height',
                    activity_level: 'Activity Level',
                    sedentary: 'Sedentary (little to no exercise)',
                    lightly: 'Lightly Active (light exercise/sports 1-3 days/week)',
                    moderately: 'Moderately Active (moderate exercise/sports 3-5 days/week)',
                    very: 'Very Active (hard exercise/sports 6-7 days/week)',
                    extra: 'Extra Active (very hard exercise/sports & physical job)',
                    goal: 'Goal',
                    maintain: 'Maintain Weight',
                    lose: 'Lose Weight',
                    gain: 'Gain Weight',
                    clear: 'Clear',
                    calculate: 'Calculate',
                    results: 'Results',
                    bmr: 'Basal Metabolic Rate (BMR)',
                    tdee: 'Total Daily Energy Expenditure (TDEE)',
                    daily_intake: 'Daily Calorie Intake Based on Goal',
                    note_tip: 'Note: This is an estimate. Individual calorie needs may vary based on metabolism, muscle mass, and other factors.',
                    about_calculation: 'About the Calculation:',
                    bmr_desc: 'BMR is calculated using the Mifflin-St Jeor equation, which estimates the number of calories your body needs at rest.',
                    tdee_desc: 'TDEE is your BMR multiplied by an activity factor to account for your daily activity level.',
                    weight_goal_desc: 'Weight loss/gain goals are based on a 500-750 calorie per day deficit/surplus, which is generally considered safe and sustainable.',
                    err_invalid_input: 'Please enter valid values for all fields',
                    calories: 'calories/day',
                    lose_slow: 'Slow Weight Loss:',
                    lose_fast: 'Moderate Weight Loss:',
                    maintain: 'Weight Maintenance:',
                    gain_slow: 'Slow Weight Gain:',
                    gain_fast: 'Moderate Weight Gain:'
                },
                'zh-CN': {
                    title: 'ğŸ½ï¸ å¡è·¯é‡Œè®¡ç®—å™¨',
                    gender: 'æ€§åˆ«',
                    male: 'ç”·',
                    female: 'å¥³',
                    age: 'å¹´é¾„ï¼ˆå²ï¼‰',
                    weight: 'ä½“é‡',
                    height: 'èº«é«˜',
                    activity_level: 'æ´»åŠ¨æ°´å¹³',
                    sedentary: 'ä¹…åä¸åŠ¨ï¼ˆå¾ˆå°‘æˆ–ä¸è¿åŠ¨ï¼‰',
                    lightly: 'è½»åº¦æ´»è·ƒï¼ˆè½»åº¦è¿åŠ¨/è¿åŠ¨ 1-3 å¤©/å‘¨ï¼‰',
                    moderately: 'ä¸­åº¦æ´»è·ƒï¼ˆä¸­åº¦è¿åŠ¨/è¿åŠ¨ 3-5 å¤©/å‘¨ï¼‰',
                    very: 'é«˜åº¦æ´»è·ƒï¼ˆé«˜å¼ºåº¦è¿åŠ¨/è¿åŠ¨ 6-7 å¤©/å‘¨ï¼‰',
                    extra: 'æåº¦æ´»è·ƒï¼ˆæé«˜å¼ºåº¦è¿åŠ¨/è¿åŠ¨åŠä½“åŠ›å·¥ä½œï¼‰',
                    goal: 'ç›®æ ‡',
                    maintain: 'ç»´æŒä½“é‡',
                    lose: 'å‡é‡',
                    gain: 'å¢é‡',
                    clear: 'æ¸…é™¤',
                    calculate: 'è®¡ç®—',
                    results: 'ç»“æœ',
                    bmr: 'åŸºç¡€ä»£è°¢ç‡ (BMR)',
                    tdee: 'æ¯æ—¥æ€»èƒ½é‡æ¶ˆè€— (TDEE)',
                    daily_intake: 'åŸºäºç›®æ ‡çš„æ¯æ—¥å¡è·¯é‡Œæ‘„å…¥é‡',
                    note_tip: 'æ³¨ï¼šè¿™æ˜¯ä¸€ä¸ªä¼°è®¡å€¼ã€‚ä¸ªäººå¡è·¯é‡Œéœ€æ±‚å¯èƒ½å› æ–°é™ˆä»£è°¢ã€è‚Œè‚‰é‡å’Œå…¶ä»–å› ç´ è€Œå¼‚ã€‚',
                    about_calculation: 'å…³äºè®¡ç®—ï¼š',
                    bmr_desc: 'BMRä½¿ç”¨Mifflin-St Jeorå…¬å¼è®¡ç®—ï¼Œè¯¥å…¬å¼ä¼°è®¡æ‚¨çš„èº«ä½“åœ¨ä¼‘æ¯æ—¶éœ€è¦çš„å¡è·¯é‡Œæ•°é‡ã€‚',
                    tdee_desc: 'TDEEæ˜¯æ‚¨çš„BMRä¹˜ä»¥æ´»åŠ¨ç³»æ•°ï¼Œä»¥è€ƒè™‘æ‚¨çš„æ—¥å¸¸æ´»åŠ¨æ°´å¹³ã€‚',
                    weight_goal_desc: 'å‡é‡/å¢é‡ç›®æ ‡åŸºäºæ¯å¤©500-750å¡è·¯é‡Œçš„çƒ­é‡èµ¤å­—/ç›ˆä½™ï¼Œè¿™é€šå¸¸è¢«è®¤ä¸ºæ˜¯å®‰å…¨å’Œå¯æŒç»­çš„ã€‚',
                    err_invalid_input: 'è¯·ä¸ºæ‰€æœ‰å­—æ®µè¾“å…¥æœ‰æ•ˆå€¼',
                    calories: 'å¡è·¯é‡Œ/å¤©',
                    lose_slow: 'ç¼“æ…¢å‡é‡ï¼š',
                    lose_fast: 'ä¸­åº¦å‡é‡ï¼š',
                    maintain: 'ç»´æŒä½“é‡ï¼š',
                    gain_slow: 'ç¼“æ…¢å¢é‡ï¼š',
                    gain_fast: 'ä¸­åº¦å¢é‡ï¼š'
                },
                'zh-TW': {
                    title: 'ğŸ½ï¸ å¡è·¯é‡Œè¨ˆç®—å™¨',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·',
                    female: 'å¥³',
                    age: 'å¹´é½¡ï¼ˆæ­²ï¼‰',
                    weight: 'é«”é‡',
                    height: 'èº«é«˜',
                    activity_level: 'æ´»å‹•æ°´å¹³',
                    sedentary: 'ä¹…åä¸å‹•ï¼ˆå¾ˆå°‘æˆ–ä¸é‹å‹•ï¼‰',
                    lightly: 'è¼•åº¦æ´»èºï¼ˆè¼•åº¦é‹å‹•/é‹å‹• 1-3 å¤©/é€±ï¼‰',
                    moderately: 'ä¸­åº¦æ´»èºï¼ˆä¸­åº¦é‹å‹•/é‹å‹• 3-5 å¤©/é€±ï¼‰',
                    very: 'é«˜åº¦æ´»èºï¼ˆé«˜å¼·åº¦é‹å‹•/é‹å‹• 6-7 å¤©/é€±ï¼‰',
                    extra: 'æ¥µåº¦æ´»èºï¼ˆæ¥µé«˜å¼·åº¦é‹å‹•/é‹å‹•åŠé«”åŠ›å·¥ä½œï¼‰',
                    goal: 'ç›®æ¨™',
                    maintain: 'ç¶­æŒé«”é‡',
                    lose: 'æ¸›é‡',
                    gain: 'å¢é‡',
                    clear: 'æ¸…é™¤',
                    calculate: 'è¨ˆç®—',
                    results: 'çµæœ',
                    bmr: 'åŸºç¤ä»£è¬ç‡ (BMR)',
                    tdee: 'æ¯æ—¥ç¸½èƒ½é‡æ¶ˆè€— (TDEE)',
                    daily_intake: 'åŸºæ–¼ç›®æ¨™çš„æ¯æ—¥å¡è·¯é‡Œæ”å…¥é‡',
                    note_tip: 'æ³¨ï¼šé€™æ˜¯ä¸€å€‹ä¼°è¨ˆå€¼ã€‚å€‹äººå¡è·¯é‡Œéœ€æ±‚å¯èƒ½å› æ–°é™³ä»£è¬ã€è‚Œè‚‰é‡å’Œå…¶ä»–å› ç´ è€Œç•°ã€‚',
                    about_calculation: 'é—œæ–¼è¨ˆç®—ï¼š',
                    bmr_desc: 'BMRä½¿ç”¨Mifflin-St Jeorå…¬å¼è¨ˆç®—ï¼Œè©²å…¬å¼ä¼°è¨ˆæ‚¨çš„èº«é«”åœ¨ä¼‘æ¯æ™‚éœ€è¦çš„å¡è·¯é‡Œæ•¸é‡ã€‚',
                    tdee_desc: 'TDEEæ˜¯æ‚¨çš„BMRä¹˜ä»¥æ´»å‹•ä¿‚æ•¸ï¼Œä»¥è€ƒæ…®æ‚¨çš„æ—¥å¸¸æ´»å‹•æ°´å¹³ã€‚',
                    weight_goal_desc: 'æ¸›é‡/å¢é‡ç›®æ¨™åŸºæ–¼æ¯å¤©500-750å¡è·¯é‡Œçš„ç†±é‡èµ¤å­—/ç›ˆé¤˜ï¼Œé€™é€šå¸¸è¢«èªç‚ºæ˜¯å®‰å…¨å’Œå¯æŒçºŒçš„ã€‚',
                    err_invalid_input: 'è«‹ç‚ºæ‰€æœ‰æ¬„ä½è¼¸å…¥æœ‰æ•ˆå€¼',
                    calories: 'å¡è·¯é‡Œ/å¤©',
                    lose_slow: 'ç·©æ…¢æ¸›é‡ï¼š',
                    lose_fast: 'ä¸­åº¦æ¸›é‡ï¼š',
                    maintain: 'ç¶­æŒé«”é‡ï¼š',
                    gain_slow: 'ç·©æ…¢å¢é‡ï¼š',
                    gain_fast: 'ä¸­åº¦å¢é‡ï¼š'
                },
                'ja': {
                    title: 'ğŸ½ï¸ ã‚«ãƒ­ãƒªãƒ¼è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·æ€§',
                    female: 'å¥³æ€§',
                    age: 'å¹´é½¢ï¼ˆæ­³ï¼‰',
                    weight: 'ä½“é‡',
                    height: 'èº«é•·',
                    activity_level: 'æ´»å‹•ãƒ¬ãƒ™ãƒ«',
                    sedentary: 'åº§ä½ä¸­å¿ƒçš„ï¼ˆã»ã¨ã‚“ã©ã¾ãŸã¯å…¨ãé‹å‹•ã—ãªã„ï¼‰',
                    lightly: 'è»½åº¦æ´»å‹•çš„ï¼ˆè»½ã„é‹å‹•/ã‚¹ãƒãƒ¼ãƒ„ 1-3æ—¥/é€±ï¼‰',
                    moderately: 'ä¸­ç­‰æ´»å‹•çš„ï¼ˆä¸­ç­‰å¼·åº¦ã®é‹å‹•/ã‚¹ãƒãƒ¼ãƒ„ 3-5æ—¥/é€±ï¼‰',
                    very: 'é«˜åº¦æ´»å‹•çš„ï¼ˆæ¿€ã—ã„é‹å‹•/ã‚¹ãƒãƒ¼ãƒ„ 6-7æ—¥/é€±ï¼‰',
                    extra: 'è¶…æ´»å‹•çš„ï¼ˆéå¸¸ã«æ¿€ã—ã„é‹å‹•/ã‚¹ãƒãƒ¼ãƒ„ã¨è‚‰ä½“åŠ´åƒï¼‰',
                    goal: 'ç›®æ¨™',
                    maintain: 'ä½“é‡ç¶­æŒ',
                    lose: 'æ¸›é‡',
                    gain: 'å¢—é‡',
                    clear: 'ã‚¯ãƒªã‚¢',
                    calculate: 'è¨ˆç®—',
                    results: 'çµæœ',
                    bmr: 'åŸºç¤ä»£è¬é‡ (BMR)',
                    tdee: '1æ—¥ç·ã‚¨ãƒãƒ«ã‚®ãƒ¼æ¶ˆè²»é‡ (TDEE)',
                    daily_intake: 'ç›®æ¨™ã«åŸºã¥ã1æ—¥ã‚«ãƒ­ãƒªãƒ¼æ‘‚å–é‡',
                    note_tip: 'æ³¨ï¼šã“ã‚Œã¯æ¨å®šå€¤ã§ã™ã€‚å€‹äººã®ã‚«ãƒ­ãƒªãƒ¼å¿…è¦é‡ã¯ã€ä»£è¬ã€ç­‹è‚‰é‡ã€ãã®ä»–ã®è¦å› ã«ã‚ˆã£ã¦ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚',
                    about_calculation: 'è¨ˆç®—ã«ã¤ã„ã¦ï¼š',
                    bmr_desc: 'BMRã¯ã€ä¼‘æ¯æ™‚ã®èº«ä½“ãŒå¿…è¦ã¨ã™ã‚‹ã‚«ãƒ­ãƒªãƒ¼æ•°ã‚’æ¨å®šã™ã‚‹Mifflin-St Jeoræ–¹ç¨‹å¼ã‚’ä½¿ç”¨ã—ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚',
                    tdee_desc: 'TDEEã¯ã€BMRã«æ´»å‹•ä¿‚æ•°ã‚’æ›ã‘ãŸã‚‚ã®ã§ã€æ—¥å¸¸ã®æ´»å‹•ãƒ¬ãƒ™ãƒ«ã‚’è€ƒæ…®ã—ã¦ã„ã¾ã™ã€‚',
                    weight_goal_desc: 'æ¸›é‡/å¢—é‡ã®ç›®æ¨™ã¯ã€1æ—¥ã‚ãŸã‚Š500-750ã‚«ãƒ­ãƒªãƒ¼ã®ä¸è¶³/éå‰°ã«åŸºã¥ã„ã¦ãŠã‚Šã€ä¸€èˆ¬çš„ã«å®‰å…¨ã§æŒç¶šå¯èƒ½ãªã‚‚ã®ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚',
                    err_invalid_input: 'ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    calories: 'ã‚«ãƒ­ãƒªãƒ¼/æ—¥',
                    lose_slow: 'ã‚†ã£ãã‚Šæ¸›é‡ï¼š',
                    lose_fast: 'é©åº¦ãªæ¸›é‡ï¼š',
                    maintain: 'ä½“é‡ç¶­æŒï¼š',
                    gain_slow: 'ã‚†ã£ãã‚Šå¢—é‡ï¼š',
                    gain_fast: 'é©åº¦ãªå¢—é‡ï¼š'
                },
                'ru': {
                    title: 'ğŸ½ï¸ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹',
                    gender: 'ĞŸĞ¾Ğ»',
                    male: 'ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹',
                    female: 'Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹',
                    age: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ (Ğ»ĞµÑ‚)',
                    weight: 'Ğ’ĞµÑ',
                    height: 'Ğ Ğ¾ÑÑ‚',
                    activity_level: 'Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸',
                    sedentary: 'Ğ¡Ğ¸Ğ´ÑÑ‡Ğ¸Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¶Ğ¸Ğ·Ğ½Ğ¸ (Ğ¼Ğ°Ğ»Ğ¾Ğµ Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸)',
                    lightly: 'Ğ›ĞµĞ³ĞºĞ¾ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ»ĞµĞ³ĞºĞ¸Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ/ÑĞ¿Ğ¾Ñ€Ñ‚ 1-3 Ğ´Ğ½Ñ/Ğ½ĞµĞ´ĞµĞ»Ñ)',
                    moderately: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ/ÑĞ¿Ğ¾Ñ€Ñ‚ 3-5 Ğ´Ğ½ĞµĞ¹/Ğ½ĞµĞ´ĞµĞ»Ñ)',
                    very: 'ĞÑ‡ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ½Ğ°Ğ¿Ñ€ÑĞ¶Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ/ÑĞ¿Ğ¾Ñ€Ñ‚ 6-7 Ğ´Ğ½ĞµĞ¹/Ğ½ĞµĞ´ĞµĞ»Ñ)',
                    extra: 'Ğ­ĞºÑÑ‚Ñ€Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ/ÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¸ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°)',
                    goal: 'Ğ¦ĞµĞ»ÑŒ',
                    maintain: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ',
                    lose: 'ĞŸĞ¾Ñ‚ĞµÑ€ÑÑ‚ÑŒ Ğ²ĞµÑ',
                    gain: 'ĞĞ°Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²ĞµÑ',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ',
                    results: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹',
                    bmr: 'Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ (Ğ‘ĞœĞ )',
                    tdee: 'ĞĞ±Ñ‰Ğ¸Ğ¹ ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ñ€Ğ°ÑÑ…Ğ¾Ğ´ ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸ (TDEE)',
                    daily_intake: 'Ğ¡ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ñ†ĞµĞ»Ğ¸',
                    note_tip: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ­Ñ‚Ğ¾ Ğ¾Ñ†ĞµĞ½ĞºĞ°. Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸ÑÑ… Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ¼ĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ğ·Ğ¼Ğ°, Ğ¼Ğ°ÑÑÑ‹ Ğ¼Ñ‹ÑˆÑ† Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¾Ğ².',
                    about_calculation: 'Ğ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğµ:',
                    bmr_desc: 'Ğ‘ĞœĞ  Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ ĞœĞ¸Ñ„Ñ„Ğ»Ğ¸Ğ½Ğ°-Ğ¡Ñ‚ Ğ”Ğ¶Ğ¾Ğ°Ñ€Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°ĞµÑ‚ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹, Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ñ… Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¼Ñƒ Ğ² ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ Ğ¿Ğ¾ĞºĞ¾Ñ.',
                    tdee_desc: 'TDEE â€” ÑÑ‚Ğ¾ Ğ²Ğ°Ñˆ Ğ‘ĞœĞ , ÑƒĞ¼Ğ½Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒÑ‡ĞµÑÑ‚ÑŒ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ¹ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸.',
                    weight_goal_desc: 'Ğ¦ĞµĞ»Ğ¸ Ğ¿Ğ¾Ñ…ÑƒĞ´ĞµĞ½Ğ¸Ñ/Ğ½Ğ°Ğ±Ğ¸Ñ€Ğ°Ğ½Ğ¸Ñ Ğ²ĞµÑĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ½Ğ° Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚Ğµ/Ğ¸Ğ·Ğ±Ñ‹Ñ‚ĞºĞµ Ğ² 500-750 ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹ Ğ² ÑÑƒÑ‚ĞºĞ¸, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğ¼ Ğ¸ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²ĞµÑ‡Ğ½Ñ‹Ğ¼.',
                    err_invalid_input: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ»ĞµĞ¹',
                    calories: 'ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹/Ğ´ĞµĞ½ÑŒ',
                    lose_slow: 'ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ñ…ÑƒĞ´ĞµĞ½Ğ¸Ğµ:',
                    lose_fast: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ñ…ÑƒĞ´ĞµĞ½Ğ¸Ğµ:',
                    maintain: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°:',
                    gain_slow: 'ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ±Ğ¸Ñ€Ğ°ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°:',
                    gain_fast: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ±Ğ¸Ñ€Ğ°ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°:'
                }
            },
            
            // è®¡ç®—å¡è·¯é‡Œéœ€æ±‚
            calculate: function() {
                // è·å–è¾“å…¥å€¼
                const gender = document.getElementById('gender').value;
                const age = parseInt(document.getElementById('age').value);
                let weight = parseFloat(document.getElementById('weight').value);
                let height = parseFloat(document.getElementById('height').value);
                const weightUnit = document.getElementById('weight-unit').value;
                const heightUnit = document.getElementById('height-unit').value;
                const activity = document.getElementById('activity').value;
                
                const errorEl = document.getElementById('calorie-error');
                const resultsEl = document.getElementById('calorie-results');
                
                // éªŒè¯è¾“å…¥
                if (isNaN(age) || isNaN(weight) || isNaN(height) || age < 10 || weight <= 0 || height <= 0) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                    errorEl.classList.remove('hidden');
                    return;
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                // å•ä½è½¬æ¢ (è½¬ä¸ºkgå’Œcm)
                if (weightUnit === 'lb') {
                    weight = weight * 0.453592; // ç£…è½¬åƒå…‹
                }
                
                if (heightUnit === 'ft') {
                    height = height * 30.48; // è‹±å°ºè½¬å˜ç±³
                }
                
                // ä½¿ç”¨Mifflin-St Jeorå…¬å¼è®¡ç®—BMR
                let bmr;
                if (gender === 'male') {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
                } else {
                    bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
                }
                
                // è®¡ç®—TDEE
                const activityFactor = this.activityFactors[activity];
                const tdee = bmr * activityFactor;
                
                // æ›´æ–°ç»“æœæ˜¾ç¤º
                document.getElementById('bmr-result').textContent = `${Math.round(bmr)} ${this.i18n[this.getCurrentLang()].calories}`;
                document.getElementById('tdee-result').textContent = `${Math.round(tdee)} ${this.i18n[this.getCurrentLang()].calories}`;
                
                // è®¡ç®—ç›®æ ‡å¡è·¯é‡Œ
                this.updateGoalResults(tdee);
                
                // æ˜¾ç¤ºç»“æœ
                resultsEl.classList.remove('hidden');
            },
            
            // æ›´æ–°ç›®æ ‡å¡è·¯é‡Œç»“æœ
            updateGoalResults: function(tdee) {
                const lang = this.getCurrentLang();
                const goalResultsEl = document.getElementById('goal-results');
                goalResultsEl.innerHTML = '';
                
                // è®¡ç®—ä¸åŒç›®æ ‡çš„å¡è·¯é‡Œ
                const goals = [
                    { key: 'lose_slow', value: tdee - 500 },
                    { key: 'lose_fast', value: tdee - 750 },
                    { key: 'maintain', value: tdee },
                    { key: 'gain_slow', value: tdee + 500 },
                    { key: 'gain_fast', value: tdee + 750 }
                ];
                
                // åˆ›å»ºç›®æ ‡å…ƒç´ 
                goals.forEach(goal => {
                    const goalCard = document.createElement('div');
                    goalCard.className = 'goal-card';
                    
                    const goalLabel = document.createElement('div');
                    goalLabel.className = 'text-sm text-gray-600';
                    goalLabel.textContent = this.i18n[lang][goal.key];
                    
                    const goalValue = document.createElement('div');
                    goalValue.className = 'goal-value';
                    goalValue.textContent = `${Math.round(goal.value)} ${this.i18n[lang].calories}`;
                    
                    goalCard.appendChild(goalLabel);
                    goalCard.appendChild(goalValue);
                    goalResultsEl.appendChild(goalCard);
                });
            },
            
            // æ¸…é™¤è¡¨å•
            clearForm: function() {
                document.getElementById('age').value = '30';
                document.getElementById('weight').value = '70';
                document.getElementById('height').value = '175';
                document.getElementById('gender').value = 'male';
                document.getElementById('activity').value = 'sedentary';
                document.getElementById('goal').value = 'maintain';
                document.getElementById('calorie-results').classList.add('hidden');
                document.getElementById('calorie-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // å¦‚æœæœ‰ç»“æœï¼Œé‡æ–°è®¡ç®—ä»¥æ›´æ–°è¯­è¨€
                if (!document.getElementById('calorie-results').classList.contains('hidden')) {
                    this.calculate();
                }
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('calorie-lang').value;
            }
        };
    </script>
</body>
</html>