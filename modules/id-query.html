<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="category" content="查询工具">
    <title>身份证号码查询</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto p-4 max-w-3xl">
        <h1 class="text-2xl font-bold text-center my-6" data-i18n="title">身份证号码查询</h1>
        
        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
            <div class="form-group mb-4">
                <label class="block text-gray-700 mb-2" data-i18n="id_input">身份证号码</label>
                <input type="text" id="id_number" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none" maxlength="18" oninput="IdTool.validate()">
            </div>
            
            <button onclick="IdTool.query()" class="w-full bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition mb-4" data-i18n="query_btn">查询信息</button>
            
            <div class="result-section">
                <div class="result-row mb-2">
                    <span class="result-label inline-block w-28 text-gray-600" data-i18n="birthplace">归属地：</span>
                    <span id="birthplace" class="text-gray-800">-</span>
                </div>
                <div class="result-row mb-2">
                    <span class="result-label inline-block w-28 text-gray-600" data-i18n="birthday">出生日期：</span>
                    <span id="birthday" class="text-gray-800">-</span>
                </div>
                <div class="result-row">
                    <span class="result-label inline-block w-28 text-gray-600" data-i18n="gender">性别：</span>
                    <span id="gender" class="text-gray-800">-</span>
                </div>
            </div>
        </div>

        <div class="intro-section bg-white p-4 rounded-lg">
            <h3 class="text-lg font-semibold mb-2 text-gray-800" data-i18n="intro_title">工具介绍</h3>
            <p data-i18n="intro_text">身份证号码查询工具可解析中国大陆身份证号码中的信息，包括归属地、出生日期和性别等基础信息，仅用于格式解析，不存储任何数据。</p>
        </div>

        <select id="lang-selector" class="mt-6 p-2 border rounded" onchange="IdTool.changeLang()">
            <option value="zh-CN">简体中文</option>
            <option value="zh-TW">繁体中文</option>
            <option value="en">English</option>
            <option value="ja">日本語</option>
            <option value="ru">Русский</option>
        </select>
    </div>

    <script>
        const IdTool = {
            i18n: {
                'zh-CN': {
                    title: '身份证号码查询',
                    id_input: '身份证号码',
                    query_btn: '查询信息',
                    birthplace: '归属地',
                    birthday: '出生日期',
                    gender: '性别',
                    intro_title: '工具介绍',
                    intro_text: '身份证号码查询工具可解析中国大陆身份证号码中的信息，包括归属地、出生日期和性别等基础信息，仅用于格式解析，不存储任何数据。'
                },
                'zh-TW': {
                    title: '身份證號碼查詢',
                    id_input: '身份證號碼',
                    query_btn: '查詢信息',
                    birthplace: '歸屬地',
                    birthday: '出生日期',
                    gender: '性別',
                    intro_title: '工具介紹',
                    intro_text: '身份證號碼查詢工具可解析中國大陸身份證號碼中的信息，包括歸屬地、出生日期和性別等基礎信息，僅用於格式解析，不存儲任何數據。'
                },
                'en': {
                    title: 'Chinese ID Card Query',
                    id_input: 'ID Card Number',
                    query_btn: 'Query Information',
                    birthplace: 'Birthplace',
                    birthday: 'Date of Birth',
                    gender: 'Gender',
                    intro_title: 'About This Tool',
                    intro_text: 'This tool parses information from Chinese mainland ID card numbers, including basic information such as birthplace, date of birth and gender. It is only used for format parsing and does not store any data.'
                },
                'ja': {
                    title: '中国身分証番号検索',
                    id_input: '身分証番号',
                    query_btn: '情報を検索',
                    birthplace: '出生地',
                    birthday: '生年月日',
                    gender: '性別',
                    intro_title: 'ツールの説明',
                    intro_text: 'このツールは、中国本土の身分証番号から情報を解析し、出生地、生年月日、性別などの基本情報を提供します。フォーマット解析のみに使用され、データは保存されません。'
                },
                'ru': {
                    title: 'Проверка китайского паспорта',
                    id_input: 'Номер удостоверения личности',
                    query_btn: 'Получить информацию',
                    birthplace: 'Место рождения',
                    birthday: 'Дата рождения',
                    gender: 'Пол',
                    intro_title: 'О инструменте',
                    intro_text: 'Этот инструмент анализирует информацию из номеров удостоверений личности Китая, включая место рождения, дату рождения и пол. Используется только для парсинга формата, данные не сохраняются.'
                }
            },

            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                }
                this.changeLang();
            },

            changeLang: function() {
                const lang = document.getElementById('lang-selector').value;
                const newUrl = new URL(window.location);
                newUrl.searchParams.set('lang', lang);
                window.history.pushState({}, '', newUrl);
                const texts = this.i18n[lang];
                
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
            },

            validate: function() {
                // 简单的格式验证
                const input = document.getElementById('id_number').value;
                const regex = /^\d{17}[\dXx]$/;
                return regex.test(input);
            },

            query: function() {
                const id = document.getElementById('id_number').value;
                if (!this.validate()) {
                    alert('请输入有效的身份证号码');
                    return;
                }

                // 解析逻辑示例（实际应用需对接地址库）
                const areaCode = id.substr(0, 6);
                const birthYear = id.substr(6, 4);
                const birthMonth = id.substr(10, 2);
                const birthDay = id.substr(12, 2);
                const genderCode = id.substr(16, 1);
                const gender = genderCode % 2 === 1 ? '男' : '女';

                document.getElementById('birthplace').innerText = '根据行政区划代码：' + areaCode;
                document.getElementById('birthday').innerText = `${birthYear}-${birthMonth}-${birthDay}`;
                document.getElementById('gender').innerText = gender;
            }
        };

        window.onload = function() { IdTool.init(); };
    </script>
</body>
</html>