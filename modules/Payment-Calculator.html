<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>é‚„æ¬¾è¨ˆç®—å™¨æ¨¡å¡Š</title>
    <meta name="tool-id" content="payment_calc">
    <meta name="category" content="finance">
    <meta name="icon" content="ğŸ’³">
    <meta name="title" content="Generic Loan Calculator">
    <meta name="description" content="Calculates monthly payment, total interest, and total payment for a loan.">

    <meta name="lang-title-zh-CN" content="é€šç”¨è´·æ¬¾è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—è´·æ¬¾çš„æ¯æœˆè¿˜æ¬¾é¢ã€æ€»åˆ©æ¯å’Œè¿˜æ¬¾æ€»é¢ã€‚">
    
    <meta name="lang-title-zh-TW" content="é€šç”¨è²¸æ¬¾è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—è²¸æ¬¾çš„æ¯æœˆé‚„æ¬¾é¡ã€ç¸½åˆ©æ¯å’Œé‚„æ¬¾ç¸½é¡ã€‚">
    
    <meta name="lang-title-ja" content="ãƒ­ãƒ¼ãƒ³è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="æ¯æœˆã®è¿”æ¸ˆé¡ã€ç·åˆ©æ¯ã€ç·æ”¯æ‰•é¡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€">
    <meta name="lang-description-ru" content="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ĞµĞ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶, Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ¾Ğ±Ñ‰ÑƒÑ ÑÑƒĞ¼Ğ¼Ñƒ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚ Ğ¿Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ñƒ.">
    
    <meta name="lang-title-es" content="Calculadora de PrÃ©stamos">
    <meta name="lang-description-es" content="Calcula el pago mensual, el interÃ©s total y el pago total de un prÃ©stamo.">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* æ¨¡æ“¬ä¸»ç¨‹å¼ç’°å¢ƒæ¨£å¼ */
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <!-- ================================================================= -->
    <!-- ğŸ”´ å€åŸŸ 1ï¼šHTML ç©æœ¨ (è¤‡è£½åˆ° tools-wrapper) -->
    <!-- ================================================================= -->
    
    <div class="tool-module active" 
         data-id="payment_calc" 
         data-category="finance" 
         data-title="é€šç”¨è²¸æ¬¾è¨ˆç®—å™¨" 
         data-icon="ğŸ’³">
        
        <!-- èªè¨€é¸æ“‡å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="pc-lang" onchange="PaymentCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="zh-CN">ç°¡é«”ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="en">English</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                <option value="es">EspaÃ±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ’³ é€šç”¨è²¸æ¬¾è¨ˆç®—å™¨</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="amount_label">è²¸æ¬¾é‡‘é¡</label>
                    <input type="number" id="pc-amount" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="10000">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="rate_label">å¹´åˆ©ç‡ (%)</label>
                    <input type="number" id="pc-rate" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="5.0" step="0.01">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="term_label">æœŸé™ (å€‹æœˆ)</label>
                    <input type="number" id="pc-term" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="36">
                </div>
            </div>
        </div>

        <button onclick="PaymentCalc.calc()" class="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_calc">è¨ˆç®—</button>

        <div class="bg-green-50 p-4 rounded-lg border border-green-100">
            <div class="flex justify-between items-center mb-2">
                <span class="text-gray-600" data-i18n="res_monthly">æ¯æœˆé‚„æ¬¾</span>
                <div class="text-right">
                    <div id="pc-monthly" class="text-2xl font-bold text-green-700">--</div>
                </div>
            </div>
            <div class="flex justify-between items-center text-sm mb-1">
                <span class="text-gray-500" data-i18n="res_interest">ç¸½åˆ©æ¯</span>
                <span id="pc-total-interest" class="font-semibold text-gray-700">--</span>
            </div>
            <div class="flex justify-between items-center text-sm">
                <span class="text-gray-500" data-i18n="res_total">é‚„æ¬¾ç¸½é¡</span>
                <span id="pc-total-payment" class="font-semibold text-gray-700">--</span>
            </div>
        </div>
    </div>

    <!-- ================================================================= -->
    <!-- ğŸ”´ å€åŸŸ 1 çµæŸ -->
    <!-- ================================================================= -->


    <!-- ================================================================= -->
    <!-- ğŸ”´ å€åŸŸ 2ï¼šJS ç©æœ¨ (è¤‡è£½åˆ° script æ¨™ç±¤ä¸­) -->
    <!-- ================================================================= -->
    <script>
        const PaymentCalc = {
            i18n: {
                'zh-CN': {
                    title: 'ğŸ’³ é€šç”¨è´·æ¬¾è®¡ç®—å™¨',
                    amount_label: 'è´·æ¬¾é‡‘é¢',
                    rate_label: 'å¹´åˆ©ç‡ (%)',
                    term_label: 'æœŸé™ (ä¸ªæœˆ)',
                    btn_calc: 'è®¡ç®—',
                    res_monthly: 'æ¯æœˆè¿˜æ¬¾',
                    res_interest: 'æ”¯ä»˜åˆ©æ¯æ€»é¢',
                    res_total: 'è¿˜æ¬¾æ€»é¢'
                },
                'zh-TW': {
                    title: 'ğŸ’³ é€šç”¨è²¸æ¬¾è¨ˆç®—å™¨',
                    amount_label: 'è²¸æ¬¾é‡‘é¡',
                    rate_label: 'å¹´åˆ©ç‡ (%)',
                    term_label: 'æœŸé™ (å€‹æœˆ)',
                    btn_calc: 'è¨ˆç®—',
                    res_monthly: 'æ¯æœˆé‚„æ¬¾',
                    res_interest: 'æ”¯ä»˜åˆ©æ¯ç¸½é¡',
                    res_total: 'é‚„æ¬¾ç¸½é¡'
                },
                'en': {
                    title: 'ğŸ’³ Payment Calculator',
                    amount_label: 'Loan Amount',
                    rate_label: 'Interest Rate (%)',
                    term_label: 'Term (Months)',
                    btn_calc: 'Calculate',
                    res_monthly: 'Monthly Pay',
                    res_interest: 'Total Interest',
                    res_total: 'Total Payment'
                },
                'ja': {
                    title: 'ğŸ’³ ãƒ­ãƒ¼ãƒ³è¨ˆç®—',
                    amount_label: 'å€Ÿå…¥é‡‘é¡',
                    rate_label: 'å¹´åˆ© (%)',
                    term_label: 'è¿”æ¸ˆæœŸé–“ (ãƒ¶æœˆ)',
                    btn_calc: 'è¨ˆç®—ã™ã‚‹',
                    res_monthly: 'æ¯æœˆã®è¿”æ¸ˆé¡',
                    res_interest: 'ç·æ”¯æ‰•åˆ©æ¯',
                    res_total: 'ç·è¿”æ¸ˆé¡'
                },
                'ru': {
                    title: 'ğŸ’³ ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€',
                    amount_label: 'Ğ¡ÑƒĞ¼Ğ¼Ğ° ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ°',
                    rate_label: 'Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° (%)',
                    term_label: 'Ğ¡Ñ€Ğ¾Ğº (Ğ¼ĞµÑ)',
                    btn_calc: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ',
                    res_monthly: 'Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶',
                    res_interest: 'ĞŸĞµÑ€ĞµĞ¿Ğ»Ğ°Ñ‚Ğ°',
                    res_total: 'Ğ’ÑĞµĞ³Ğ¾ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚'
                },
                'es': {
                    title: 'ğŸ’³ Calculadora de PrÃ©stamos',
                    amount_label: 'Monto',
                    rate_label: 'Tasa Anual (%)',
                    term_label: 'Plazo (Meses)',
                    btn_calc: 'Calcular',
                    res_monthly: 'Pago Mensual',
                    res_interest: 'InterÃ©s Total',
                    res_total: 'Pago Total'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('pc-lang').value;
                const texts = PaymentCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="payment_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
                PaymentCalc.calc(true); 
            },

            calc: (isLangUpdate = false) => {
                const amount = parseFloat(document.getElementById('pc-amount').value);
                const rate = parseFloat(document.getElementById('pc-rate').value);
                const months = parseFloat(document.getElementById('pc-term').value);
                
                const lang = document.getElementById('pc-lang').value;
                const fmt = (num) => num.toLocaleString(lang === 'en' ? 'en-US' : 'zh-CN', { style: 'currency', currency: lang === 'en' ? 'USD' : (lang === 'ja' ? 'JPY' : 'CNY') });

                if (!amount || !rate || !months) {
                    return;
                }

                // æœˆåˆ©ç‡
                const r = rate / 100 / 12;
                let monthlyPayment = 0;

                // å¦‚æœåˆ©ç‡ç‚º0
                if (rate === 0) {
                    monthlyPayment = amount / months;
                } else {
                    // M = P * [r(1+r)^n] / [(1+r)^n - 1]
                    const x = Math.pow(1 + r, months);
                    monthlyPayment = (amount * r * x) / (x - 1);
                }

                const totalPayment = monthlyPayment * months;
                const totalInterest = totalPayment - amount;

                document.getElementById('pc-monthly').innerText = fmt(monthlyPayment);
                document.getElementById('pc-total-interest').innerText = fmt(totalInterest);
                document.getElementById('pc-total-payment').innerText = fmt(totalPayment);
            }
        };
    </script>
    <!-- ================================================================= -->
    <!-- ğŸ”´ å€åŸŸ 2 çµæŸ -->
    <!-- ================================================================= -->

</body>
</html>