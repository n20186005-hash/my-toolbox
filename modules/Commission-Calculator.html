<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Commission Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdfa; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="comm_calc" 
         data-category="finance" 
         data-title="Commission Calculator" 
         data-icon="ü§ù">
        
        <div class="absolute top-4 right-4">
            <select id="cc-lang" onchange="CommCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ü§ù Commission Calculator</h2>

        <div class="space-y-4 mb-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="lbl_sales">Sales Revenue</label>
                <div class="relative">
                    <span class="absolute left-3 top-2 text-gray-500">$</span>
                    <input type="number" id="cc-sales" class="w-full pl-6 p-2 border rounded focus:ring-2 focus:ring-teal-500 outline-none" placeholder="10000">
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="lbl_rate">Commission Rate (%)</label>
                    <input type="number" id="cc-rate" class="w-full p-2 border rounded focus:ring-2 focus:ring-teal-500 outline-none" placeholder="5" value="5">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="lbl_base">Base Pay (Optional)</label>
                    <div class="relative">
                        <span class="absolute left-3 top-2 text-gray-500">$</span>
                        <input type="number" id="cc-base" class="w-full pl-6 p-2 border rounded focus:ring-2 focus:ring-teal-500 outline-none" placeholder="0">
                    </div>
                </div>
            </div>
        </div>

        <button onclick="CommCalc.calc()" class="w-full bg-teal-600 text-white py-2 rounded font-bold hover:bg-teal-700 transition mb-6" data-i18n="btn_calc">Calculate Payout</button>

        <div class="bg-teal-50 p-4 rounded-lg border border-teal-100">
            <div class="flex justify-between items-center mb-3 border-b border-teal-200 pb-2">
                <span class="text-gray-600 text-sm font-bold" data-i18n="res_total">Total Payout</span>
                <div id="cc-res-total" class="text-3xl font-bold text-teal-800">$ --</div>
            </div>
            <div class="flex justify-between items-center text-sm">
                <span class="text-gray-500" data-i18n="res_comm">Commission Only</span>
                <span id="cc-res-comm" class="font-bold text-gray-700">--</span>
            </div>
        </div>
    </div>

    <script>
        const CommCalc = {
            i18n: {
                'en': {
                    title: 'ü§ù Commission Calculator',
                    lbl_sales: 'Sales Revenue',
                    lbl_rate: 'Commission Rate (%)',
                    lbl_base: 'Base Pay (Optional)',
                    btn_calc: 'Calculate Payout',
                    res_total: 'Total Payout',
                    res_comm: 'Commission Earned'
                },
                'zh-CN': {
                    title: 'ü§ù ÈîÄÂîÆ‰Ω£ÈáëËÆ°ÁÆóÂô®',
                    lbl_sales: 'ÈîÄÂîÆÊÄªÈ¢ù',
                    lbl_rate: 'ÊèêÊàêÊØî‰æã (%)',
                    lbl_base: 'Â∫ïËñ™ (ÂèØÈÄâ)',
                    btn_calc: 'ËÆ°ÁÆóÊî∂ÂÖ•',
                    res_total: 'ÊÄªÊî∂ÂÖ•',
                    res_comm: '‰Ω£Èáë/ÊèêÊàê'
                },
                'zh-TW': {
                    title: 'ü§ù Èä∑ÂîÆ‰Ω£ÈáëË®àÁÆóÂô®',
                    lbl_sales: 'Èä∑ÂîÆÁ∏ΩÈ°ç',
                    lbl_rate: 'ÊèêÊàêÊØî‰æã (%)',
                    lbl_base: 'Â∫ïËñ™ (ÂèØÈÅ∏)',
                    btn_calc: 'Ë®àÁÆóÊî∂ÂÖ•',
                    res_total: 'Á∏ΩÊî∂ÂÖ•',
                    res_comm: '‰Ω£Èáë/ÊèêÊàê'
                },
                'ja': {
                    title: 'ü§ù Ê≠©ÂêàÁµ¶„Éª„Ç≥„Éü„ÉÉ„Ç∑„Éß„É≥Ë®àÁÆó',
                    lbl_sales: 'Â£≤‰∏äÈ´ò',
                    lbl_rate: 'Ê≠©ÂêàÁéá (%)',
                    lbl_base: 'Âü∫Êú¨Áµ¶ (‰ªªÊÑè)',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_total: 'ÊîØÁµ¶Á∑èÈ°ç',
                    res_comm: 'Ê≠©ÂêàÁµ¶'
                },
                'ru': {
                    title: 'ü§ù –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã—Ö',
                    lbl_sales: '–°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂',
                    lbl_rate: '–ü—Ä–æ—Ü–µ–Ω—Ç (%)',
                    lbl_base: '–û–∫–ª–∞–¥ (–û–ø—Ü.)',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_total: '–ò—Ç–æ–≥–æ –∫ –≤—ã–ø–ª–∞—Ç–µ',
                    res_comm: '–°—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–∏'
                },
                'es': {
                    title: 'ü§ù Calculadora de Comisiones',
                    lbl_sales: 'Ventas Totales',
                    lbl_rate: 'Tasa Comisi√≥n (%)',
                    lbl_base: 'Sueldo Base (Opc.)',
                    btn_calc: 'Calcular Pago',
                    res_total: 'Pago Total',
                    res_comm: 'Comisi√≥n Ganada'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('cc-lang').value;
                const texts = CommCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="comm_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
            },

            calc: () => {
                const sales = parseFloat(document.getElementById('cc-sales').value);
                const rate = parseFloat(document.getElementById('cc-rate').value);
                const base = parseFloat(document.getElementById('cc-base').value) || 0;

                if (isNaN(sales) || isNaN(rate)) return;

                const commission = sales * (rate / 100);
                const total = commission + base;

                const fmt = (n) => n.toLocaleString('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 });

                document.getElementById('cc-res-total').innerText = fmt(total);
                document.getElementById('cc-res-comm').innerText = fmt(commission);
            }
        };
    </script>
</body>
</html>