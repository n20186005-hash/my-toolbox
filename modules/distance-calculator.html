<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distance Calculator</title>
    
    <!-- Âü∫Á°ÄÂÖÉ‰ø°ÊÅØ -->
    <meta name="tool-id" content="distance_calc">
    <meta name="category" content="Math">
    <meta name="icon" content="üìç">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÖÉ‰ø°ÊÅØ -->
    <meta name="title" content="Distance Calculator">
    <meta name="description" content="Calculate the distance between two points in 2D or 3D space using Cartesian coordinates.">
    
    <!-- Â§öËØ≠Ë®ÄÂÖÉ‰ø°ÊÅØÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="Ë∑ùÁ¶ªËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="‰ΩøÁî®Á¨õÂç°Â∞îÂùêÊ†áËÆ°ÁÆó‰∫åÁª¥Êàñ‰∏âÁª¥Á©∫Èó¥‰∏≠‰∏§ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Ë∑ùÈõ¢Ë®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="‰ΩøÁî®Á¨õÂç°ÁàæÂùêÊ®ôË®àÁÆó‰∫åÁ∂≠Êàñ‰∏âÁ∂≠Á©∫Èñì‰∏≠ÂÖ©Èªû‰πãÈñìÁöÑË∑ùÈõ¢„ÄÇ">
    
    <meta name="lang-title-ja" content="Ë∑ùÈõ¢Ë®àÁÆó„ÉÑ„Éº„É´">
    <meta name="lang-description-ja" content="„Éá„Ç´„É´„ÉàÂ∫ßÊ®ô„Çí‰ΩøÁî®„Åó„Å¶2Ê¨°ÂÖÉ„Åæ„Åü„ÅØ3Ê¨°ÂÖÉÁ©∫ÈñìÂÜÖ„ÅÆ2ÁÇπÈñì„ÅÆË∑ùÈõ¢„ÇíË®àÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è">
    <meta name="lang-description-ru" content="–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –≤ 2D –∏–ª–∏ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ–∫–∞—Ä—Ç–æ–≤—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.">
    
    <meta name="lang-title-es" content="Calculadora de Distancia">
    <meta name="lang-description-es" content="Calcule la distancia entre dos puntos en el espacio 2D o 3D usando coordenadas cartesianas.">

    <!-- ÂºïÂÖ•Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            padding: 20px; 
            background: #f0f9ff; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
        }
        .tool-module { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            max-width: 700px; 
            margin: 0 auto; 
            position: relative; 
        }
        .input-group { 
            margin-bottom: 12px; 
        }
        label { 
            display: block; 
            font-size: 14px; 
            color: #374151; 
            margin-bottom: 4px; 
        }
        input { 
            width: 100%; 
            padding: 8px; 
            border: 1px solid #d1d5db; 
            border-radius: 4px; 
            transition: border-color 0.2s;
        }
        input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }
        .calc-option { 
            padding: 8px; 
            border: 1px solid #d1d5db; 
            border-radius: 4px; 
            margin-bottom: 8px; 
            cursor: pointer; 
            transition: all 0.2s;
        }
        .calc-option.active { 
            background: #dbeafe; 
            border-color: #3b82f6; 
        }
        .calc-option:hover {
            background: #f3f4f6;
        }
        .coord-diagram {
            text-align: center;
            margin: 20px 0;
        }
        .coord-svg {
            max-width: 300px;
            height: auto;
        }
        .formula-box { 
            background: #f9fafb; 
            padding: 12px; 
            border-radius: 4px; 
            margin-top: 10px; 
            font-family: 'Consolas', 'Monaco', monospace; 
            font-size: 16px; 
            text-align: center; 
        }
        .error-text {
            color: #dc2626;
            font-size: 14px;
            margin-top: 8px;
            display: none;
        }
        .error-text.show {
            display: block;
        }
        .distance-result {
            font-size: 20px;
            font-weight: 700;
            color: #1e40af;
            text-align: center;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="tool-module active" 
         data-id="distance_calc" 
         data-category="math/geo" 
         data-title="Distance Calculator" 
         data-icon="üìç">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="distance-lang" onchange="DistanceCalc.changeLang()" 
                    class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üìç Distance Calculator</h2>
        
        <!-- ËÆ°ÁÆóÁ±ªÂûãÈÄâÊã© -->
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="calculate_what">Calculate:</label>
            <div>
                <div class="calc-option active" onclick="DistanceCalc.setCalcType('2d')" id="opt-2d">
                    <span data-i18n="calc_2d">2D Distance (x‚ÇÅ,y‚ÇÅ) to (x‚ÇÇ,y‚ÇÇ)</span>
                </div>
                <div class="calc-option" onclick="DistanceCalc.setCalcType('3d')" id="opt-3d">
                    <span data-i18n="calc_3d">3D Distance (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) to (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)</span>
                </div>
            </div>
        </div>

        <!-- 2DËæìÂÖ•Ë°®Âçï -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4" id="input-2d">
            <div class="input-group">
                <label data-i18n="point1_x">Point 1 (x‚ÇÅ)</label>
                <input type="number" id="point1-x" step="0.01" value="1">
            </div>
            <div class="input-group">
                <label data-i18n="point1_y">Point 1 (y‚ÇÅ)</label>
                <input type="number" id="point1-y" step="0.01" value="2">
            </div>
            <div class="input-group">
                <label data-i18n="point2_x">Point 2 (x‚ÇÇ)</label>
                <input type="number" id="point2-x" step="0.01" value="4">
            </div>
            <div class="input-group">
                <label data-i18n="point2_y">Point 2 (y‚ÇÇ)</label>
                <input type="number" id="point2-y" step="0.01" value="6">
            </div>
        </div>

        <!-- 3DËæìÂÖ•Ë°®Âçï -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 hidden" id="input-3d">
            <div class="input-group">
                <label data-i18n="point1_x">Point 1 (x‚ÇÅ)</label>
                <input type="number" id="point1-x-3d" step="0.01" value="1">
            </div>
            <div class="input-group">
                <label data-i18n="point1_y">Point 1 (y‚ÇÅ)</label>
                <input type="number" id="point1-y-3d" step="0.01" value="2">
            </div>
            <div class="input-group">
                <label data-i18n="point1_z">Point 1 (z‚ÇÅ)</label>
                <input type="number" id="point1-z-3d" step="0.01" value="3">
            </div>
            <div class="input-group">
                <label data-i18n="point2_x">Point 2 (x‚ÇÇ)</label>
                <input type="number" id="point2-x-3d" step="0.01" value="4">
            </div>
            <div class="input-group">
                <label data-i18n="point2_y">Point 2 (y‚ÇÇ)</label>
                <input type="number" id="point2-y-3d" step="0.01" value="5">
            </div>
            <div class="input-group">
                <label data-i18n="point2_z">Point 2 (z‚ÇÇ)</label>
                <input type="number" id="point2-z-3d" step="0.01" value="6">
            </div>
        </div>

        <!-- ÂùêÊ†áÁ§∫ÊÑèÂõæ -->
        <div class="coord-diagram" id="diagram-2d">
            <svg class="coord-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <!-- ÂùêÊ†áËΩ¥ -->
                <line x1="20" y1="180" x2="180" y2="180" stroke="#6b7280" stroke-width="1.5"/>
                <line x1="20" y1="180" x2="20" y2="20" stroke="#6b7280" stroke-width="1.5"/>
                
                <!-- ÂàªÂ∫¶ -->
                <line x1="60" y1="175" x2="60" y2="185" stroke="#6b7280" stroke-width="1"/>
                <line x1="100" y1="175" x2="100" y2="185" stroke="#6b7280" stroke-width="1"/>
                <line x1="140" y1="175" x2="140" y2="185" stroke="#6b7280" stroke-width="1"/>
                <line x1="15" y1="140" x2="25" y2="140" stroke="#6b7280" stroke-width="1"/>
                <line x1="15" y1="100" x2="25" y2="100" stroke="#6b7280" stroke-width="1"/>
                <line x1="15" y1="60" x2="25" y2="60" stroke="#6b7280" stroke-width="1"/>
                
                <!-- ÂàªÂ∫¶Ê†áÁ≠æ -->
                <text x="58" y="200" font-size="12" fill="#6b7280">2</text>
                <text x="98" y="200" font-size="12" fill="#6b7280">4</text>
                <text x="138" y="200" font-size="12" fill="#6b7280">6</text>
                <text x="5" y="143" font-size="12" fill="#6b7280">2</text>
                <text x="5" y="103" font-size="12" fill="#6b7280">4</text>
                <text x="5" y="63" font-size="12" fill="#6b7280">6</text>
                
                <!-- ÁÇπ1 (1,2) -->
                <circle cx="40" cy="140" r="4" fill="#ef4444"/>
                <text x="45" y="145" font-size="14" fill="#ef4444" data-i18n="point1_label">P1 (1,2)</text>
                
                <!-- ÁÇπ2 (4,6) -->
                <circle cx="100" cy="60" r="4" fill="#3b82f6"/>
                <text x="105" y="65" font-size="14" fill="#3b82f6" data-i18n="point2_label">P2 (4,6)</text>
                
                <!-- Ë∑ùÁ¶ªÁ∫ø -->
                <line x1="40" y1="140" x2="100" y2="60" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="4"/>
                
                <!-- Áõ¥ËßíËæπ -->
                <line x1="40" y1="140" x2="100" y2="140" stroke="#9ca3af" stroke-width="1"/>
                <line x1="100" y1="60" x2="100" y2="140" stroke="#9ca3af" stroke-width="1"/>
            </svg>
        </div>

        <div class="coord-diagram hidden" id="diagram-3d">
            <svg class="coord-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <!-- 3DÂùêÊ†áËΩ¥ -->
                <line x1="50" y1="150" x2="150" y2="150" stroke="#6b7280" stroke-width="1.5"/>
                <line x1="50" y1="150" x2="50" y2="50" stroke="#6b7280" stroke-width="1.5"/>
                <line x1="50" y1="150" x2="80" y2="120" stroke="#6b7280" stroke-width="1.5"/>
                
                <!-- ÁÇπ1 (1,2,3) -->
                <circle cx="70" cy="120" r="4" fill="#ef4444"/>
                <text x="75" y="125" font-size="14" fill="#ef4444" data-i18n="point1_label">P1 (1,2,3)</text>
                
                <!-- ÁÇπ2 (4,5,6) -->
                <circle cx="110" cy="80" r="4" fill="#3b82f6"/>
                <text x="115" y="85" font-size="14" fill="#3b82f6" data-i18n="point2_label">P2 (4,5,6)</text>
                
                <!-- 3DË∑ùÁ¶ªÁ∫ø -->
                <line x1="70" y1="120" x2="110" y2="80" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="4"/>
            </svg>
        </div>

        <!-- ËÆ°ÁÆóÊåâÈíÆ -->
        <button onclick="DistanceCalc.calc()" 
                class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" 
                data-i18n="btn_calc">Calculate</button>

        <!-- ÁªìÊûúÂ±ïÁ§∫Âå∫Âüü -->
        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-3" data-i18n="result_label">Results</div>
            
            <div id="distance-results" class="space-y-4">
                <div class="distance-result" id="distance-main-result">Distance = 5.00 units</div>
                
                <div class="formula-box" id="distance-formula">
                    <span data-i18n="formula_2d">d = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)</span>
                </div>
                
                <div id="distance-breakdown" class="text-gray-700">
                    <div data-i18n="calculation_breakdown">Calculation Breakdown:</div>
                    <div id="breakdown-text" class="mt-2">d = ‚àö((4-1)¬≤ + (6-2)¬≤) = ‚àö(9 + 16) = ‚àö25 = 5.00</div>
                </div>
            </div>
            
            <!-- ÈîôËØØÊèêÁ§∫ -->
            <div id="distance-error" class="mt-4 error-text"></div>
        </div>
    </div>

    <script>
        const DistanceCalc = {
            calcType: '2d',
            
            // Â§öËØ≠Ë®ÄÊñáÊú¨ÈÖçÁΩÆ
            i18n: {
                'en': {
                    title: 'üìç Distance Calculator',
                    calculate_what: 'Calculate:',
                    calc_2d: '2D Distance (x‚ÇÅ,y‚ÇÅ) to (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: '3D Distance (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) to (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: 'Point 1 (x‚ÇÅ)',
                    point1_y: 'Point 1 (y‚ÇÅ)',
                    point1_z: 'Point 1 (z‚ÇÅ)',
                    point2_x: 'Point 2 (x‚ÇÇ)',
                    point2_y: 'Point 2 (y‚ÇÇ)',
                    point2_z: 'Point 2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: 'Calculate',
                    result_label: 'Results',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: 'Calculation Breakdown:',
                    err_invalid_value: 'Please enter valid numeric values for all coordinates',
                    err_insufficient_data: 'Please fill in all coordinate fields',
                    result_2d: 'Distance = {distance} units',
                    result_3d: '3D Distance = {distance} units',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                },
                'zh-CN': {
                    title: 'üìç Ë∑ùÁ¶ªËÆ°ÁÆóÂô®',
                    calculate_what: 'ËÆ°ÁÆóÔºö',
                    calc_2d: '‰∫åÁª¥Ë∑ùÁ¶ª (x‚ÇÅ,y‚ÇÅ) Âà∞ (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: '‰∏âÁª¥Ë∑ùÁ¶ª (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) Âà∞ (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: 'ÁÇπ1 (x‚ÇÅ)',
                    point1_y: 'ÁÇπ1 (y‚ÇÅ)',
                    point1_z: 'ÁÇπ1 (z‚ÇÅ)',
                    point2_x: 'ÁÇπ2 (x‚ÇÇ)',
                    point2_y: 'ÁÇπ2 (y‚ÇÇ)',
                    point2_z: 'ÁÇπ2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: 'ËÆ°ÁÆó',
                    result_label: 'ÁªìÊûú',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: 'ËÆ°ÁÆóËøáÁ®ãÔºö',
                    err_invalid_value: 'ËØ∑‰∏∫ÊâÄÊúâÂùêÊ†áËæìÂÖ•ÊúâÊïàÁöÑÊï∞ÂÄº',
                    err_insufficient_data: 'ËØ∑Â°´ÂÜôÊâÄÊúâÂùêÊ†áÂ≠óÊÆµ',
                    result_2d: 'Ë∑ùÁ¶ª = {distance} Âçï‰Ωç',
                    result_3d: '‰∏âÁª¥Ë∑ùÁ¶ª = {distance} Âçï‰Ωç',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                },
                'zh-TW': {
                    title: 'üìç Ë∑ùÈõ¢Ë®àÁÆóÂô®',
                    calculate_what: 'Ë®àÁÆóÔºö',
                    calc_2d: '‰∫åÁ∂≠Ë∑ùÈõ¢ (x‚ÇÅ,y‚ÇÅ) Âà∞ (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: '‰∏âÁ∂≠Ë∑ùÈõ¢ (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) Âà∞ (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: 'Èªû1 (x‚ÇÅ)',
                    point1_y: 'Èªû1 (y‚ÇÅ)',
                    point1_z: 'Èªû1 (z‚ÇÅ)',
                    point2_x: 'Èªû2 (x‚ÇÇ)',
                    point2_y: 'Èªû2 (y‚ÇÇ)',
                    point2_z: 'Èªû2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: 'Ë®àÁÆó',
                    result_label: 'ÁµêÊûú',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: 'Ë®àÁÆóÈÅéÁ®ãÔºö',
                    err_invalid_value: 'Ë´ãÁÇ∫ÊâÄÊúâÂùêÊ®ôËº∏ÂÖ•ÊúâÊïàÁöÑÊï∏ÂÄº',
                    err_insufficient_data: 'Ë´ãÂ°´ÂØ´ÊâÄÊúâÂùêÊ®ôÊ¨Ñ‰Ωç',
                    result_2d: 'Ë∑ùÈõ¢ = {distance} ÂñÆ‰Ωç',
                    result_3d: '‰∏âÁ∂≠Ë∑ùÈõ¢ = {distance} ÂñÆ‰Ωç',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                },
                'ja': {
                    title: 'üìç Ë∑ùÈõ¢Ë®àÁÆó„ÉÑ„Éº„É´',
                    calculate_what: 'Ë®àÁÆóÂØæË±°Ôºö',
                    calc_2d: '2Ê¨°ÂÖÉË∑ùÈõ¢ (x‚ÇÅ,y‚ÇÅ) „Åã„Çâ (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: '3Ê¨°ÂÖÉË∑ùÈõ¢ (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) „Åã„Çâ (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: 'ÁÇπ1 (x‚ÇÅ)',
                    point1_y: 'ÁÇπ1 (y‚ÇÅ)',
                    point1_z: 'ÁÇπ1 (z‚ÇÅ)',
                    point2_x: 'ÁÇπ2 (x‚ÇÇ)',
                    point2_y: 'ÁÇπ2 (y‚ÇÇ)',
                    point2_z: 'ÁÇπ2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: 'Ë®àÁÆó',
                    result_label: 'ÁµêÊûú',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: 'Ë®àÁÆó„ÅÆË©≥Á¥∞Ôºö',
                    err_invalid_value: '„Åô„Åπ„Å¶„ÅÆÂ∫ßÊ®ô„Å´ÊúâÂäπ„Å™Êï∞ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    err_insufficient_data: '„Åô„Åπ„Å¶„ÅÆÂ∫ßÊ®ô„Éï„Ç£„Éº„É´„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    result_2d: 'Ë∑ùÈõ¢ = {distance} Âçò‰Ωç',
                    result_3d: '3Ê¨°ÂÖÉË∑ùÈõ¢ = {distance} Âçò‰Ωç',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                },
                'ru': {
                    title: 'üìç –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è',
                    calculate_what: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—åÔºö',
                    calc_2d: '2D —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (x‚ÇÅ,y‚ÇÅ) –¥–æ (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: '3D —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) –¥–æ (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: '–¢–æ—á–∫–∞ 1 (x‚ÇÅ)',
                    point1_y: '–¢–æ—á–∫–∞ 1 (y‚ÇÅ)',
                    point1_z: '–¢–æ—á–∫–∞ 1 (z‚ÇÅ)',
                    point2_x: '–¢–æ—á–∫–∞ 2 (x‚ÇÇ)',
                    point2_y: '–¢–æ—á–∫–∞ 2 (y‚ÇÇ)',
                    point2_z: '–¢–æ—á–∫–∞ 2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    result_label: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: '–î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞Ôºö',
                    err_invalid_value: '–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç',
                    err_insufficient_data: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç',
                    result_2d: '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ = {distance} –µ–¥–∏–Ω–∏—Ü—ã',
                    result_3d: '3D —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ = {distance} –µ–¥–∏–Ω–∏—Ü—ã',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                },
                'es': {
                    title: 'üìç Calculadora de Distancia',
                    calculate_what: 'CalcularÔºö',
                    calc_2d: 'Distancia 2D (x‚ÇÅ,y‚ÇÅ) a (x‚ÇÇ,y‚ÇÇ)',
                    calc_3d: 'Distancia 3D (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) a (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ)',
                    point1_x: 'Punto 1 (x‚ÇÅ)',
                    point1_y: 'Punto 1 (y‚ÇÅ)',
                    point1_z: 'Punto 1 (z‚ÇÅ)',
                    point2_x: 'Punto 2 (x‚ÇÇ)',
                    point2_y: 'Punto 2 (y‚ÇÇ)',
                    point2_z: 'Punto 2 (z‚ÇÇ)',
                    point1_label: 'P1 (1,2)',
                    point2_label: 'P2 (4,6)',
                    btn_calc: 'Calcular',
                    result_label: 'Resultados',
                    formula_2d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤)',
                    formula_3d: 'd = ‚àö((x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤)',
                    calculation_breakdown: 'Desglose del C√°lculoÔºö',
                    err_invalid_value: 'Ingrese valores num√©ricos v√°lidos para todas las coordenadas',
                    err_insufficient_data: 'Complete todos los campos de coordenadas',
                    result_2d: 'Distancia = {distance} unidades',
                    result_3d: 'Distancia 3D = {distance} unidades',
                    breakdown_2d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤) = ‚àö({dx2} + {dy2}) = ‚àö{sum} = {distance}',
                    breakdown_3d: 'd = ‚àö(({x2}-{x1})¬≤ + ({y2}-{y1})¬≤ + ({z2}-{z1})¬≤) = ‚àö({dx2} + {dy2} + {dz2}) = ‚àö{sum} = {distance}'
                }
            },

            // ÂàáÊç¢ËØ≠Ë®Ä
            changeLang: () => {
                const lang = document.getElementById('distance-lang').value;
                const texts = DistanceCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="distance_calc"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // Êõ¥Êñ∞ÂÖ¨ÂºèÊòæÁ§∫
                if (DistanceCalc.calcType === '2d') {
                    document.querySelector('#distance-formula span').setAttribute('data-i18n', 'formula_2d');
                } else {
                    document.querySelector('#distance-formula span').setAttribute('data-i18n', 'formula_3d');
                }
                
                // ÈáçÊñ∞Â∫îÁî®ÊñáÊú¨‰ª•Á°Æ‰øùÂÖ¨ÂºèÊ≠£Á°ÆÊõ¥Êñ∞
                document.querySelector('#distance-formula span').innerText = texts[`formula_${DistanceCalc.calcType}`];

                // Â¶ÇÊûúÂ∑≤ÊúâËÆ°ÁÆóÁªìÊûúÔºåÈáçÊñ∞ËÆ°ÁÆóÊõ¥Êñ∞Â§öËØ≠Ë®ÄÊñáÊú¨
                if (document.getElementById('distance-main-result').innerText) {
                    DistanceCalc.calc();
                }
            },

            // ËÆæÁΩÆËÆ°ÁÆóÁ±ªÂûã
            setCalcType: (type) => {
                DistanceCalc.calcType = type;
                
                // ÈöêËóèÊâÄÊúâËæìÂÖ•ÂíåÁ§∫ÊÑèÂõæÂå∫Âüü
                document.getElementById('input-2d').classList.add('hidden');
                document.getElementById('input-3d').classList.add('hidden');
                document.getElementById('diagram-2d').classList.add('hidden');
                document.getElementById('diagram-3d').classList.add('hidden');
                
                // ÊòæÁ§∫ÂΩìÂâçËÆ°ÁÆóÁ±ªÂûãÁöÑÂå∫Âüü
                document.getElementById(`input-${type}`).classList.remove('hidden');
                document.getElementById(`diagram-${type}`).classList.remove('hidden');
                
                // Êõ¥Êñ∞ÈÄâ‰∏≠Áä∂ÊÄÅ
                document.querySelectorAll('.calc-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                document.getElementById(`opt-${type}`).classList.add('active');
                
                // Êõ¥Êñ∞ÂÖ¨ÂºèÂíåËØ≠Ë®ÄÊñáÊú¨
                const lang = document.getElementById('distance-lang').value;
                const texts = DistanceCalc.i18n[lang];
                document.querySelector('#distance-formula span').setAttribute('data-i18n', `formula_${type}`);
                document.querySelector('#distance-formula span').innerText = texts[`formula_${type}`];
                DistanceCalc.changeLang();
            },

            // Ê†∏ÂøÉËÆ°ÁÆóÈÄªËæë
            calc: () => {
                const lang = document.getElementById('distance-lang').value;
                const texts = DistanceCalc.i18n[lang];
                const errorEl = document.getElementById('distance-error');
                
                // ÈáçÁΩÆÈîôËØØÁä∂ÊÄÅ
                errorEl.classList.remove('show');
                errorEl.innerText = '';
                
                let distance = 0;
                let resultText = '';
                let breakdownText = '';
                
                try {
                    if (DistanceCalc.calcType === '2d') {
                        // 2DË∑ùÁ¶ªËÆ°ÁÆó
                        const x1 = parseFloat(document.getElementById('point1-x').value);
                        const y1 = parseFloat(document.getElementById('point1-y').value);
                        const x2 = parseFloat(document.getElementById('point2-x').value);
                        const y2 = parseFloat(document.getElementById('point2-y').value);
                        
                        if (isNaN(x1) || isNaN(y1) || isNaN(x2) || isNaN(y2)) throw new Error('invalid');
                        
                        const dx = x2 - x1;
                        const dy = y2 - y1;
                        const dx2 = Math.pow(dx, 2);
                        const dy2 = Math.pow(dy, 2);
                        const sum = dx2 + dy2;
                        distance = Math.sqrt(sum);
                        
                        // ÁîüÊàêÁªìÊûúÊñáÊú¨
                        resultText = texts.result_2d.replace('{distance}', distance.toFixed(2));
                        breakdownText = texts.breakdown_2d
                            .replace('{x1}', x1)
                            .replace('{y1}', y1)
                            .replace('{x2}', x2)
                            .replace('{y2}', y2)
                            .replace('{dx2}', dx2.toFixed(2))
                            .replace('{dy2}', dy2.toFixed(2))
                            .replace('{sum}', sum.toFixed(2))
                            .replace('{distance}', distance.toFixed(2));
                    } else {
                        // 3DË∑ùÁ¶ªËÆ°ÁÆó
                        const x1 = parseFloat(document.getElementById('point1-x-3d').value);
                        const y1 = parseFloat(document.getElementById('point1-y-3d').value);
                        const z1 = parseFloat(document.getElementById('point1-z-3d').value);
                        const x2 = parseFloat(document.getElementById('point2-x-3d').value);
                        const y2 = parseFloat(document.getElementById('point2-y-3d').value);
                        const z2 = parseFloat(document.getElementById('point2-z-3d').value);
                        
                        if (isNaN(x1) || isNaN(y1) || isNaN(z1) || isNaN(x2) || isNaN(y2) || isNaN(z2)) throw new Error('invalid');
                        
                        const dx = x2 - x1;
                        const dy = y2 - y1;
                        const dz = z2 - z1;
                        const dx2 = Math.pow(dx, 2);
                        const dy2 = Math.pow(dy, 2);
                        const dz2 = Math.pow(dz, 2);
                        const sum = dx2 + dy2 + dz2;
                        distance = Math.sqrt(sum);
                        
                        // ÁîüÊàêÁªìÊûúÊñáÊú¨
                        resultText = texts.result_3d.replace('{distance}', distance.toFixed(2));
                        breakdownText = texts.breakdown_3d
                            .replace('{x1}', x1)
                            .replace('{y1}', y1)
                            .replace('{z1}', z1)
                            .replace('{x2}', x2)
                            .replace('{y2}', y2)
                            .replace('{z2}', z2)
                            .replace('{dx2}', dx2.toFixed(2))
                            .replace('{dy2}', dy2.toFixed(2))
                            .replace('{dz2}', dz2.toFixed(2))
                            .replace('{sum}', sum.toFixed(2))
                            .replace('{distance}', distance.toFixed(2));
                    }
                    
                    // Êõ¥Êñ∞UIÊòæÁ§∫ÁªìÊûú
                    document.getElementById('distance-main-result').innerText = resultText;
                    document.getElementById('breakdown-text').innerText = breakdownText;
                    
                } catch (e) {
                    // ÈîôËØØÂ§ÑÁêÜ
                    if (e.message === 'invalid') {
                        errorEl.innerText = texts.err_invalid_value;
                    } else {
                        errorEl.innerText = texts.err_insufficient_data;
                    }
                    errorEl.classList.add('show');
                }
            }
        };

        // ÂàùÂßãÂåñÈ°µÈù¢
        document.addEventListener('DOMContentLoaded', () => {
            DistanceCalc.changeLang();
        });
    </script>
</body>

</html>
