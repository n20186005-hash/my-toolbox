<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CD Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #fffbe6; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="cd_calc" 
         data-category="finance" 
         data-title="CD Calculator" 
         data-icon="üè¶">
        
        <div class="absolute top-4 right-4">
            <select id="cd-lang" onchange="CDCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üè¶ CD Calculator</h2>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_deposit">Deposit Amount</label>
                <div class="relative">
                    <span class="absolute left-2 top-2 text-gray-400">$</span>
                    <input type="number" id="cd-deposit" class="w-full pl-5 p-2 border rounded focus:ring-1 focus:ring-yellow-500 outline-none" placeholder="10000">
                </div>
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_rate">APY Rate (%)</label>
                <input type="number" id="cd-rate" class="w-full p-2 border rounded focus:ring-1 focus:ring-yellow-500 outline-none" placeholder="4.5">
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_term">Term (Months)</label>
                <input type="number" id="cd-term" class="w-full p-2 border rounded focus:ring-1 focus:ring-yellow-500 outline-none" placeholder="12" value="12">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_comp">Compounding</label>
                <select id="cd-comp" class="w-full p-2 border rounded bg-white text-sm focus:ring-1 focus:ring-yellow-500">
                    <option value="12" data-i18n="c_month" selected>Monthly</option>
                    <option value="365" data-i18n="c_day">Daily</option>
                    <option value="4" data-i18n="c_quarter">Quarterly</option>
                    <option value="1" data-i18n="c_year">Annually</option>
                </select>
            </div>
        </div>

        <button onclick="CDCalc.calc()" class="w-full bg-yellow-600 text-white py-2 rounded font-bold hover:bg-yellow-700 transition mb-6" data-i18n="btn_calc">Calculate Return</button>

        <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-100">
            <div class="flex justify-between items-center mb-2 border-b border-yellow-200 pb-2">
                <span class="text-gray-600 text-sm" data-i18n="res_balance">Total Balance</span>
                <div id="cd-res-total" class="text-2xl font-bold text-yellow-800">$ --</div>
            </div>
            <div class="flex justify-between items-center text-xs text-gray-500">
                <span data-i18n="res_interest">Total Interest Earned</span>
                <span id="cd-res-int" class="font-bold text-green-600">--</span>
            </div>
        </div>
    </div>

    <script>
        const CDCalc = {
            i18n: {
                'en': {
                    title: 'üè¶ CD Calculator',
                    lbl_deposit: 'Deposit Amount',
                    lbl_rate: 'APY / Interest Rate (%)',
                    lbl_term: 'Term (Months)',
                    lbl_comp: 'Compounding Frequency',
                    c_month: 'Monthly', c_day: 'Daily', c_quarter: 'Quarterly', c_year: 'Annually',
                    btn_calc: 'Calculate Return',
                    res_balance: 'Total Balance',
                    res_interest: 'Total Interest Earned'
                },
                'zh-CN': {
                    title: 'üè¶ CD ÂÆöÂ≠òËÆ°ÁÆóÂô®',
                    lbl_deposit: 'Â≠òÊ¨æÈáëÈ¢ù',
                    lbl_rate: 'Âπ¥ÂåñÂà©Áéá (APY %)',
                    lbl_term: 'Â≠òÊúü (Êúà)',
                    lbl_comp: 'Â§çÂà©È¢ëÁéá',
                    c_month: 'ÊåâÊúà', c_day: 'ÊåâÊó•', c_quarter: 'ÊåâÂ≠£', c_year: 'ÊåâÂπ¥',
                    btn_calc: 'ËÆ°ÁÆóÊî∂Áõä',
                    res_balance: 'Âà∞ÊúüÊÄªÈ¢ù',
                    res_interest: 'Âà©ÊÅØÊî∂Áõä'
                },
                'zh-TW': {
                    title: 'üè¶ CD ÂÆöÂ≠òË®àÁÆóÂô®',
                    lbl_deposit: 'Â≠òÊ¨æÈáëÈ°ç',
                    lbl_rate: 'Âπ¥ÂåñÂà©Áéá (APY %)',
                    lbl_term: 'Â≠òÊúü (Êúà)',
                    lbl_comp: 'Ë§áÂà©È†ªÁéá',
                    c_month: 'ÊåâÊúà', c_day: 'ÊåâÊó•', c_quarter: 'ÊåâÂ≠£', c_year: 'ÊåâÂπ¥',
                    btn_calc: 'Ë®àÁÆóÊî∂Áõä',
                    res_balance: 'Âà∞ÊúüÁ∏ΩÈ°ç',
                    res_interest: 'Âà©ÊÅØÊî∂Áõä'
                },
                'ja': {
                    title: 'üè¶ ÂÆöÊúüÈ†êÈáëË®àÁÆó (CD)',
                    lbl_deposit: 'È†êÂÖ•ÈáëÈ°ç',
                    lbl_rate: 'Âπ¥Âà©Áéá (%)',
                    lbl_term: 'ÊúüÈñì („É∂Êúà)',
                    lbl_comp: 'Ë§áÂà©Ë®àÁÆó',
                    c_month: 'ÊØéÊúà', c_day: 'ÊØéÊó•', c_quarter: 'ÂõõÂçäÊúü„Åî„Å®', c_year: 'ÊØéÂπ¥',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_balance: 'Ê∫ÄÊúüÂèóÂèñÈ°ç',
                    res_interest: 'ÂèóÂèñÂà©ÊÅØ'
                },
                'ru': {
                    title: 'üè¶ –î–µ–ø–æ–∑–∏—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç',
                    lbl_deposit: '–°—É–º–º–∞ –≤–∫–ª–∞–¥–∞',
                    lbl_rate: '–°—Ç–∞–≤–∫–∞ (%)',
                    lbl_term: '–°—Ä–æ–∫ (–º–µ—Å)',
                    lbl_comp: '–ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è',
                    c_month: '–ï–∂–µ–º–µ—Å—è—á–Ω–æ', c_day: '–ï–∂–µ–¥–Ω–µ–≤–Ω–æ', c_quarter: '–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ', c_year: '–ï–∂–µ–≥–æ–¥–Ω–æ',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_balance: '–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞',
                    res_interest: '–ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã'
                },
                'es': {
                    title: 'üè¶ Calculadora CD',
                    lbl_deposit: 'Dep√≥sito Inicial',
                    lbl_rate: 'Tasa de Inter√©s (%)',
                    lbl_term: 'Plazo (Meses)',
                    lbl_comp: 'Capitalizaci√≥n',
                    c_month: 'Mensual', c_day: 'Diaria', c_quarter: 'Trimestral', c_year: 'Anual',
                    btn_calc: 'Calcular',
                    res_balance: 'Saldo Total',
                    res_interest: 'Inter√©s Ganado'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('cd-lang').value;
                const texts = CDCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="cd_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(texts[key]) {
                        if(el.tagName === 'OPTION') el.text = texts[key];
                        else el.innerText = texts[key];
                    }
                });
            },

            calc: () => {
                const P = parseFloat(document.getElementById('cd-deposit').value);
                const r_annual = parseFloat(document.getElementById('cd-rate').value);
                const months = parseFloat(document.getElementById('cd-term').value);
                const n = parseFloat(document.getElementById('cd-comp').value);

                if (isNaN(P) || isNaN(r_annual) || isNaN(months)) return;

                const t = months / 12; // Time in years
                const r = r_annual / 100;

                // Formula: A = P(1 + r/n)^(nt)
                const A = P * Math.pow(1 + (r / n), n * t);
                const Interest = A - P;

                const fmt = (num) => num.toLocaleString('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 });

                document.getElementById('cd-res-total').innerText = fmt(A);
                document.getElementById('cd-res-int').innerText = fmt(Interest);
            }
        };
    </script>
</body>
</html>