<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="category" content="development-tools">
    <meta charset="UTF-8">
    <title>BAC Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #eff6ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/development-tools/bac-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="bac_calc" 
         data-category="health" 
         data-title="BAC Calculator" 
         data-icon="üç∫">
        
        <div class="absolute top-4 right-4">
            <select id="bc-lang" onchange="BACCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üç∫ BAC Calculator</h2>
        
        <p class="text-xs text-gray-400 mb-4" data-i18n="desc">Estimate Blood Alcohol Content (Widmark Formula).</p>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_gender">Gender</label>
                <select id="bc-gender" class="w-full p-2 border rounded bg-white text-sm">
                    <option value="m" data-i18n="g_male">Male</option>
                    <option value="f" data-i18n="g_female">Female</option>
                </select>
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" id="lbl-weight">Weight (kg)</label>
                <div class="flex gap-2">
                    <input type="number" id="bc-weight" class="flex-1 p-2 border rounded focus:ring-1 focus:ring-blue-500 outline-none" placeholder="70" value="70">
                    <button onclick="BACCalc.toggleUnit()" id="bc-unit-btn" class="px-2 bg-gray-100 rounded text-xs font-bold text-gray-600 border">KG</button>
                </div>
            </div>
        </div>

        <div class="bg-gray-50 p-3 rounded mb-4">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-bold text-gray-700" data-i18n="lbl_drinks">Drinks Consumed</span>
            </div>
            
            <div class="grid grid-cols-3 gap-2 text-center text-xs text-gray-600">
                <div>
                    <div class="font-bold">Beer (5%)</div>
                    <div>350ml / 12oz</div>
                    <input type="number" id="bc-beer" class="w-full mt-1 p-1 border rounded text-center" placeholder="0">
                </div>
                <div>
                    <div class="font-bold">Wine (12%)</div>
                    <div>150ml / 5oz</div>
                    <input type="number" id="bc-wine" class="w-full mt-1 p-1 border rounded text-center" placeholder="0">
                </div>
                <div>
                    <div class="font-bold">Shot (40%)</div>
                    <div>45ml / 1.5oz</div>
                    <input type="number" id="bc-shot" class="w-full mt-1 p-1 border rounded text-center" placeholder="0">
                </div>
            </div>
        </div>

        <div class="mb-6">
            <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_time">Time Since First Drink</label>
            <div class="flex items-center">
                <input type="range" id="bc-time" min="0" max="12" step="0.5" value="1" class="flex-1 mr-3 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600" oninput="BACCalc.updateTime(this.value)">
                <span id="bc-time-val" class="text-blue-700 font-bold w-16 text-right">1 hr</span>
            </div>
        </div>

        <button onclick="BACCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate BAC</button>

        <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 text-center">
            <span class="text-gray-500 text-xs block mb-1" data-i18n="res_bac">Estimated BAC %</span>
            <div id="bc-result" class="text-3xl font-bold text-gray-800">-- %</div>
            <div id="bc-status" class="text-sm font-bold mt-2"></div>
        </div>
    </div>

    <script>
        const BACCalc = {
            unit: 'kg',
            i18n: {
                'en': {
                    title: 'üç∫ BAC Calculator',
                    desc: 'Estimate Blood Alcohol Content (Widmark Formula).',
                    lbl_gender: 'Gender', g_male: 'Male', g_female: 'Female',
                    lbl_weight: 'Weight', lbl_drinks: 'Drinks Consumed',
                    lbl_time: 'Time Since First Drink',
                    btn_calc: 'Calculate BAC',
                    res_bac: 'Estimated BAC %',
                    st_safe: 'Likely Safe (Low)', st_warn: 'Impairment Possible', st_danger: 'Legally Intoxicated (Danger)',
                    txt_hr: 'hr'
                },
                'zh-CN': {
                    title: 'üç∫ Ë°ÄÊ∂≤ÈÖíÁ≤æÊµìÂ∫¶ËÆ°ÁÆó',
                    desc: 'Âü∫‰∫é Widmark ÂÖ¨Âºè‰º∞ÁÆó BAC„ÄÇ',
                    lbl_gender: 'ÊÄßÂà´', g_male: 'Áî∑ÊÄß', g_female: 'Â•≥ÊÄß',
                    lbl_weight: '‰ΩìÈáç', lbl_drinks: 'È•ÆÈÖíÈáè',
                    lbl_time: 'Ë∑ùÁ¨¨‰∏ÄÊùØÈÖíÁöÑÊó∂Èó¥',
                    btn_calc: 'ËÆ°ÁÆó BAC',
                    res_bac: '‰º∞ÁÆóÈÖíÁ≤æÊµìÂ∫¶ %',
                    st_safe: 'ÂÆâÂÖ®ËåÉÂõ¥ (‰Ωé)', st_warn: 'ÂèØËÉΩÂèóÂΩ±Âìç', st_danger: 'ÈÜâÈÖí/Á¶ÅÊ≠¢È©æÈ©∂ (Âç±Èô©)',
                    txt_hr: 'Â∞èÊó∂'
                },
                'zh-TW': {
                    title: 'üç∫ Ë°ÄÊ∂≤ÈÖíÁ≤æÊøÉÂ∫¶Ë®àÁÆó',
                    desc: 'Âü∫Êñº Widmark ÂÖ¨Âºè‰º∞ÁÆó BAC„ÄÇ',
                    lbl_gender: 'ÊÄßÂà•', g_male: 'Áî∑ÊÄß', g_female: 'Â•≥ÊÄß',
                    lbl_weight: 'È´îÈáç', lbl_drinks: 'È£≤ÈÖíÈáè',
                    lbl_time: 'Ë∑ùÁ¨¨‰∏ÄÊùØÈÖíÁöÑÊôÇÈñì',
                    btn_calc: 'Ë®àÁÆó BAC',
                    res_bac: '‰º∞ÁÆóÈÖíÁ≤æÊøÉÂ∫¶ %',
                    st_safe: 'ÂÆâÂÖ®ÁØÑÂúç (‰Ωé)', st_warn: 'ÂèØËÉΩÂèóÂΩ±Èüø', st_danger: 'ÈÜâÈÖí/Á¶ÅÊ≠¢ÈßïÈßõ (Âç±Èö™)',
                    txt_hr: 'Â∞èÊôÇ'
                },
                'ja': {
                    title: 'üç∫ „Ç¢„É´„Ç≥„Éº„É´ÊøÉÂ∫¶Ë®àÁÆó',
                    desc: 'WidmarkÂºè„Å´„Çà„ÇãË°Ä‰∏≠„Ç¢„É´„Ç≥„Éº„É´ÊøÉÂ∫¶„ÅÆÊé®ÂÆö„ÄÇ',
                    lbl_gender: 'ÊÄßÂà•', g_male: 'Áî∑ÊÄß', g_female: 'Â•≥ÊÄß',
                    lbl_weight: '‰ΩìÈáç', lbl_drinks: 'È£≤ÈÖíÈáè',
                    lbl_time: 'È£≤„ÅøÂßã„ÇÅ„Åã„Çâ„ÅÆÁµåÈÅéÊôÇÈñì',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_bac: 'Êé®ÂÆöÊøÉÂ∫¶ %',
                    st_safe: 'ÂÆâÂÖ®Âúè (‰Ωé)', st_warn: 'Ê≥®ÊÑè (ÂΩ±Èüø„ÅÇ„Çä)', st_danger: 'ÈÖíÊ∞óÂ∏Ø„Å≥/Âç±Èô∫',
                    txt_hr: 'ÊôÇÈñì'
                },
                'ru': {
                    title: 'üç∫ –ê–ª–∫–æ–≥–æ–ª—å –≤ –∫—Ä–æ–≤–∏ (BAC)',
                    desc: '–†–∞—Å—á–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ –í–∏–¥–º–∞—Ä–∫–∞.',
                    lbl_gender: '–ü–æ–ª', g_male: '–ú—É–∂—Å–∫–æ–π', g_female: '–ñ–µ–Ω—Å–∫–∏–π',
                    lbl_weight: '–í–µ—Å', lbl_drinks: '–í—ã–ø–∏—Ç–æ',
                    lbl_time: '–í—Ä–µ–º—è —Å –ø–µ—Ä–≤–æ–≥–æ –≥–ª–æ—Ç–∫–∞',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_bac: '–£—Ä–æ–≤–µ–Ω—å BAC %',
                    st_safe: '–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å', st_warn: '–í–æ–∑–º–æ–∂–Ω–æ –æ–ø—å—è–Ω–µ–Ω–∏–µ', st_danger: '–û–ø—å—è–Ω–µ–Ω–∏–µ (–û–ø–∞—Å–Ω–æ)',
                    txt_hr: '—á'
                },
                'es': {
                    title: 'üç∫ Calculadora de Alcohol',
                    desc: 'Estimaci√≥n BAC (F√≥rmula Widmark).',
                    lbl_gender: 'G√©nero', g_male: 'Hombre', g_female: 'Mujer',
                    lbl_weight: 'Peso', lbl_drinks: 'Bebidas',
                    lbl_time: 'Tiempo transcurrido',
                    btn_calc: 'Calcular',
                    res_bac: 'BAC Estimado %',
                    st_safe: 'Bajo Riesgo', st_warn: 'Posible Deterioro', st_danger: 'Intoxicado (Peligro)',
                    txt_hr: 'h'
                }
            },

            toggleUnit: () => {
                const btn = document.getElementById('bc-unit-btn');
                const inp = document.getElementById('bc-weight');
                if (BACCalc.unit === 'kg') {
                    BACCalc.unit = 'lb';
                    btn.innerText = 'LBS';
                    inp.value = Math.round(inp.value * 2.20462);
                } else {
                    BACCalc.unit = 'kg';
                    btn.innerText = 'KG';
                    inp.value = Math.round(inp.value / 2.20462);
                }
            },

            changeLang: () => {
                const lang = document.getElementById('bc-lang').value;
                const texts = BACCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="bac_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
                
                const timeVal = document.getElementById('bc-time').value;
                BACCalc.updateTime(timeVal);
                
                if(document.getElementById('bc-result').innerText !== '-- %') BACCalc.calc();
            },

            updateTime: (val) => {
                const lang = document.getElementById('bc-lang').value;
                document.getElementById('bc-time-val').innerText = `${val} ${BACCalc.i18n[lang].txt_hr}`;
            },

            calc: () => {
                const gender = document.getElementById('bc-gender').value;
                let weight = parseFloat(document.getElementById('bc-weight').value);
                const time = parseFloat(document.getElementById('bc-time').value);
                
                // Drinks
                const nBeer = parseFloat(document.getElementById('bc-beer').value) || 0;
                const nWine = parseFloat(document.getElementById('bc-wine').value) || 0;
                const nShot = parseFloat(document.getElementById('bc-shot').value) || 0;

                if (!weight || weight <= 0) return;

                // Alcohol in grams
                // Beer: 350ml * 0.05 * 0.789 = 13.8g
                // Wine: 150ml * 0.12 * 0.789 = 14.2g
                // Shot: 45ml * 0.40 * 0.789 = 14.2g
                // Let's avg standard drink to ~14g alcohol
                const alcoholGrams = (nBeer * 14) + (nWine * 14) + (nShot * 14);

                if (alcoholGrams === 0) {
                    document.getElementById('bc-result').innerText = "0.00 %";
                    document.getElementById('bc-status').innerText = "";
                    return;
                }

                // Widmark Formula
                // BAC = [Alcohol(g) / (Body Weight(g) * r)] * 100 - (Time * 0.015)
                // r: 0.68 men, 0.55 women
                
                const r = gender === 'm' ? 0.68 : 0.55;
                let weightGrams = weight * 1000;
                if (BACCalc.unit === 'lb') weightGrams = (weight * 0.453592) * 1000;

                let bac = (alcoholGrams / (weightGrams * r)) * 100;
                
                // Metabolism
                bac = bac - (time * 0.015);

                if (bac < 0) bac = 0;

                const resEl = document.getElementById('bc-result');
                const stEl = document.getElementById('bc-status');
                const lang = document.getElementById('bc-lang').value;
                const txt = BACCalc.i18n[lang];

                resEl.innerText = bac.toFixed(3) + " %";

                if (bac < 0.03) {
                    stEl.innerText = txt.st_safe;
                    stEl.className = "text-sm font-bold mt-2 text-green-600";
                } else if (bac < 0.08) {
                    stEl.innerText = txt.st_warn;
                    stEl.className = "text-sm font-bold mt-2 text-yellow-600";
                } else {
                    stEl.innerText = txt.st_danger;
                    stEl.className = "text-sm font-bold mt-2 text-red-600";
                }
            }
        };
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>