<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="tool-id" content="xml2json">
    <meta name="category" content="Development Tools">
    <meta name="icon" content="ğŸ”„">
    <title>XMLä¸JSONäº’è½¬å·¥å…·</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; position: relative; }
        .section { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.9rem; color: #4b5563; margin-bottom: 4px; }
        textarea, select { width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; }
        textarea { min-height: 150px; resize: vertical; }
        .result-card { background: #ecfdf5; border: 1px solid #d1fae5; border-radius: 8px; padding: 15px; margin-top: 15px; }
        .result-stats { display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed #a7f3d0; flex-wrap: wrap; gap: 10px;}
        .stat-label { color: #1e3a8a; font-size: 0.9rem;}
        .stat-value { font-weight: 600; color: #065f46; margin-left: 5px;}
        .intro-section { margin-top: 30px; padding: 20px; background-color: #f8fafc; border-radius: 8px; font-size: 0.95rem; color: #475569; }
        .options-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px; }
        button { background: #22c55e; color: white; border: none; padding: 10px 15px; border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.3s; }
        button:hover { background: #16a34a; }
        .conversion-tag { display: inline-block; background-color: #dbeafe; padding: 4px 8px; border-radius: 4px; color: #1e40af; font-weight: bold; font-size: 0.85rem; margin: 2px; border: 1px solid #bfdbfe; }
        .language-note { font-size: 0.85rem; color: #64748b; margin-top: 4px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/development-tools/xml2json.html" />
</head>
<body>

    <div class="tool-module" id="xml-json-converter">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <select id="lang-selector" onchange="ConverterTool.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN" selected>ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-6 text-gray-800 border-b pb-2" data-i18n="title">ğŸ”„ XMLä¸JSONäº’è½¬å·¥å…·</h2>

        <div class="space-y-6">
            <!-- Input Section -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="input_text">è¾“å…¥å†…å®¹</h3>
                <div class="form-group">
                    <textarea id="input_content" placeholder="è¯·åœ¨æ­¤ç²˜è´´XMLæˆ–JSONå†…å®¹..." class="focus:ring-2 focus:ring-green-500 outline-none"></textarea>
                </div>
            </div>

            <!-- Options Section -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="options">è½¬æ¢é€‰é¡¹</h3>
                
                <div class="options-grid">
                    <div class="form-group">
                        <label data-i18n="conversion_direction">è½¬æ¢æ–¹å‘</label>
                        <select id="conversion_direction" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="xml2json" data-i18n="xml_to_json">XMLåˆ°JSON</option>
                            <option value="json2xml" data-i18n="json_to_xml">JSONåˆ°XML</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="indentation">ç¼©è¿›ç©ºæ ¼æ•°</label>
                        <select id="indentation" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="2">2</option>
                            <option value="4" selected>4</option>
                            <option value="8">8</option>
                        </select>
                        <p class="language-note" data-i18n="indentation_note">æ ¼å¼åŒ–è¾“å‡ºæ—¶ä½¿ç”¨çš„ç¼©è¿›ç©ºæ ¼æ•°</p>
                    </div>
                </div>
            </div>

            <div class="flex gap-4">
                <button onclick="ConverterTool.convert()" class="flex-1 bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition shadow-md" data-i18n="btn_convert">è½¬æ¢</button>
                <button onclick="ConverterTool.clearAll()" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded font-bold hover:bg-gray-300 transition shadow-sm" data-i18n="btn_clear">æ¸…ç©ºæ‰€æœ‰</button>
            </div>

            <!-- Results -->
            <div class="summary-section mt-8">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="results">è½¬æ¢ç»“æœ</h3>
                
                <div class="result-stats">
                    <div>
                        <span class="stat-label" data-i18n="char_count">å­—ç¬¦æ•°ï¼š</span>
                        <span class="stat-value" id="char_count">0</span>
                    </div>
                    <div>
                        <span class="stat-label" data-i18n="conversion_time">è½¬æ¢è€—æ—¶ï¼š</span>
                        <span class="stat-value" id="conversion_time">0ms</span>
                    </div>
                </div>
                <div class="form-group">
                    <label data-i18n="result_text">ç»“æœå†…å®¹</label>
                    <textarea id="result_text" readonly class="focus:ring-2 focus:ring-green-500 outline-none bg-gray-50 text-gray-700" placeholder="è½¬æ¢åçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
                </div>
                <button onclick="ConverterTool.copyResult()" class="w-full mt-2 bg-blue-600 text-white py-3 rounded font-medium hover:bg-blue-700 transition shadow-md" data-i18n="btn_copy">å¤åˆ¶ç»“æœ</button>
            </div>

            <!-- Conversion History -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="recent_conversions">æœ€è¿‘è½¬æ¢</h3>
                <div id="conversion_history" class="p-4 bg-gray-50 rounded border border-gray-100 min-h-[60px]">
                    <p data-i18n="no_history" class="text-gray-400 italic text-sm">æš‚æ— è½¬æ¢è®°å½•</p>
                </div>
            </div>

            <!-- Intro -->
            <div class="intro-section">
                <h3 class="text-lg font-semibold mb-2 text-gray-800" data-i18n="intro_title">å…³äºæœ¬å·¥å…·</h3>
                <p data-i18n="intro_text">æœ¬å·¥å…·æä¾›XMLä¸JSONæ ¼å¼ä¹‹é—´çš„ç›¸äº’è½¬æ¢åŠŸèƒ½ï¼Œæ”¯æŒè‡ªå®šä¹‰ç¼©è¿›æ ¼å¼ã€‚å¯å°†XMLæ ‡è®°è¯­è¨€è½¬æ¢ä¸ºJSONæ•°æ®æ ¼å¼ï¼Œä¹Ÿèƒ½å°†JSONæ•°æ®è½¬æ¢ä¸ºç»“æ„åŒ–çš„XMLæ ¼å¼ï¼Œä¿ç•™åŸå§‹æ•°æ®çš„å±‚çº§ç»“æ„å’Œå†…å®¹ã€‚é€‚ç”¨äºå¼€å‘è€…ã€æ•°æ®åˆ†æå¸ˆå’Œéœ€è¦å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ç”¨æˆ·ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        const ConverterTool = {
            i18n: {
                'en': {
                    title: 'ğŸ”„ XML-JSON Converter',
                    input_text: 'Input Content',
                    options: 'Conversion Options',
                    conversion_direction: 'Conversion Direction',
                    xml_to_json: 'XML to JSON',
                    json_to_xml: 'JSON to XML',
                    indentation: 'Indentation Spaces',
                    indentation_note: 'Number of spaces for formatted output',
                    btn_convert: 'Convert',
                    btn_clear: 'Clear All',
                    results: 'Conversion Results',
                    char_count: 'Character Count:',
                    conversion_time: 'Conversion Time:',
                    result_text: 'Result Content',
                    btn_copy: 'Copy Result',
                    intro_title: 'About This Tool',
                    intro_text: 'This tool converts between XML and JSON formats with customizable indentation. It can convert XML markup language to JSON data format and vice versa, preserving the original data structure and content. Suitable for developers, data analysts, and users needing to handle different data formats.',
                    recent_conversions: 'Recent Conversions',
                    no_history: 'No conversion history yet',
                    please_enter_text: 'Please enter some content first',
                    invalid_format: 'Invalid format, please check your input',
                    copied: 'Copied!'
                },
                'zh-CN': {
                    title: 'ğŸ”„ XMLä¸JSONäº’è½¬å·¥å…·',
                    input_text: 'è¾“å…¥å†…å®¹',
                    options: 'è½¬æ¢é€‰é¡¹',
                    conversion_direction: 'è½¬æ¢æ–¹å‘',
                    xml_to_json: 'XMLåˆ°JSON',
                    json_to_xml: 'JSONåˆ°XML',
                    indentation: 'ç¼©è¿›ç©ºæ ¼æ•°',
                    indentation_note: 'æ ¼å¼åŒ–è¾“å‡ºæ—¶ä½¿ç”¨çš„ç¼©è¿›ç©ºæ ¼æ•°',
                    btn_convert: 'è½¬æ¢',
                    btn_clear: 'æ¸…ç©ºæ‰€æœ‰',
                    results: 'è½¬æ¢ç»“æœ',
                    char_count: 'å­—ç¬¦æ•°ï¼š',
                    conversion_time: 'è½¬æ¢è€—æ—¶ï¼š',
                    result_text: 'ç»“æœå†…å®¹',
                    btn_copy: 'å¤åˆ¶ç»“æœ',
                    intro_title: 'å…³äºæœ¬å·¥å…·',
                    intro_text: 'æœ¬å·¥å…·æä¾›XMLä¸JSONæ ¼å¼ä¹‹é—´çš„ç›¸äº’è½¬æ¢åŠŸèƒ½ï¼Œæ”¯æŒè‡ªå®šä¹‰ç¼©è¿›æ ¼å¼ã€‚å¯å°†XMLæ ‡è®°è¯­è¨€è½¬æ¢ä¸ºJSONæ•°æ®æ ¼å¼ï¼Œä¹Ÿèƒ½å°†JSONæ•°æ®è½¬æ¢ä¸ºç»“æ„åŒ–çš„XMLæ ¼å¼ï¼Œä¿ç•™åŸå§‹æ•°æ®çš„å±‚çº§ç»“æ„å’Œå†…å®¹ã€‚é€‚ç”¨äºå¼€å‘è€…ã€æ•°æ®åˆ†æå¸ˆå’Œéœ€è¦å¤„ç†ä¸åŒæ•°æ®æ ¼å¼çš„ç”¨æˆ·ã€‚',
                    recent_conversions: 'æœ€è¿‘è½¬æ¢',
                    no_history: 'æš‚æ— è½¬æ¢è®°å½•',
                    please_enter_text: 'è¯·å…ˆè¾“å…¥ä¸€äº›å†…å®¹',
                    invalid_format: 'æ ¼å¼æ— æ•ˆï¼Œè¯·æ£€æŸ¥è¾“å…¥å†…å®¹',
                    copied: 'å·²å¤åˆ¶ï¼'
                },
                'zh-TW': {
                    title: 'ğŸ”„ XMLèˆ‡JSONäº’è½‰å·¥å…·',
                    input_text: 'è¼¸å…¥å…§å®¹',
                    options: 'è½‰æ›é¸é …',
                    conversion_direction: 'è½‰æ›æ–¹å‘',
                    xml_to_json: 'XMLåˆ°JSON',
                    json_to_xml: 'JSONåˆ°XML',
                    indentation: 'ç¸®é€²ç©ºæ ¼æ•¸',
                    indentation_note: 'æ ¼å¼åŒ–è¼¸å‡ºæ™‚ä½¿ç”¨çš„ç¸®é€²ç©ºæ ¼æ•¸',
                    btn_convert: 'è½‰æ›',
                    btn_clear: 'æ¸…ç©ºæ‰€æœ‰',
                    results: 'è½‰æ›çµæœ',
                    char_count: 'å­—ç¬¦æ•¸ï¼š',
                    conversion_time: 'è½‰æ›è€—æ™‚ï¼š',
                    result_text: 'çµæœå…§å®¹',
                    btn_copy: 'è¤‡è£½çµæœ',
                    intro_title: 'é—œæ–¼æœ¬å·¥å…·',
                    intro_text: 'æœ¬å·¥å…·æä¾›XMLèˆ‡JSONæ ¼å¼ä¹‹é–“çš„ç›¸äº’è½‰æ›åŠŸèƒ½ï¼Œæ”¯æ´è‡ªå®šç¾©ç¸®é€²æ ¼å¼ã€‚å¯å°‡XMLæ¨™è¨˜èªè¨€è½‰æ›ç‚ºJSONæ•¸æ“šæ ¼å¼ï¼Œä¹Ÿèƒ½å°‡JSONæ•¸æ“šè½‰æ›ç‚ºçµæ§‹åŒ–çš„XMLæ ¼å¼ï¼Œä¿ç•™åŸå§‹æ•¸æ“šçš„å±¤ç´šçµæ§‹å’Œå…§å®¹ã€‚é©ç”¨æ–¼é–‹ç™¼è€…ã€æ•¸æ“šåˆ†æå¸«å’Œéœ€è¦è™•ç†ä¸åŒæ•¸æ“šæ ¼å¼çš„ç”¨æˆ¶ã€‚',
                    recent_conversions: 'æœ€è¿‘è½‰æ›',
                    no_history: 'æš«ç„¡è½‰æ›è¨˜éŒ„',
                    please_enter_text: 'è«‹å…ˆè¼¸å…¥ä¸€äº›å…§å®¹',
                    invalid_format: 'æ ¼å¼ç„¡æ•ˆï¼Œè«‹æª¢æŸ¥è¼¸å…¥å…§å®¹',
                    copied: 'å·²è¤‡è£½ï¼'
                },
                'ja': {
                    title: 'ğŸ”„ XML-JSONå¤‰æ›ãƒ„ãƒ¼ãƒ«',
                    input_text: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥åŠ›',
                    options: 'å¤‰æ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³',
                    conversion_direction: 'å¤‰æ›æ–¹å‘',
                    xml_to_json: 'XMLã‹ã‚‰JSON',
                    json_to_xml: 'JSONã‹ã‚‰XML',
                    indentation: 'ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚¹ãƒšãƒ¼ã‚¹æ•°',
                    indentation_note: 'ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡ºåŠ›ã«ä½¿ç”¨ã™ã‚‹ã‚¹ãƒšãƒ¼ã‚¹æ•°',
                    btn_convert: 'å¤‰æ›',
                    btn_clear: 'ã™ã¹ã¦ã‚¯ãƒªã‚¢',
                    results: 'å¤‰æ›çµæœ',
                    char_count: 'æ–‡å­—æ•°ï¼š',
                    conversion_time: 'å¤‰æ›æ™‚é–“ï¼š',
                    result_text: 'çµæœã‚³ãƒ³ãƒ†ãƒ³ãƒ„',
                    btn_copy: 'çµæœã‚’ã‚³ãƒ”ãƒ¼',
                    intro_title: 'ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦',
                    intro_text: 'ã“ã®ãƒ„ãƒ¼ãƒ«ã¯XMLã¨JSONå½¢å¼ã®ç›¸äº’å¤‰æ›æ©Ÿèƒ½ã‚’æä¾›ã—ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå½¢å¼ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚XMLãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã‚’JSONãƒ‡ãƒ¼ã‚¿å½¢å¼ã«å¤‰æ›ã—ãŸã‚Šã€JSONãƒ‡ãƒ¼ã‚¿ã‚’æ§‹é€ åŒ–ã•ã‚ŒãŸXMLå½¢å¼ã«å¤‰æ›ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã€å…ƒã®ãƒ‡ãƒ¼ã‚¿ã®éšå±¤æ§‹é€ ã¨å†…å®¹ã‚’ä¿æŒã—ã¾ã™ã€‚é–‹ç™ºè€…ã€ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒŠãƒªã‚¹ãƒˆã€ãŠã‚ˆã³ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©ã—ã¦ã„ã¾ã™ã€‚',
                    recent_conversions: 'æœ€è¿‘ã®å¤‰æ›',
                    no_history: 'å¤‰æ›å±¥æ­´ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“',
                    please_enter_text: 'ã¾ãšã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    invalid_format: 'å½¢å¼ãŒç„¡åŠ¹ã§ã™ã€‚å…¥åŠ›å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„',
                    copied: 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼'
                },
                'ru': {
                    title: 'ğŸ”„ ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ XML-JSON',
                    input_text: 'Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ',
                    options: 'ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    conversion_direction: 'ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    xml_to_json: 'XML Ğ² JSON',
                    json_to_xml: 'JSON Ğ² XML',
                    indentation: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ğ°',
                    indentation_note: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ¾Ğ² Ğ´Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ°',
                    btn_convert: 'ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
                    btn_clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ',
                    results: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    char_count: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²:',
                    conversion_time: 'Ğ’Ñ€ĞµĞ¼Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:',
                    result_text: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ¸Ñ€ÑƒÑÑ‰ĞµĞµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ',
                    btn_copy: 'Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    intro_title: 'Ğ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğµ',
                    intro_text: 'Ğ­Ñ‚Ğ¾Ñ‚ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ°Ğ¼Ğ¸ XML Ğ¸ JSON Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğ¼ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼. ĞĞ½ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ·Ñ‹Ğº Ñ€Ğ°Ğ·Ğ¼ĞµÑ‚ĞºĞ¸ XML Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… JSON Ğ¸ Ğ½Ğ°Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚, ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ², Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ°Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….',
                    recent_conversions: 'ĞĞµĞ´Ğ°Ğ²Ğ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    no_history: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚',
                    please_enter_text: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ',
                    invalid_format: 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
                    copied: 'Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!'
                }
            },

            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang(false);
                } else {
                    this.changeLang(false);
                }

                this.loadConversionHistory();
            },

            changeLang: function(updateUrl = true) {
                const lang = document.getElementById('lang-selector').value;
                const i18nData = this.i18n[lang];
                
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (i18nData[key]) {
                        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                            el.placeholder = i18nData[key];
                        } else {
                            el.textContent = i18nData[key];
                        }
                    }
                });

                if (updateUrl) {
                    const url = new URL(window.location);
                    url.searchParams.set('lang', lang);
                    window.history.pushState({}, '', url);
                }
                
                document.title = i18nData['title'];
            },

            getI18nText: function(key) {
                const lang = document.getElementById('lang-selector').value;
                return this.i18n[lang] && this.i18n[lang][key] ? this.i18n[lang][key] : this.i18n['en'][key];
            },

            convert: function() {
                const input = document.getElementById('input_content').value.trim();
                const direction = document.getElementById('conversion_direction').value;
                const indent = parseInt(document.getElementById('indentation').value);
                
                if (!input) {
                    alert(this.getI18nText('please_enter_text'));
                    return;
                }

                let result = '';
                const startTime = performance.now();
                
                try {
                    if (direction === 'xml2json') {
                        // XML to JSON conversion (simplified example)
                        const parser = new DOMParser();
                        const xmlDoc = parser.parseFromString(input, "text/xml");
                        result = JSON.stringify(this.xmlToJson(xmlDoc), null, indent);
                    } else {
                        // JSON to XML conversion (simplified example)
                        const jsonObj = JSON.parse(input);
                        result = this.jsonToXml(jsonObj, indent);
                    }
                } catch (e) {
                    alert(this.getI18nText('invalid_format') + ': ' + e.message);
                    return;
                }

                const endTime = performance.now();
                const conversionTime = Math.round(endTime - startTime);
                
                document.getElementById('result_text').value = result;
                document.getElementById('char_count').textContent = result.length;
                document.getElementById('conversion_time').textContent = conversionTime + 'ms';
                
                this.saveToHistory(input, result, direction);
            },

            // Simplified XML to JSON conversion
            xmlToJson: function(xml) {
                let obj = {};
                
                if (xml.nodeType === 1) {
                    if (xml.attributes.length > 0) {
                        obj["@attributes"] = {};
                        for (let j = 0; j < xml.attributes.length; j++) {
                            const attribute = xml.attributes.item(j);
                            obj["@attributes"][attribute.nodeName] = attribute.nodeValue;
                        }
                    }
                } else if (xml.nodeType === 3) {
                    obj = xml.nodeValue;
                }
                
                if (xml.hasChildNodes()) {
                    for (let i = 0; i < xml.childNodes.length; i++) {
                        const item = xml.childNodes.item(i);
                        const nodeName = item.nodeName;
                        if (typeof(obj[nodeName]) === "undefined") {
                            obj[nodeName] = this.xmlToJson(item);
                        } else {
                            if (typeof(obj[nodeName].push) === "undefined") {
                                const old = obj[nodeName];
                                obj[nodeName] = [];
                                obj[nodeName].push(old);
                            }
                            obj[nodeName].push(this.xmlToJson(item));
                        }
                    }
                }
                return obj;
            },

            // Simplified JSON to XML conversion
            jsonToXml: function(obj, indent) {
                const indentStr = ' '.repeat(indent);
                let xml = '<?xml version="1.0"?>\n';
                xml += this.buildXmlFromJson(obj, 'root', 0, indentStr);
                return xml;
            },

            buildXmlFromJson: function(obj, parentTag, level, indentStr) {
                let xml = '';
                const currentIndent = indentStr.repeat(level);
                const nextLevel = level + 1;
                
                if (typeof obj === 'object' && obj !== null) {
                    xml += currentIndent + '<' + parentTag + '>\n';
                    
                    for (const key in obj) {
                        if (obj.hasOwnProperty(key)) {
                            xml += this.buildXmlFromJson(obj[key], key, nextLevel, indentStr);
                        }
                    }
                    
                    xml += currentIndent + '</' + parentTag + '>\n';
                } else {
                    xml += currentIndent + '<' + parentTag + '>' + obj + '</' + parentTag + '>\n';
                }
                
                return xml;
            },

            clearAll: function() {
                document.getElementById('input_content').value = '';
                document.getElementById('result_text').value = '';
                document.getElementById('char_count').textContent = '0';
                document.getElementById('conversion_time').textContent = '0ms';
            },

            copyResult: function() {
                const resultText = document.getElementById('result_text');
                resultText.select();
                document.execCommand('copy');
                
                const originalText = this.getI18nText('btn_copy');
                const copyBtn = document.querySelector('[data-i18n="btn_copy"]');
                copyBtn.textContent = this.getI18nText('copied');
                
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            },

            saveToHistory: function(input, result, direction) {
                let history = JSON.parse(localStorage.getItem('xmlJsonConversionHistory') || '[]');
                const directionText = direction === 'xml2json' ? 
                    this.getI18nText('xml_to_json') : this.getI18nText('json_to_xml');
                
                const entry = {
                    id: Date.now(),
                    direction: directionText,
                    input: input.substring(0, 50) + (input.length > 50 ? '...' : ''),
                    timestamp: new Date().toLocaleString()
                };
                
                history.unshift(entry);
                if (history.length > 10) history = history.slice(0, 10);
                
                localStorage.setItem('xmlJsonConversionHistory', JSON.stringify(history));
                this.loadConversionHistory();
            },

            loadConversionHistory: function() {
                const historyContainer = document.getElementById('conversion_history');
                const history = JSON.parse(localStorage.getItem('xmlJsonConversionHistory') || '[]');
                
                if (history.length === 0) {
                    historyContainer.innerHTML = `<p data-i18n="no_history" class="text-gray-400 italic text-sm">${this.getI18nText('no_history')}</p>`;
                    return;
                }
                
                let html = '<div class="space-y-2">';
                history.forEach(entry => {
                    html += `
                        <div class="p-2 bg-white rounded border border-gray-100 text-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-700 font-medium">${entry.direction}</span>
                                <span class="text-gray-400 text-xs">${entry.timestamp}</span>
                            </div>
                            <div class="text-gray-600 mt-1 truncate">${entry.input}</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                historyContainer.innerHTML = html;
            }
        };

        // Initialize the tool when the page loads
        window.onload = function() {
            ConverterTool.init();
        };
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>

</html>
