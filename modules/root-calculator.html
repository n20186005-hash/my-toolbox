<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Root & Exponent Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="root_calculator">
    <meta name="category" content="math">
    <meta name="icon" content="√">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="Root & Exponent Calculator">
    <meta name="description" content="Calculate square roots, nth roots, and exponents for any number.">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="根号/N次方/开N次方计算器">
    <meta name="lang-description-zh-CN" content="计算任何数字的平方根、N次方根和指数。">
    
    <meta name="lang-title-zh-TW" content="根號/N次方/開N次方計算器">
    <meta name="lang-description-zh-TW" content="計算任何數字的平方根、N次方根和指數。">
    
    <meta name="lang-title-ja" content="ルート＆べき乗計算機">
    <meta name="lang-description-ja" content="任意の数の平方根、n乗根、べき乗を計算します。">
    
    <meta name="lang-title-ru" content="Калькулятор корней и степеней">
    <meta name="lang-description-ru" content="Вычисляйте квадратные корни, корни n-й степени и степени любого числа.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result { background-color: #fef3c7; border: 1px solid #f59e0b; color: #92400e; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .info { background-color: #eff8ff; border: 1px solid #3b82f6; color: #1e40af; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="root_calculator" 
         data-category="math" 
         data-title="Root & Exponent Calculator" 
         data-icon="√">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="root-lang" onchange="RootCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">√ Root & Exponent Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculation_type">Calculation Type</label>
                <div class="grid grid-cols-3 gap-2">
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="calc-type" value="square-root" checked class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="square_root">Square Root</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="calc-type" value="nth-root" class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="nth_root">Nth Root</span>
                    </label>
                    <label class="inline-flex items-center border rounded p-2 cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="calc-type" value="exponent" class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="exponent">Exponent</span>
                    </label>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="base_number">Base Number</label>
                <input type="number" id="base-number" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 16" value="16">
            </div>
            
            <div id="nth-value-container" style="display: none;">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="n_value">N Value</label>
                <input type="number" id="n-value" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 3" min="2" value="3">
            </div>
        </div>

        <button onclick="RootCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate</button>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div id="calculation-result" class="text-2xl font-bold text-blue-800">--</div>
            
            <div class="text-sm text-gray-500 mb-2 mt-6" data-i18n="formula">Formula</div>
            <div id="calculation-formula" class="text-lg font-medium text-blue-700">--</div>
            
            <div class="info text-sm mt-4" data-i18n="info_text">This calculator computes square roots, nth roots, and exponents for positive numbers.</div>
        </div>
    </div>

    <script>
        const RootCalc = {
            i18n: {
                'en': {
                    title: '√ Root & Exponent Calculator',
                    calculation_type: 'Calculation Type',
                    square_root: 'Square Root',
                    nth_root: 'Nth Root',
                    exponent: 'Exponent',
                    base_number: 'Base Number',
                    n_value: 'N Value',
                    btn_calc: 'Calculate',
                    result: 'Result',
                    formula: 'Formula',
                    info_text: 'This calculator computes square roots, nth roots, and exponents for positive numbers.',
                    err_invalid: 'Please enter valid numbers',
                    err_negative: 'Please enter a positive base number'
                },
                'zh-CN': {
                    title: '√ 根号/N次方/开N次方计算器',
                    calculation_type: '计算类型',
                    square_root: '平方根',
                    nth_root: 'N次方根',
                    exponent: '指数',
                    base_number: '基数',
                    n_value: 'N值',
                    btn_calc: '计算',
                    result: '结果',
                    formula: '公式',
                    info_text: '此计算器可计算正数的平方根、N次方根和指数。',
                    err_invalid: '请输入有效的数字',
                    err_negative: '请输入正数作为基数'
                },
                'zh-TW': {
                    title: '√ 根號/N次方/開N次方計算器',
                    calculation_type: '計算類型',
                    square_root: '平方根',
                    nth_root: 'N次方根',
                    exponent: '指數',
                    base_number: '基數',
                    n_value: 'N值',
                    btn_calc: '計算',
                    result: '結果',
                    formula: '公式',
                    info_text: '此計算器可計算正數的平方根、N次方根和指數。',
                    err_invalid: '請輸入有效的數字',
                    err_negative: '請輸入正數作為基數'
                },
                'ja': {
                    title: '√ ルート＆べき乗計算機',
                    calculation_type: '計算タイプ',
                    square_root: '平方根',
                    nth_root: 'n乗根',
                    exponent: 'べき乗',
                    base_number: '基数',
                    n_value: 'nの値',
                    btn_calc: '計算',
                    result: '結果',
                    formula: '公式',
                    info_text: 'この計算機は、正数の平方根、n乗根、べき乗を計算します。',
                    err_invalid: '有効な数字を入力してください',
                    err_negative: '基数には正数を入力してください'
                },
                'ru': {
                    title: '√ Калькулятор корней и степеней',
                    calculation_type: 'Тип вычисления',
                    square_root: 'Квадратный корень',
                    nth_root: 'Корень n-й степени',
                    exponent: 'Степень',
                    base_number: 'Основание',
                    n_value: 'Значение n',
                    btn_calc: 'Вычислить',
                    result: 'Результат',
                    formula: 'Формула',
                    info_text: 'Этот калькулятор вычисляет квадратные корни, корни n-й степени и степени положительных чисел.',
                    err_invalid: 'Пожалуйста, введите действительные числа',
                    err_negative: 'Пожалуйста, введите положительное число в качестве основания'
                }
            },

            init: function() {
                // 监听计算类型变化
                document.querySelectorAll('input[name="calc-type"]').forEach(radio => {
                    radio.addEventListener('change', (e) => {
                        const nthContainer = document.getElementById('nth-value-container');
                        if (e.target.value === 'nth-root' || e.target.value === 'exponent') {
                            nthContainer.style.display = 'block';
                        } else {
                            nthContainer.style.display = 'none';
                        }
                    });
                });
                
                this.changeLang();
            },

            changeLang: function() {
                const lang = document.getElementById('root-lang').value;
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang] && this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
            },

            calc: function() {
                const lang = document.getElementById('root-lang').value;
                const calcType = document.querySelector('input[name="calc-type"]:checked').value;
                const base = parseFloat(document.getElementById('base-number').value);
                
                // 验证基数
                if (isNaN(base)) {
                    alert(this.i18n[lang].err_invalid);
                    return;
                }
                
                if (base < 0) {
                    alert(this.i18n[lang].err_negative);
                    return;
                }
                
                let result, formula;
                
                if (calcType === 'square-root') {
                    // 计算平方根
                    result = Math.sqrt(base);
                    formula = `√${base} = ${result.toFixed(6)}`;
                } else {
                    const n = parseFloat(document.getElementById('n-value').value);
                    if (isNaN(n) || n < 2) {
                        alert(this.i18n[lang].err_invalid);
                        return;
                    }
                    
                    if (calcType === 'nth-root') {
                        // 计算N次方根
                        result = Math.pow(base, 1/n);
                        formula = `${base}^(1/${n}) = ${result.toFixed(6)}`;
                    } else {
                        // 计算指数
                        result = Math.pow(base, n);
                        formula = `${base}^${n} = ${result.toFixed(6)}`;
                    }
                }
                
                // 显示结果
                document.getElementById('calculation-result').textContent = result.toFixed(6);
                document.getElementById('calculation-formula').textContent = formula;
            }
        };

        // 初始化计算器
        document.addEventListener('DOMContentLoaded', () => {
            RootCalc.init();
        });
    </script>
</body>
</html>