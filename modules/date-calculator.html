<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="date_calculator">
    <meta name="category" content="date">
    <meta name="icon" content="üìÖ">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Date Calculator">
    <meta name="description" content="Add or subtract days, months, or years from a date.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="Êó•ÊúüËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="Âú®Êó•Êúü‰∏äÂ¢ûÂä†ÊàñÂáèÂ∞ëÂ§©Êï∞„ÄÅÊúàÊï∞ÊàñÂπ¥Êï∞„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Êó•ÊúüË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Âú®Êó•Êúü‰∏äÂ¢ûÂä†ÊàñÊ∏õÂ∞ëÂ§©Êï∏„ÄÅÊúàÊï∏ÊàñÂπ¥Êï∏„ÄÇ">
    
    <meta name="lang-title-ja" content="Êó•‰ªòË®àÁÆóÊ©ü">
    <meta name="lang-description-ja" content="Êó•‰ªò„Å´Êó•Êï∞„ÄÅÊúàÊï∞„ÄÅ„Åæ„Åü„ÅØÂπ¥Êï∞„ÇíÂä†ÁÆó„Åæ„Åü„ÅØÊ∏õÁÆó„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–∞—Ç">
    <meta name="lang-description-ru" content="–î–æ–±–∞–≤–ª—è–π—Ç–µ –∏–ª–∏ –≤—ã—á–∏—Ç–∞–π—Ç–µ –¥–Ω–∏, –º–µ—Å—è—Ü—ã –∏–ª–∏ –≥–æ–¥—ã –∏–∑ –¥–∞—Ç—ã.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result { background-color: #eff8ff; border: 1px solid #3b82f6; color: #1e40af; padding: 15px; border-radius: 5px; margin-top: 15px; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="date_calculator" 
         data-category="date" 
         data-title="Date Calculator" 
         data-icon="üìÖ">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="date-lang" onchange="DateCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üìÖ Date Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="start_date">Start Date</label>
                <input type="date" id="start-date" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <div class="grid grid-cols-3 gap-2">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="years">Years</label>
                    <input type="number" id="years" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" value="0" min="0">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="months">Months</label>
                    <input type="number" id="months" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" value="0" min="0">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="days">Days</label>
                    <input type="number" id="days" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" value="0" min="0">
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="operation">Operation</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="operation" value="add" checked class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="add">Add</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="operation" value="subtract" class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="subtract">Subtract</span>
                    </label>
                </div>
            </div>
        </div>

        <button onclick="DateCalc.calc()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="btn_calc">Calculate Result Date</button>

        <div id="date-result" class="result hidden">
            <div class="text-lg font-bold mb-2" data-i18n="result_title">Result Date</div>
            <div id="result-date" class="mb-2 text-xl">--</div>
            <div id="date-description" class="text-sm"></div>
        </div>

        <div id="date-error" class="warning hidden" data-i18n="err_invalid">Please enter valid values</div>
    </div>

    <script>
        const DateCalc = {
            i18n: {
                'en': {
                    title: 'üìÖ Date Calculator',
                    start_date: 'Start Date',
                    years: 'Years',
                    months: 'Months',
                    days: 'Days',
                    operation: 'Operation',
                    add: 'Add',
                    subtract: 'Subtract',
                    btn_calc: 'Calculate Result Date',
                    result_title: 'Result Date',
                    description: '{operation} {years} years, {months} months, and {days} days from {start_date}',
                    err_invalid: 'Please enter valid values',
                },
                'zh-CN': {
                    title: 'üìÖ Êó•ÊúüËÆ°ÁÆóÂô®',
                    start_date: 'Ëµ∑ÂßãÊó•Êúü',
                    years: 'Âπ¥',
                    months: 'Êúà',
                    days: 'Â§©',
                    operation: 'Êìç‰Ωú',
                    add: 'Â¢ûÂä†',
                    subtract: 'ÂáèÂ∞ë',
                    btn_calc: 'ËÆ°ÁÆóÁªìÊûúÊó•Êúü',
                    result_title: 'ÁªìÊûúÊó•Êúü',
                    description: '‰ªé {start_date}{operation}{years}Âπ¥{months}Êúà{days}Â§©',
                    err_invalid: 'ËØ∑ËæìÂÖ•ÊúâÊïàÂÄº',
                },
                'zh-TW': {
                    title: 'üìÖ Êó•ÊúüË®àÁÆóÂô®',
                    start_date: 'Ëµ∑ÂßãÊó•Êúü',
                    years: 'Âπ¥',
                    months: 'Êúà',
                    days: 'Â§©',
                    operation: 'Êìç‰Ωú',
                    add: 'Â¢ûÂä†',
                    subtract: 'Ê∏õÂ∞ë',
                    btn_calc: 'Ë®àÁÆóÁµêÊûúÊó•Êúü',
                    result_title: 'ÁµêÊûúÊó•Êúü',
                    description: 'Âæû {start_date}{operation}{years}Âπ¥{months}Êúà{days}Â§©',
                    err_invalid: 'Ë´ãËº∏ÂÖ•ÊúâÊïàÂÄº',
                },
                'ja': {
                    title: 'üìÖ Êó•‰ªòË®àÁÆóÊ©ü',
                    start_date: 'ÈñãÂßãÊó•',
                    years: 'Âπ¥',
                    months: 'Êúà',
                    days: 'Êó•',
                    operation: 'Êìç‰Ωú',
                    add: 'ËøΩÂä†',
                    subtract: 'Ê∏õÁÆó',
                    btn_calc: 'ÁµêÊûúÊó•„ÇíË®àÁÆó',
                    result_title: 'ÁµêÊûúÊó•',
                    description: '{start_date}„Åã„Çâ{operation}{years}Âπ¥{months}Êúà{days}Êó•',
                    err_invalid: 'ÊúâÂäπ„Å™ÂÄ§„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                },
                'ru': {
                    title: 'üìÖ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–∞—Ç',
                    start_date: '–ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞',
                    years: '–õ–µ—Ç',
                    months: '–ú–µ—Å—è—Ü–µ–≤',
                    days: '–î–Ω–µ–π',
                    operation: '–û–ø–µ—Ä–∞—Ü–∏—è',
                    add: '–î–æ–±–∞–≤–∏—Ç—å',
                    subtract: '–í—ã—á–µ—Å—Ç—å',
                    btn_calc: '–í—ã—á–∏—Å–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â—É—é –¥–∞—Ç—É',
                    result_title: '–†–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∞—è –¥–∞—Ç–∞',
                    description: '{operation} {years} –ª–µ—Ç, {months} –º–µ—Å—è—Ü–µ–≤ –∏ {days} –¥–Ω–µ–π –∫ {start_date}',
                    err_invalid: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è',
                }
            },

            init() {
                // ËÆæÁΩÆÈªòËÆ§Êó•Êúü‰∏∫‰ªäÂ§©
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('start-date').value = today;
                this.changeLang();
            },

            changeLang() {
                const lang = document.getElementById('date-lang').value;
                const elements = document.querySelectorAll('[data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
            },

            calc() {
                const startDate = new Date(document.getElementById('start-date').value);
                const years = parseInt(document.getElementById('years').value) || 0;
                const months = parseInt(document.getElementById('months').value) || 0;
                const days = parseInt(document.getElementById('days').value) || 0;
                const operation = document.querySelector('input[name="operation"]:checked').value;
                const lang = document.getElementById('date-lang').value;

                const resultEl = document.getElementById('date-result');
                const errorEl = document.getElementById('date-error');
                const resultDateEl = document.getElementById('result-date');
                const descriptionEl = document.getElementById('date-description');

                // È™åËØÅËæìÂÖ•
                if (isNaN(startDate.getTime()) || (years === 0 && months === 0 && days === 0)) {
                    resultEl.classList.add('hidden');
                    errorEl.classList.remove('hidden');
                    return;
                }

                errorEl.classList.add('hidden');
                resultEl.classList.remove('hidden');

                // Â§çÂà∂Êó•ÊúüÂØπË±°ÈÅøÂÖç‰øÆÊîπÂéüÂßãÊó•Êúü
                const resultDate = new Date(startDate);
                
                // ÊâßË°åËÆ°ÁÆó
                if (operation === 'add') {
                    resultDate.setFullYear(resultDate.getFullYear() + years);
                    resultDate.setMonth(resultDate.getMonth() + months);
                    resultDate.setDate(resultDate.getDate() + days);
                } else {
                    resultDate.setFullYear(resultDate.getFullYear() - years);
                    resultDate.setMonth(resultDate.getMonth() - months);
                    resultDate.setDate(resultDate.getDate() - days);
                }

                // Ê†ºÂºèÂåñÊó•ÊúüÊòæÁ§∫
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                const formattedResult = resultDate.toLocaleDateString(lang, options);
                const formattedStart = startDate.toLocaleDateString(lang, options);

                // Êìç‰ΩúÊñáÊú¨Êú¨Âú∞Âåñ
                const operationText = operation === 'add' 
                    ? this.i18n[lang].add 
                    : this.i18n[lang].subtract;

                // ÊòæÁ§∫ÁªìÊûú
                resultDateEl.textContent = formattedResult;
                descriptionEl.textContent = this.i18n[lang].description
                    .replace('{operation}', operationText)
                    .replace('{years}', years)
                    .replace('{months}', months)
                    .replace('{days}', days)
                    .replace('{start_date}', formattedStart);
            }
        };

        // ÂàùÂßãÂåñ
        window.onload = () => DateCalc.init();
    </script>
</body>
</html>