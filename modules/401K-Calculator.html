<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>401K Calculator Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="401k_calc" 
         data-category="finance" 
         data-title="401K Calculator" 
         data-icon="üìà">
        
        <div class="absolute top-4 right-4">
            <select id="k4-lang" onchange="Calc401k.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN">Á∞°È´î‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üìà 401K Calculator</h2>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_bal">Current Balance</label>
                <div class="relative">
                    <span class="absolute left-2 top-2 text-gray-400">$</span>
                    <input type="number" id="k4-bal" class="w-full pl-5 p-2 border rounded focus:ring-1 focus:ring-green-500" placeholder="10000">
                </div>
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_salary">Annual Salary</label>
                <div class="relative">
                    <span class="absolute left-2 top-2 text-gray-400">$</span>
                    <input type="number" id="k4-salary" class="w-full pl-5 p-2 border rounded focus:ring-1 focus:ring-green-500" placeholder="60000">
                </div>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-3 mb-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_contrib">Your %</label>
                <input type="number" id="k4-contrib" class="w-full p-2 border rounded focus:ring-1 focus:ring-green-500" placeholder="5" value="5">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_match">Match %</label>
                <input type="number" id="k4-match" class="w-full p-2 border rounded focus:ring-1 focus:ring-green-500" placeholder="3" value="3">
            </div>
            <div>
                <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_return">Return %</label>
                <input type="number" id="k4-rate" class="w-full p-2 border rounded focus:ring-1 focus:ring-green-500" placeholder="7" value="7">
            </div>
        </div>

        <div class="mb-6">
            <label class="block text-xs text-gray-500 mb-1" data-i18n="lbl_years">Years to Grow</label>
            <input type="range" id="k4-years-rng" min="1" max="50" value="30" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-600" oninput="Calc401k.syncYears(this.value)">
            <div class="text-right text-sm font-bold text-green-700 mt-1"><span id="k4-years-val">30</span> <span data-i18n="txt_years">years</span></div>
        </div>

        <button onclick="Calc401k.calc()" class="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_calc">Calculate Growth</button>

        <div class="bg-green-50 p-4 rounded-lg border border-green-100">
            <div class="flex justify-between items-center mb-2 border-b border-green-200 pb-2">
                <span class="text-gray-600 text-sm" data-i18n="res_total">Total Balance</span>
                <div id="k4-res-total" class="text-2xl font-bold text-green-800">$ --</div>
            </div>
            <div class="flex justify-between items-center text-xs text-gray-500">
                <span data-i18n="res_int">Total Interest</span>
                <span id="k4-res-int" class="font-bold text-green-600">--</span>
            </div>
        </div>
    </div>

    <script>
        const Calc401k = {
            i18n: {
                'en': {
                    title: 'üìà 401K Calculator',
                    lbl_bal: 'Current Balance', lbl_salary: 'Annual Salary',
                    lbl_contrib: 'Contrib %', lbl_match: 'Match %', lbl_return: 'Return %',
                    lbl_years: 'Years to Grow', txt_years: 'years',
                    btn_calc: 'Calculate Growth',
                    res_total: 'Future Balance', res_int: 'Total Growth'
                },
                'zh-CN': {
                    title: 'üìà 401K ÈÄÄ‰ºëÂÇ®ËìÑËÆ°ÁÆó',
                    lbl_bal: 'ÂΩìÂâç‰ΩôÈ¢ù', lbl_salary: 'Âπ¥Ëñ™',
                    lbl_contrib: '‰∏™‰∫∫Áº¥Á∫≥ %', lbl_match: 'Èõá‰∏ªÂåπÈÖç %', lbl_return: 'ÂõûÊä•Áéá %',
                    lbl_years: 'Â¢ûÈïøÂπ¥Èôê', txt_years: 'Âπ¥',
                    btn_calc: 'ËÆ°ÁÆóÊî∂Áõä',
                    res_total: 'Êú™Êù•ÊÄªÈ¢ù', res_int: 'ÊäïËµÑÊî∂Áõä'
                },
                'zh-TW': {
                    title: 'üìà 401K ÈÄÄ‰ºëÂÑ≤ËìÑË®àÁÆó',
                    lbl_bal: 'Áï∂ÂâçÈ§òÈ°ç', lbl_salary: 'Âπ¥Ëñ™',
                    lbl_contrib: 'ÂÄã‰∫∫Áπ≥Á¥ç %', lbl_match: 'Èõá‰∏ªÂåπÈÖç %', lbl_return: 'ÂõûÂ†±Áéá %',
                    lbl_years: 'Â¢ûÈï∑Âπ¥Èôê', txt_years: 'Âπ¥',
                    btn_calc: 'Ë®àÁÆóÊî∂Áõä',
                    res_total: 'Êú™‰æÜÁ∏ΩÈ°ç', res_int: 'ÊäïË≥áÊî∂Áõä'
                },
                'ja': {
                    title: 'üìà Á¢∫ÂÆöÊã†Âá∫Âπ¥Èáë (401k)',
                    lbl_bal: 'ÁèæÂú®„ÅÆÊÆãÈ´ò', lbl_salary: 'Âπ¥Âèé',
                    lbl_contrib: 'Êã†Âá∫Áéá %', lbl_match: '‰ºöÁ§æË≤†ÊãÖ %', lbl_return: 'Âà©Âõû„Çä %',
                    lbl_years: 'ÈÅãÁî®ÊúüÈñì', txt_years: 'Âπ¥',
                    btn_calc: 'Ë®àÁÆó„Åô„Çã',
                    res_total: 'Â∞ÜÊù•„ÅÆÊÆãÈ´ò', res_int: 'ÈÅãÁî®Áõä'
                },
                'ru': {
                    title: 'üìà –ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π 401(k)',
                    lbl_bal: '–ë–∞–ª–∞–Ω—Å', lbl_salary: '–ì–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥',
                    lbl_contrib: '–í–∫–ª–∞–¥ %', lbl_match: '–í–∫–ª–∞–¥ —Ä–∞–±. %', lbl_return: '–î–æ—Ö–æ–¥ %',
                    lbl_years: '–°—Ä–æ–∫ (–ª–µ—Ç)', txt_years: '–ª–µ—Ç',
                    btn_calc: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å',
                    res_total: '–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞', res_int: '–î–æ—Ö–æ–¥ –æ—Ç –∏–Ω–≤–µ—Å—Ç.'
                },
                'es': {
                    title: 'üìà Calculadora 401(k)',
                    lbl_bal: 'Saldo Actual', lbl_salary: 'Salario Anual',
                    lbl_contrib: 'Aporte %', lbl_match: 'Empresa %', lbl_return: 'Retorno %',
                    lbl_years: 'A√±os a Invertir', txt_years: 'a√±os',
                    btn_calc: 'Calcular',
                    res_total: 'Saldo Futuro', res_int: 'Inter√©s Total'
                }
            },

            changeLang: () => {
                const lang = document.getElementById('k4-lang').value;
                const texts = Calc401k.i18n[lang];
                const elements = document.querySelectorAll('[data-id="401k_calc"] [data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(texts[key]) el.innerText = texts[key];
                });
            },

            syncYears: (val) => {
                document.getElementById('k4-years-val').innerText = val;
            },

            calc: () => {
                let bal = parseFloat(document.getElementById('k4-bal').value) || 0;
                const salary = parseFloat(document.getElementById('k4-salary').value) || 0;
                const contribPct = parseFloat(document.getElementById('k4-contrib').value) || 0;
                const matchPct = parseFloat(document.getElementById('k4-match').value) || 0;
                const rate = parseFloat(document.getElementById('k4-rate').value) || 0;
                const years = parseInt(document.getElementById('k4-years-rng').value);

                const annualContrib = salary * ((contribPct + matchPct) / 100);
                const r = rate / 100;
                const startBal = bal;

                // Simple annual compounding
                for (let i = 0; i < years; i++) {
                    bal = (bal + annualContrib) * (1 + r);
                }

                const totalInterest = bal - (startBal + (annualContrib * years));

                const fmt = (n) => n.toLocaleString('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });

                document.getElementById('k4-res-total').innerText = fmt(bal);
                document.getElementById('k4-res-int').innerText = fmt(totalInterest);
            }
        };
    </script>
</body>
</html>