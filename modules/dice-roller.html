<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Roller</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="dice_roller">
    <meta name="category" content="fun">
    <meta name="icon" content="üé≤">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Dice Roller">
    <meta name="description" content="Roll virtual dice for your games.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="È™∞Â≠êÊªöÂä®Âô®">
    <meta name="lang-description-zh-CN" content="‰∏∫ÊÇ®ÁöÑÊ∏∏ÊàèÊªöÂä®ËôöÊãüÈ™∞Â≠ê„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="È™∞Â≠êÊªæÂãïÂô®">
    <meta name="lang-description-zh-TW" content="ÁÇ∫ÊÇ®ÁöÑÈÅäÊà≤ÊªæÂãïËôõÊì¨È™∞Â≠ê„ÄÇ">
    
    <meta name="lang-title-ja" content="„Çµ„Ç§„Ç≥„É≠„É≠„Éº„É©„Éº">
    <meta name="lang-description-ja" content="„Ç≤„Éº„É†Áî®„ÅÆ‰ªÆÊÉ≥„Çµ„Ç§„Ç≥„É≠„ÇíÊåØ„Çä„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π">
    <meta name="lang-description-ru" content="–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –±—Ä–æ—Å–∞–Ω–∏–µ –∫–æ—Å—Ç–µ–π –¥–ª—è –∏–≥—Ä.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .dice { 
            width: 80px; 
            height: 80px; 
            margin: 10px; 
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .dice-rolling {
            animation: roll 0.5s ease infinite;
        }
        @keyframes roll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(10deg) scale(1.1); }
            50% { transform: rotate(0deg) scale(1); }
            75% { transform: rotate(-10deg) scale(1.1); }
            100% { transform: rotate(0deg) scale(1); }
        }
        .dice-container {
            min-height: 100px;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="dice_roller" 
         data-category="games" 
         data-title="Dice Roller" 
         data-icon="üé≤">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="dice-lang" onchange="DiceRoller.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üé≤ Dice Roller</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- È™∞Â≠êÊï∞Èáè -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="count_label">Number of Dice</label>
                    <input type="number" id="dice-count" class="w-full p-2 border rounded focus:ring-2 focus:ring-purple-500 outline-none" value="2" min="1" max="10">
                </div>
                <!-- È™∞Â≠êÈù¢Êï∞ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="sides_label">Sides per Die</label>
                    <select id="dice-sides" class="w-full p-2 border rounded focus:ring-2 focus:ring-purple-500 outline-none">
                        <option value="4">4</option>
                        <option value="6" selected>6</option>
                        <option value="8">8</option>
                        <option value="10">10</option>
                        <option value="12">12</option>
                        <option value="20">20</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
        </div>

        <button onclick="DiceRoller.roll()" class="w-full bg-purple-600 text-white py-3 rounded font-bold hover:bg-purple-700 transition mb-6" data-i18n="roll_btn">Roll Dice</button>

        <!-- È™∞Â≠êÁªìÊûú -->
        <div class="bg-purple-50 p-6 rounded-lg border border-purple-100">
            <div class="text-sm text-gray-500 mb-4 text-center" data-i18n="result_label">Results</div>
            <div id="dice-result" class="dice-container">
                <!-- È™∞Â≠ê‰ºöÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
            <div class="text-center mt-4">
                <div class="text-sm text-gray-600" data-i18n="total_label">Total:</div>
                <div id="dice-total" class="text-2xl font-bold text-purple-800">0</div>
            </div>
        </div>
        
        <!-- ÂéÜÂè≤ËÆ∞ÂΩï -->
        <div class="mt-6 bg-gray-50 p-4 rounded-lg border border-gray-100">
            <div class="text-sm font-medium text-gray-700 mb-2" data-i18n="history_label">Roll History</div>
            <div id="roll-history" class="text-sm text-gray-600 max-h-32 overflow-y-auto">
                <div class="text-gray-400 italic" data-i18n="history_empty">No rolls yet</div>
            </div>
        </div>
    </div>

    <script>
        const DiceRoller = {
            i18n: {
                'en': {
                    title: 'üé≤ Dice Roller',
                    count_label: 'Number of Dice',
                    sides_label: 'Sides per Die',
                    roll_btn: 'Roll Dice',
                    result_label: 'Results',
                    total_label: 'Total:',
                    history_label: 'Roll History',
                    history_empty: 'No rolls yet',
                    history_entry: '%count%d%side%: %values% (Total: %total%)'
                },
                'zh-CN': {
                    title: 'üé≤ È™∞Â≠êÊªöÂä®Âô®',
                    count_label: 'È™∞Â≠êÊï∞Èáè',
                    sides_label: 'ÊØè‰∏™È™∞Â≠êÁöÑÈù¢Êï∞',
                    roll_btn: 'ÊªöÂä®È™∞Â≠ê',
                    result_label: 'ÁªìÊûú',
                    total_label: 'ÊÄªÂíåÔºö',
                    history_label: 'ÊªöÂä®ÂéÜÂè≤',
                    history_empty: 'ÊöÇÊó†ËÆ∞ÂΩï',
                    history_entry: '%count%‰∏™%d%Èù¢È™∞Â≠êÔºö%values%ÔºàÊÄªÂíåÔºö%total%Ôºâ'
                },
                'zh-TW': {
                    title: 'üé≤ È™∞Â≠êÊªæÂãïÂô®',
                    count_label: 'È™∞Â≠êÊï∏Èáè',
                    sides_label: 'ÊØèÂÄãÈ™∞Â≠êÁöÑÈù¢Êï∏',
                    roll_btn: 'ÊªæÂãïÈ™∞Â≠ê',
                    result_label: 'ÁµêÊûú',
                    total_label: 'Á∏ΩÂíåÔºö',
                    history_label: 'ÊªæÂãïÊ≠∑Âè≤',
                    history_empty: 'Êö´ÁÑ°Ë®òÈåÑ',
                    history_entry: '%count%ÂÄã%d%Èù¢È™∞Â≠êÔºö%values%ÔºàÁ∏ΩÂíåÔºö%total%Ôºâ'
                },
                'ja': {
                    title: 'üé≤ „Çµ„Ç§„Ç≥„É≠„É≠„Éº„É©„Éº',
                    count_label: '„Çµ„Ç§„Ç≥„É≠„ÅÆÊï∞',
                    sides_label: 'ÂêÑ„Çµ„Ç§„Ç≥„É≠„ÅÆÈù¢Êï∞',
                    roll_btn: '„Çµ„Ç§„Ç≥„É≠„ÇíÊåØ„Çã',
                    result_label: 'ÁµêÊûú',
                    total_label: 'ÂêàË®àÔºö',
                    history_label: 'Â±•Ê≠¥',
                    history_empty: '„Åæ„Å†Ë®òÈå≤„Åå„ÅÇ„Çä„Åæ„Åõ„Çì',
                    history_entry: '%count%ÂÄã„ÅÆ%d%Èù¢„Çµ„Ç§„Ç≥„É≠Ôºö%values%ÔºàÂêàË®àÔºö%total%Ôºâ'
                },
                'ru': {
                    title: 'üé≤ –ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π',
                    count_label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Å—Ç–µ–π',
                    sides_label: '–°—Ç–æ—Ä–æ–Ω—ã –Ω–∞ –∫–æ—Å—Ç–∏',
                    roll_btn: '–ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏',
                    result_label: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã',
                    total_label: '–ò—Ç–æ–≥–æÔºö',
                    history_label: '–ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ—Å–∫–æ–≤',
                    history_empty: '–ü–æ–∫–∞ –Ω–µ—Ç –±—Ä–æ—Å–∫–æ–≤',
                    history_entry: '%count% –∫–æ—Å—Ç–µ–π %d% –≥—Ä–∞–Ω–µ–πÔºö%values%Ôºà–ò—Ç–æ–≥–æÔºö%total%Ôºâ'
                }
            },

            history: [],

            init: () => {
                // ÂàùÂßãÂåñÊòæÁ§∫
            },

            changeLang: () => {
                const lang = document.getElementById('dice-lang').value;
                const texts = DiceRoller.i18n[lang];
                const elements = document.querySelectorAll('[data-id="dice_roller"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // Êõ¥Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïËØ≠Ë®Ä
                DiceRoller.updateHistoryDisplay();
            },

            roll: () => {
                const count = parseInt(document.getElementById('dice-count').value);
                const sides = parseInt(document.getElementById('dice-sides').value);
                const lang = document.getElementById('dice-lang').value;
                const texts = DiceRoller.i18n[lang];
                
                // Ê∏ÖÁ©∫‰πãÂâçÁöÑÈ™∞Â≠ê
                const resultContainer = document.getElementById('dice-result');
                resultContainer.innerHTML = '';
                
                // ÂàõÂª∫Êñ∞È™∞Â≠êÂπ∂Ê∑ªÂä†Âä®Áîª
                const results = [];
                for (let i = 0; i < count; i++) {
                    const dice = document.createElement('div');
                    dice.className = 'dice dice-rolling';
                    dice.innerText = '?';
                    resultContainer.appendChild(dice);
                    results.push(dice);
                }
                
                // Ê®°ÊãüÊªöÂä®Âª∂Ëøü
                setTimeout(() => {
                    let total = 0;
                    const values = [];
                    
                    // ËÆ°ÁÆóÁªìÊûú
                    results.forEach(dice => {
                        const value = Math.floor(Math.random() * sides) + 1;
                        dice.innerText = value;
                        dice.classList.remove('dice-rolling');
                        total += value;
                        values.push(value);
                    });
                    
                    // ÊòæÁ§∫ÊÄªÂíå
                    document.getElementById('dice-total').innerText = total;
                    
                    // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                    DiceRoller.history.unshift({
                        count,
                        sides,
                        values,
                        total,
                        timestamp: new Date()
                    });
                    
                    // ÈôêÂà∂ÂéÜÂè≤ËÆ∞ÂΩïÈïøÂ∫¶
                    if (DiceRoller.history.length > 10) {
                        DiceRoller.history.pop();
                    }
                    
                    // Êõ¥Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÊòæÁ§∫
                    DiceRoller.updateHistoryDisplay();
                    
                }, 800);
            },

            updateHistoryDisplay: () => {
                const historyContainer = document.getElementById('roll-history');
                const lang = document.getElementById('dice-lang').value;
                const texts = DiceRoller.i18n[lang];
                
                if (DiceRoller.history.length === 0) {
                    historyContainer.innerHTML = `<div class="text-gray-400 italic" data-i18n="history_empty">${texts.history_empty}</div>`;
                    return;
                }
                
                // ÁîüÊàêÂéÜÂè≤ËÆ∞ÂΩïHTML
                let historyHtml = '';
                DiceRoller.history.forEach(entry => {
                    const valuesText = entry.values.join(', ');
                    const entryText = texts.history_entry
                        .replace('%count%', entry.count)
                        .replace('%d%', entry.sides)
                        .replace('%values%', valuesText)
                        .replace('%total%', entry.total);
                    
                    historyHtml += `<div class="mb-1">${entryText}</div>`;
                });
                
                historyContainer.innerHTML = historyHtml;
            }
        };

        document.addEventListener('DOMContentLoaded', DiceRoller.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Ëá™Âä®ÂåπÈÖçÊµèËßàÂô®ËØ≠Ë®Ä
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('dice-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    DiceRoller.changeLang();
                }
            }
        });
    </script>

</body>

</html>
