<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="category" content="CSS Tools">
    <meta name="icon" content="ğŸ¨">
    <title>CSSå‹ç¼©å·¥å…·</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; position: relative; }
        .section { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.9rem; color: #4b5563; margin-bottom: 4px; }
        textarea, select { width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; }
        textarea { min-height: 150px; resize: vertical; }
        .result-card { background: #ecfdf5; border: 1px solid #d1fae5; border-radius: 8px; padding: 15px; margin-top: 15px; }
        .result-stats { display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed #a7f3d0; flex-wrap: wrap; gap: 10px;}
        .stat-label { color: #1e3a8a; font-size: 0.9rem;}
        .stat-value { font-weight: 600; color: #065f46; margin-left: 5px;}
        .intro-section { margin-top: 30px; padding: 20px; background-color: #f8fafc; border-radius: 8px; font-size: 0.95rem; color: #475569; }
        .options-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px; }
        button { background: #22c55e; color: white; border: none; padding: 10px 15px; border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.3s; }
        button:hover { background: #16a34a; }
        .language-note { font-size: 0.85rem; color: #64748b; margin-top: 4px; }
        .compression-stats { display: flex; justify-content: space-around; margin: 20px 0; text-align: center; }
        .stat-box { background: #f0f9ff; padding: 10px; border-radius: 6px; flex: 1; margin: 0 5px; }
        .stat-box-value { font-size: 1.5rem; font-weight: bold; color: #0284c7; }
        .stat-box-label { font-size: 0.8rem; color: #64748b; }
    </style>
</head>
<body>

    <div class="tool-module" id="css-minifier-tool">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <select id="lang-selector" onchange="CssMinifier.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en">English</option>
                <option value="zh-CN" selected>ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-6 text-gray-800 border-b pb-2" data-i18n="title">ğŸ¨ CSSå‹ç¼©å·¥å…·</h2>

        <div class="space-y-6">
            <!-- Input Section -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="input_css">è¾“å…¥CSSä»£ç </h3>
                <div class="form-group">
                    <textarea id="input_css" placeholder="è¯·åœ¨æ­¤ç²˜è´´CSSä»£ç ..." class="focus:ring-2 focus:ring-green-500 outline-none font-mono text-sm"></textarea>
                </div>
            </div>

            <!-- Options Section -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="options">å‹ç¼©é€‰é¡¹</h3>
                
                <div class="options-grid">
                    <div class="form-group">
                        <label data-i18n="compression_level">å‹ç¼©çº§åˆ«</label>
                        <select id="compression_level" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="normal" data-i18n="normal">æ™®é€šå‹ç¼©</option>
                            <option value="aggressive" data-i18n="aggressive">æ·±åº¦å‹ç¼©</option>
                            <option value="beautify" data-i18n="beautify">æ ¼å¼åŒ–ï¼ˆä¸å‹ç¼©ï¼‰</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="preserve_comments">ä¿ç•™æ³¨é‡Š</label>
                        <select id="preserve_comments" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="none" data-i18n="no_comments">ä¸ä¿ç•™</option>
                            <option value="important" data-i18n="important_comments">ä»…ä¿ç•™é‡è¦æ³¨é‡Š</option>
                            <option value="all" data-i18n="all_comments">ä¿ç•™æ‰€æœ‰æ³¨é‡Š</option>
                        </select>
                        <p class="language-note" data-i18n="important_note">é‡è¦æ³¨é‡ŠæŒ‡ä»¥ /*! å¼€å¤´çš„æ³¨é‡Š</p>
                    </div>
                </div>
            </div>

            <div class="flex gap-4">
                <button onclick="CssMinifier.minify()" class="flex-1 bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition shadow-md" data-i18n="btn_minify">å‹ç¼©CSS</button>
                <button onclick="CssMinifier.clearAll()" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded font-bold hover:bg-gray-300 transition shadow-sm" data-i18n="btn_clear">æ¸…ç©ºæ‰€æœ‰</button>
            </div>

            <!-- Results -->
            <div class="summary-section mt-8">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="results">å¤„ç†ç»“æœ</h3>
                
                <div class="compression-stats">
                    <div class="stat-box">
                        <div class="stat-box-value" id="original_size">0</div>
                        <div class="stat-box-label" data-i18n="original_size">åŸå§‹å¤§å° (B)</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-box-value" id="minified_size">0</div>
                        <div class="stat-box-label" data-i18n="minified_size">å‹ç¼©åå¤§å° (B)</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-box-value" id="savings">0%</div>
                        <div class="stat-box-label" data-i18n="savings">èŠ‚çœæ¯”ä¾‹</div>
                    </div>
                </div>

                <div class="result-stats">
                    <div>
                        <span class="stat-label" data-i18n="processing_time">å¤„ç†è€—æ—¶ï¼š</span>
                        <span class="stat-value" id="processing_time">0ms</span>
                    </div>
                </div>
                <div class="form-group">
                    <label data-i18n="result_css">å¤„ç†åçš„CSS</label>
                    <textarea id="result_css" readonly class="focus:ring-2 focus:ring-green-500 outline-none bg-gray-50 text-gray-700 font-mono text-sm" placeholder="å¤„ç†åçš„CSSå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
                </div>
                <button onclick="CssMinifier.copyResult()" class="w-full mt-2 bg-blue-600 text-white py-3 rounded font-medium hover:bg-blue-700 transition shadow-md" data-i18n="btn_copy">å¤åˆ¶ç»“æœ</button>
            </div>

            <!-- History -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="recent_processing">æœ€è¿‘å¤„ç†</h3>
                <div id="processing_history" class="p-4 bg-gray-50 rounded border border-gray-100 min-h-[60px]">
                    <p data-i18n="no_history" class="text-gray-400 italic text-sm">æš‚æ— å¤„ç†è®°å½•</p>
                </div>
            </div>

            <!-- Intro -->
            <div class="intro-section">
                <h3 class="text-lg font-semibold mb-2 text-gray-800" data-i18n="intro_title">å…³äºæœ¬å·¥å…·</h3>
                <p data-i18n="intro_text">æœ¬å·¥å…·å¯å‹ç¼©ä¼˜åŒ–CSSä»£ç ï¼Œé€šè¿‡ç§»é™¤ç©ºæ ¼ã€æ³¨é‡Šå’Œç®€åŒ–é€‰æ‹©å™¨ç­‰æ–¹å¼å‡å°æ–‡ä»¶ä½“ç§¯ï¼Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚æ”¯æŒä¸åŒå‹ç¼©çº§åˆ«å’Œæ³¨é‡Šä¿ç•™é€‰é¡¹ï¼ŒåŒæ—¶æä¾›ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ã€‚é€‚ç”¨äºå‰ç«¯å¼€å‘è€…ã€ç½‘ç«™ä¼˜åŒ–äººå‘˜å’Œéœ€è¦å‡å°CSSæ–‡ä»¶å¤§å°çš„ç”¨æˆ·ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        const CssMinifier = {
            i18n: {
                'en': {
                    title: 'ğŸ¨ CSS Minifier',
                    input_css: 'Input CSS Code',
                    options: 'Minification Options',
                    compression_level: 'Compression Level',
                    normal: 'Normal',
                    aggressive: 'Aggressive',
                    beautify: 'Beautify (No Compression)',
                    preserve_comments: 'Preserve Comments',
                    no_comments: 'No Comments',
                    important_comments: 'Important Comments Only',
                    all_comments: 'All Comments',
                    important_note: 'Important comments start with /*!',
                    btn_minify: 'Minify CSS',
                    btn_clear: 'Clear All',
                    results: 'Processing Results',
                    original_size: 'Original Size (B)',
                    minified_size: 'Minified Size (B)',
                    savings: 'Savings',
                    processing_time: 'Processing Time:',
                    result_css: 'Processed CSS',
                    btn_copy: 'Copy Result',
                    intro_title: 'About This Tool',
                    intro_text: 'This tool compresses and optimizes CSS code by removing spaces, comments, and simplifying selectors to reduce file size and improve webpage loading speed. It supports different compression levels and comment preservation options, and also provides code formatting functionality. Suitable for front-end developers, website optimizers, and users needing to reduce CSS file size.',
                    recent_processing: 'Recent Processing',
                    no_history: 'No processing history yet',
                    please_enter_css: 'Please enter some CSS code first',
                    copied: 'Copied!'
                },
                'zh-CN': {
                    title: 'ğŸ¨ CSSå‹ç¼©å·¥å…·',
                    input_css: 'è¾“å…¥CSSä»£ç ',
                    options: 'å‹ç¼©é€‰é¡¹',
                    compression_level: 'å‹ç¼©çº§åˆ«',
                    normal: 'æ™®é€šå‹ç¼©',
                    aggressive: 'æ·±åº¦å‹ç¼©',
                    beautify: 'æ ¼å¼åŒ–ï¼ˆä¸å‹ç¼©ï¼‰',
                    preserve_comments: 'ä¿ç•™æ³¨é‡Š',
                    no_comments: 'ä¸ä¿ç•™',
                    important_comments: 'ä»…ä¿ç•™é‡è¦æ³¨é‡Š',
                    all_comments: 'ä¿ç•™æ‰€æœ‰æ³¨é‡Š',
                    important_note: 'é‡è¦æ³¨é‡ŠæŒ‡ä»¥ /*! å¼€å¤´çš„æ³¨é‡Š',
                    btn_minify: 'å‹ç¼©CSS',
                    btn_clear: 'æ¸…ç©ºæ‰€æœ‰',
                    results: 'å¤„ç†ç»“æœ',
                    original_size: 'åŸå§‹å¤§å° (B)',
                    minified_size: 'å‹ç¼©åå¤§å° (B)',
                    savings: 'èŠ‚çœæ¯”ä¾‹',
                    processing_time: 'å¤„ç†è€—æ—¶ï¼š',
                    result_css: 'å¤„ç†åçš„CSS',
                    btn_copy: 'å¤åˆ¶ç»“æœ',
                    intro_title: 'å…³äºæœ¬å·¥å…·',
                    intro_text: 'æœ¬å·¥å…·å¯å‹ç¼©ä¼˜åŒ–CSSä»£ç ï¼Œé€šè¿‡ç§»é™¤ç©ºæ ¼ã€æ³¨é‡Šå’Œç®€åŒ–é€‰æ‹©å™¨ç­‰æ–¹å¼å‡å°æ–‡ä»¶ä½“ç§¯ï¼Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚æ”¯æŒä¸åŒå‹ç¼©çº§åˆ«å’Œæ³¨é‡Šä¿ç•™é€‰é¡¹ï¼ŒåŒæ—¶æä¾›ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ã€‚é€‚ç”¨äºå‰ç«¯å¼€å‘è€…ã€ç½‘ç«™ä¼˜åŒ–äººå‘˜å’Œéœ€è¦å‡å°CSSæ–‡ä»¶å¤§å°çš„ç”¨æˆ·ã€‚',
                    recent_processing: 'æœ€è¿‘å¤„ç†',
                    no_history: 'æš‚æ— å¤„ç†è®°å½•',
                    please_enter_css: 'è¯·å…ˆè¾“å…¥CSSä»£ç ',
                    copied: 'å·²å¤åˆ¶ï¼'
                },
                'zh-TW': {
                    title: 'ğŸ¨ CSSå£“ç¸®å·¥å…·',
                    input_css: 'è¼¸å…¥CSSä»£ç¢¼',
                    options: 'å£“ç¸®é¸é …',
                    compression_level: 'å£“ç¸®ç´šåˆ¥',
                    normal: 'æ™®é€šå£“ç¸®',
                    aggressive: 'æ·±åº¦å£“ç¸®',
                    beautify: 'æ ¼å¼åŒ–ï¼ˆä¸å£“ç¸®ï¼‰',
                    preserve_comments: 'ä¿ç•™è¨»é‡‹',
                    no_comments: 'ä¸ä¿ç•™',
                    important_comments: 'åƒ…ä¿ç•™é‡è¦è¨»é‡‹',
                    all_comments: 'ä¿ç•™æ‰€æœ‰è¨»é‡‹',
                    important_note: 'é‡è¦è¨»é‡‹æŒ‡ä»¥ /*! é–‹é ­çš„è¨»é‡‹',
                    btn_minify: 'å£“ç¸®CSS',
                    btn_clear: 'æ¸…ç©ºæ‰€æœ‰',
                    results: 'è™•ç†çµæœ',
                    original_size: 'åŸå§‹å¤§å° (B)',
                    minified_size: 'å£“ç¸®å¾Œå¤§å° (B)',
                    savings: 'ç¯€çœæ¯”ä¾‹',
                    processing_time: 'è™•ç†è€—æ™‚ï¼š',
                    result_css: 'è™•ç†å¾Œçš„CSS',
                    btn_copy: 'è¤‡è£½çµæœ',
                    intro_title: 'é—œæ–¼æœ¬å·¥å…·',
                    intro_text: 'æœ¬å·¥å…·å¯å£“ç¸®å„ªåŒ–CSSä»£ç¢¼ï¼Œé€šéç§»é™¤ç©ºæ ¼ã€è¨»é‡‹å’Œç°¡åŒ–é¸æ“‡å™¨ç­‰æ–¹å¼æ¸›å°æ–‡ä»¶é«”ç©ï¼Œæé«˜ç¶²é åŠ è¼‰é€Ÿåº¦ã€‚æ”¯æŒä¸åŒå£“ç¸®ç´šåˆ¥å’Œè¨»é‡‹ä¿ç•™é¸é …ï¼ŒåŒæ™‚æä¾›ä»£ç¢¼æ ¼å¼åŒ–åŠŸèƒ½ã€‚é©ç”¨æ–¼å‰ç«¯é–‹ç™¼è€…ã€ç¶²ç«™å„ªåŒ–äººå“¡å’Œéœ€è¦æ¸›å°CSSæ–‡ä»¶å¤§å°çš„ç”¨æˆ¶ã€‚',
                    recent_processing: 'æœ€è¿‘è™•ç†',
                    no_history: 'æš«ç„¡è™•ç†è¨˜éŒ„',
                    please_enter_css: 'è«‹å…ˆè¼¸å…¥CSSä»£ç¢¼',
                    copied: 'å·²è¤‡è£½ï¼'
                },
                'ja': {
                    title: 'ğŸ¨ CSSãƒŸãƒ‹ãƒ•ã‚¡ã‚¤ã‚¢',
                    input_css: 'CSSã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›',
                    options: 'åœ§ç¸®ã‚ªãƒ—ã‚·ãƒ§ãƒ³',
                    compression_level: 'åœ§ç¸®ãƒ¬ãƒ™ãƒ«',
                    normal: 'é€šå¸¸åœ§ç¸®',
                    aggressive: 'å¼·åŠ›åœ§ç¸®',
                    beautify: 'ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆåœ§ç¸®ãªã—ï¼‰',
                    preserve_comments: 'ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¿æŒ',
                    no_comments: 'ä¿æŒã—ãªã„',
                    important_comments: 'é‡è¦ãªã‚³ãƒ¡ãƒ³ãƒˆã®ã¿',
                    all_comments: 'ã™ã¹ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¿æŒ',
                    important_note: 'é‡è¦ãªã‚³ãƒ¡ãƒ³ãƒˆã¯ /*! ã§å§‹ã¾ã‚Šã¾ã™',
                    btn_minify: 'CSSã‚’åœ§ç¸®',
                    btn_clear: 'ã™ã¹ã¦ã‚¯ãƒªã‚¢',
                    results: 'å‡¦ç†çµæœ',
                    original_size: 'å…ƒã®ã‚µã‚¤ã‚º (B)',
                    minified_size: 'åœ§ç¸®å¾Œã®ã‚µã‚¤ã‚º (B)',
                    savings: 'ç¯€ç´„ç‡',
                    processing_time: 'å‡¦ç†æ™‚é–“ï¼š',
                    result_css: 'å‡¦ç†å¾Œã®CSS',
                    btn_copy: 'çµæœã‚’ã‚³ãƒ”ãƒ¼',
                    intro_title: 'ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦',
                    intro_text: 'ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã€ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ç°¡ç•¥åŒ–ã™ã‚‹ã“ã¨ã§CSSã‚³ãƒ¼ãƒ‰ã‚’åœ§ç¸®ãŠã‚ˆã³æœ€é©åŒ–ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ã—ã¦Webãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿é€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚ã•ã¾ã–ã¾ãªåœ§ç¸®ãƒ¬ãƒ™ãƒ«ã¨ã‚³ãƒ¡ãƒ³ãƒˆä¿æŒã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã€ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½ã‚‚æä¾›ã—ã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã€Webã‚µã‚¤ãƒˆæœ€é©åŒ–æ‹…å½“è€…ã€CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©ã—ã¦ã„ã¾ã™ã€‚',
                    recent_processing: 'æœ€è¿‘ã®å‡¦ç†',
                    no_history: 'å‡¦ç†å±¥æ­´ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“',
                    please_enter_css: 'ã¾ãšCSSã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    copied: 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼'
                },
                'ru': {
                    title: 'ğŸ¨ ĞœĞ¸Ğ½Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ CSS',
                    input_css: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ CSS-ĞºĞ¾Ğ´',
                    options: 'ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¼Ğ¸Ğ½Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸',
                    compression_level: 'Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ ÑĞ¶Ğ°Ñ‚Ğ¸Ñ',
                    normal: 'ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ',
                    aggressive: 'ĞĞ³Ñ€ĞµÑÑĞ¸Ğ²Ğ½Ğ¾Ğµ ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ',
                    beautify: 'Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ±ĞµĞ· ÑĞ¶Ğ°Ñ‚Ğ¸Ñ)',
                    preserve_comments: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑŒ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸',
                    no_comments: 'ĞĞµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑŒ',
                    important_comments: 'Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸',
                    all_comments: 'Ğ’ÑĞµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸',
                    important_note: 'Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‚ÑÑ Ñ /*!',
                    btn_minify: 'Ğ¡Ğ¶Ğ°Ñ‚ÑŒ CSS',
                    btn_clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ',
                    results: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸',
                    original_size: 'ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ (B)',
                    minified_size: 'Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¶Ğ°Ñ‚Ğ¸Ñ (B)',
                    savings: 'Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ',
                    processing_time: 'Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸:',
                    result_css: 'ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¹ CSS',
                    btn_copy: 'Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    intro_title: 'Ğ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğµ',
                    intro_text: 'Ğ­Ñ‚Ğ¾Ñ‚ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ¸ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ CSS-ĞºĞ¾Ğ´, ÑƒĞ´Ğ°Ğ»ÑÑ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ñ‹, ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ ÑƒĞ¿Ñ€Ğ¾Ñ‰Ğ°Ñ ÑĞµĞ»ĞµĞºÑ‚Ğ¾Ñ€Ñ‹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚ÑŒ Ğ¾Ğ±ÑŠĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ²ĞµĞ±-ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑƒÑ€Ğ¾Ğ²Ğ½Ğ¸ ÑĞ¶Ğ°Ñ‚Ğ¸Ñ Ğ¸ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ĞµĞ², Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°. ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´-Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ², ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚Ğ¾Ğ² Ğ¿Ğ¾ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞ°Ğ¹Ñ‚Ğ¾Ğ² Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ CSS-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ².',
                    recent_processing: 'ĞĞµĞ´Ğ°Ğ²Ğ½ÑÑ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°',
                    no_history: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚',
                    please_enter_css: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ CSS-ĞºĞ¾Ğ´',
                    copied: 'Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!'
                }
            },

            init: function() {
                // ä»URLè·å–è¯­è¨€å‚æ•°
                const urlParams = new URLSearchParams(window.location.search);
                const lang = urlParams.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                }
                this.changeLang();
            },

            changeLang: function() {
                const lang = document.getElementById('lang-selector').value;
                // æ›´æ–°URLå‚æ•°
                const urlParams = new URLSearchParams(window.location.search);
                urlParams.set('lang', lang);
                window.history.replaceState(null, '', `${window.location.pathname}?${urlParams}`);
                
                // æ›´æ–°é¡µé¢æ–‡æœ¬
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                        if (el.tagName === 'INPUT' && el.getAttribute('placeholder')) {
                            el.setAttribute('placeholder', this.i18n[lang][key]);
                        }
                    }
                });
                document.title = this.i18n[lang].title;
            },

            minify: function() {
                const cssCode = document.getElementById('input_css').value.trim();
                const compressionLevel = document.getElementById('compression_level').value;
                const preserveComments = document.getElementById('preserve_comments').value;
                const lang = document.getElementById('lang-selector').value;
                
                if (!cssCode) {
                    alert(this.i18n[lang].please_enter_css);
                    return;
                }

                const startTime = performance.now();
                let result = '';

                // è®¡ç®—åŸå§‹å¤§å°
                const originalSize = new Blob([cssCode]).size;
                
                // æ ¹æ®é€‰é¡¹å¤„ç†CSS
                if (compressionLevel === 'beautify') {
                    result = this.beautifyCss(cssCode, preserveComments);
                } else if (compressionLevel === 'aggressive') {
                    result = this.aggressiveMinify(cssCode, preserveComments);
                } else {
                    result = this.normalMinify(cssCode, preserveComments);
                }

                const endTime = performance.now();
                const timeTaken = Math.round(endTime - startTime);
                const minifiedSize = new Blob([result]).size;
                const savings = Math.round((1 - minifiedSize / originalSize) * 100);

                // æ›´æ–°ç»“æœæ˜¾ç¤º
                document.getElementById('result_css').value = result;
                document.getElementById('original_size').textContent = originalSize;
                document.getElementById('minified_size').textContent = minifiedSize;
                document.getElementById('savings').textContent = savings + '%';
                document.getElementById('processing_time').textContent = timeTaken + 'ms';

                this.addToHistory(originalSize, minifiedSize, savings);
            },

            // æ™®é€šå‹ç¼©
            normalMinify: function(css, preserveComments) {
                let result = css;
                
                // å¤„ç†æ³¨é‡Š
                if (preserveComments === 'none') {
                    result = result.replace(/\/\*[\s\S]*?\*\//g, '');
                } else if (preserveComments === 'important') {
                    // åªä¿ç•™ /*! å¼€å¤´çš„æ³¨é‡Š
                    result = result.replace(/\/\*(?!!)[\s\S]*?\*\//g, '');
                }
                
                // ç§»é™¤å¤šä½™ç©ºæ ¼å’Œæ¢è¡Œ
                result = result.replace(/\s*{\s*/g, '{');
                result = result.replace(/\s*}\s*/g, '}');
                result = result.replace(/\s*;\s*/g, ';');
                result = result.replace(/\s*:\s*/g, ':');
                result = result.replace(/\s*,\s*/g, ',');
                result = result.replace(/\n+/g, '');
                result = result.replace(/\s+/g, ' ');
                
                return result.trim();
            },

            // æ·±åº¦å‹ç¼©
            aggressiveMinify: function(css, preserveComments) {
                let result = this.normalMinify(css, preserveComments);
                
                // æ›´å¤šå‹ç¼©ä¼˜åŒ–
                result = result.replace(/;\}/g, '}'); // ç§»é™¤æœ€åä¸€ä¸ªåˆ†å·
                result = result.replace(/0px/g, '0'); // ç®€åŒ–0pxä¸º0
                result = result.replace(/0em/g, '0');
                result = result.replace(/0rem/g, '0');
                result = result.replace(/0%/g, '0');
                result = result.replace(/:0 0 0 0;/g, ':0;'); // ç®€åŒ–å¤šé‡0å€¼
                result = result.replace(/#([a-f0-9])\1([a-f0-9])\2([a-f0-9])\3\b/gi, '#$1$2$3'); // ç®€åŒ–6ä½åå…­è¿›åˆ¶é¢œè‰²ä¸º3ä½
                
                return result;
            },

            // æ ¼å¼åŒ–CSSï¼ˆä¸å‹ç¼©ï¼‰
            beautifyCss: function(css, preserveComments) {
                let result = css;
                
                // å¤„ç†æ³¨é‡Šï¼ˆå¦‚æœéœ€è¦ç§»é™¤ï¼‰
                if (preserveComments === 'none') {
                    result = result.replace(/\/\*[\s\S]*?\*\//g, '');
                } else if (preserveComments === 'important') {
                    result = result.replace(/\/\*(?!!)[\s\S]*?\*\//g, '');
                }
                
                // æ ¼å¼åŒ–
                result = result.replace(/\s+/g, ' ');
                result = result.replace(/{/g, ' {\n  ');
                result = result.replace(/}/g, '\n}\n');
                result = result.replace(/;/g, ';\n  ');
                result = result.replace(/,/g, ', ');
                result = result.replace(/\s*:\s*/g, ': ');
                
                // æ¸…ç†å¤šä½™ç©ºè¡Œ
                result = result.replace(/\n+/g, '\n');
                result = result.replace(/\n\s+\n/g, '\n');
                
                return result.trim();
            },

            copyResult: function() {
                const resultCss = document.getElementById('result_css');
                resultCss.select();
                document.execCommand('copy');
                
                const lang = document.getElementById('lang-selector').value;
                const originalText = resultCss.value;
                resultCss.value = this.i18n[lang].copied;
                
                setTimeout(() => {
                    resultCss.value = originalText;
                }, 2000);
            },

            clearAll: function() {
                document.getElementById('input_css').value = '';
                document.getElementById('result_css').value = '';
                document.getElementById('original_size').textContent = '0';
                document.getElementById('minified_size').textContent = '0';
                document.getElementById('savings').textContent = '0%';
                document.getElementById('processing_time').textContent = '0ms';
            },

            addToHistory: function(originalSize, minifiedSize, savings) {
                const historyContainer = document.getElementById('processing_history');
                const lang = document.getElementById('lang-selector').value;
                
                // ç§»é™¤"æš‚æ— è®°å½•"æç¤º
                if (historyContainer.querySelector('[data-i18n="no_history"]')) {
                    historyContainer.innerHTML = '';
                }

                const historyItem = document.createElement('div');
                historyItem.className = 'mb-2 p-2 bg-white rounded border border-gray-100 hover:bg-gray-50';
                historyItem.innerHTML = `
                    <div class="text-sm">
                        <span data-i18n="original_size">åŸå§‹å¤§å°</span>: ${originalSize}B â†’ 
                        <span data-i18n="minified_size">å‹ç¼©å</span>: ${minifiedSize}B (
                        <span data-i18n="savings">èŠ‚çœ</span>: ${savings}%)
                    </div>
                `;

                // æ›´æ–°å†å²é¡¹ç›®ä¸­çš„å›½é™…åŒ–æ–‡æœ¬
                historyItem.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    el.textContent = this.i18n[lang][key];
                });

                historyContainer.prepend(historyItem);

                // é™åˆ¶å†å²è®°å½•æ•°é‡
                if (historyContainer.children.length > 5) {
                    historyContainer.removeChild(historyContainer.lastChild);
                }
            }
        };

        // åˆå§‹åŒ–å·¥å…·
        document.addEventListener('DOMContentLoaded', () => {
            CssMinifier.init();
        });
    </script>
</body>
</html>