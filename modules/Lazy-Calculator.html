<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="income_calc">
    <meta name="category" content="finance">
    <meta name="icon" content="üí∞">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Income Calculator">
    <meta name="description" content="Calculate your income and see how much you earn over time.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="Á™ùÁÉÇË¥πËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="ËÆ°ÁÆóÊÇ®ÁöÑÊî∂ÂÖ•Âπ∂Êü•ÁúãÊÇ®ÈöèÊó∂Èó¥ËµöÂèñÁöÑÈáëÈ¢ù„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Êî∂ÂÖ•Ë®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="Ë®àÁÆóÊÇ®ÁöÑÊî∂ÂÖ•‰∏¶Êü•ÁúãÊÇ®Èö®ÊôÇÈñìË≥∫ÂèñÁöÑÈáëÈ°ç„ÄÇ">
    
    <meta name="lang-title-ja" content="ÂèéÂÖ•Ë®àÁÆó„ÉÑ„Éº„É´">
    <meta name="lang-description-ja" content="ÂèéÂÖ•„ÇíË®àÁÆó„Åó„ÄÅÊôÇÈñìÁµåÈÅé„Å®„Å®„ÇÇ„Å´„Å©„Çå„Å†„ÅëÁ®º„ÅÑ„Åß„ÅÑ„Çã„Åã„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–æ–≤">
    <meta name="lang-description-ru" content="–í—ã—á–∏—Å–ª–∏—Ç–µ –≤–∞—à –¥–æ—Ö–æ–¥ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ –≤—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º.">
    
    <meta name="lang-title-es" content="Calculadora de ingresos">
    <meta name="lang-description-es" content="Calcula tus ingresos y ve cu√°nto ganas con el tiempo.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .input-group { margin-bottom: 16px; }
        .result-card { transition: all 0.3s ease; }
        .time-earned { font-size: 0.9rem; color: #666; }
        .purchase-info { background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="income_calc" 
         data-category="finance" 
         data-title="Income Calculator" 
         data-icon="üí∞">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="income-lang" onchange="IncomeCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="es">Espa√±ol</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-6 text-gray-800 border-b pb-2" data-i18n="title">üí∞ Income Calculator</h2>
        
        <div class="space-y-6">
            <!-- ËæìÂÖ•Âå∫Âüü -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="input-group">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="amount_label">Amount</label>
                    <input type="number" id="income-amount" min="0" step="any" value="50000" 
                           class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none">
                </div>
                
                <div class="input-group">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="period_label">Payment Period</label>
                    <select id="income-period" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none">
                        <option value="yearly" data-i18n="period_yearly">Yearly</option>
                        <option value="monthly" data-i18n="period_monthly">Monthly</option>
                        <option value="weekly" data-i18n="period_weekly">Weekly</option>
                        <option value="hourly" data-i18n="period_hourly">Hourly</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="currency_label">Currency</label>
                    <select id="income-currency" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none">
                        <option value="USD">USD ($)</option>
                        <option value="CNY">CNY (¬•)</option>
                        <option value="JPY">JPY (¬•)</option>
                        <option value="RUB">RUB (‚ÇΩ)</option>
                        <option value="EUR">EUR (‚Ç¨)</option>
                        <option value="GBP">GBP (¬£)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="hours_label">Weekly Hours (if hourly)</label>
                    <input type="number" id="weekly-hours" min="1" max="168" value="40" 
                           class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none">
                </div>
            </div>
            
            <button onclick="IncomeCalc.startCalculation()" 
                    class="w-full bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition" 
                    data-i18n="btn_start">Start Calculation</button>
            
            <!-- ÁªìÊûúÂå∫Âüü -->
            <div class="bg-green-50 p-6 rounded-lg border border-green-100 text-center result-card">
                <div class="text-sm text-gray-500 mb-2" data-i18n="current_rate">Current Rate</div>
                <div id="current-rate" class="text-2xl font-bold text-green-800 mb-4">--</div>
                
                <div class="text-sm text-gray-500 mb-2" data-i18n="earned_since">Earned Since Start</div>
                <div id="earned-amount" class="text-3xl font-bold text-green-800 mb-2">--</div>
                
                <!-- ‰øÆÂ§çÈÉ®ÂàÜÔºöÂ∞ÜÊñáÂ≠óÊ†áÁ≠æÂíåÂä®ÊÄÅÊó∂Èó¥Êï∞ÂÄºÂàÜÂºÄÔºåÈÅøÂÖçÊõøÊç¢Â§±Ë¥• -->
                <div class="time-earned">
                    <span data-i18n="time_prefix">Time elapsed: </span>
                    <span id="elapsed-time-value">0s</span>
                </div>
            </div>
            
            <!-- Ë¥≠‰π∞Âäõ‰ø°ÊÅØ -->
            <div class="purchase-info">
                <h3 class="font-medium text-gray-800 mb-2" data-i18n="purchase_title">What can you buy with this income?</h3>
                <ul class="text-sm text-gray-600 space-y-1" id="purchase-items">
                    <li data-i18n="purchase_example1">Example: With an annual income of $50,000, you could buy a new car after about 6 months.</li>
                    <li data-i18n="purchase_example2">Example: This is equivalent to about 4,166 cups of coffee per month.</li>
                    <li data-i18n="purchase_example3">Example: You could afford a nice dinner out about 166 times per month.</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const IncomeCalc = {
            startTime: null,
            timer: null,
            hourlyRate: 0,
            currencySymbols: {
                'USD': '$',
                'CNY': '¬•',
                'JPY': '¬•',
                'RUB': '‚ÇΩ',
                'EUR': '‚Ç¨',
                'GBP': '¬£'
            },
            
            i18n: {
                'en': {
                    title: 'üí∞ Income Calculator',
                    amount_label: 'Amount',
                    period_label: 'Payment Period',
                    period_yearly: 'Yearly',
                    period_monthly: 'Monthly',
                    period_weekly: 'Weekly',
                    period_hourly: 'Hourly',
                    currency_label: 'Currency',
                    hours_label: 'Weekly Hours (if hourly)',
                    btn_start: 'Start Calculation',
                    current_rate: 'Current Rate',
                    earned_since: 'Earned Since Start',
                    time_prefix: 'Time elapsed: ', // ÁßªÈô§‰∫Ü '0s'
                    purchase_title: 'What can you buy with this income?',
                    purchase_example1: 'Example: With an annual income of $50,000, you could buy a new car after about 6 months.',
                    purchase_example2: 'Example: This is equivalent to about 4,166 cups of coffee per month.',
                    purchase_example3: 'Example: You could afford a nice dinner out about 166 times per month.',
                    per_hour: 'per hour',
                    per_minute: 'per minute',
                    per_second: 'per second'
                },
                'zh-CN': {
                    title: 'üí∞ Á™ùÁÉÇË¥πËÆ°ÁÆóÂô®',
                    amount_label: 'ÈáëÈ¢ù',
                    period_label: 'ÊîØ‰ªòÂë®Êúü',
                    period_yearly: 'Âπ¥Ëñ™',
                    period_monthly: 'ÊúàËñ™',
                    period_weekly: 'Âë®Ëñ™',
                    period_hourly: 'Êó∂Ëñ™',
                    currency_label: 'Ë¥ßÂ∏ÅÂçï‰Ωç',
                    hours_label: 'ÊØèÂë®Â∑•‰ΩúÂ∞èÊó∂Êï∞ÔºàÂ¶ÇÊûúÊòØÊó∂Ëñ™Ôºâ',
                    btn_start: 'ÂºÄÂßãËÆ°ÁÆó',
                    current_rate: 'ÂΩìÂâçÈÄüÁéá',
                    earned_since: 'Ëá™ÂºÄÂßã‰ª•Êù•ËµöÂèñ',
                    time_prefix: 'Â∑≤ËøáÂéªÊó∂Èó¥Ôºö', // ÁßªÈô§‰∫Ü '0Áßí'
                    purchase_title: 'Ëøô‰∏™Êî∂ÂÖ•ÂèØ‰ª•‰π∞‰ªÄ‰πàÔºü',
                    purchase_example1: 'Á§∫‰æãÔºöÂπ¥Ëñ™50,000ÂÖÉÔºåÂ§ßÁ∫¶6‰∏™ÊúàÂêéÂèØ‰ª•‰π∞‰∏ÄËæÜÊñ∞ËΩ¶„ÄÇ',
                    purchase_example2: 'Á§∫‰æãÔºöËøôÁõ∏ÂΩì‰∫éÊØèÊúàÁ∫¶4,166ÊùØÂíñÂï°„ÄÇ',
                    purchase_example3: 'Á§∫‰æãÔºöÊØèÊúàÂèØ‰ª•Ë¥üÊãÖÁ∫¶166Ê¨°‰∏çÈîôÁöÑÂ§ñÂá∫ÊôöÈ§ê„ÄÇ',
                    per_hour: 'ÊØèÂ∞èÊó∂',
                    per_minute: 'ÊØèÂàÜÈíü',
                    per_second: 'ÊØèÁßí'
                },
                'zh-TW': {
                    title: 'üí∞ Êî∂ÂÖ•Ë®àÁÆóÂô®',
                    amount_label: 'ÈáëÈ°ç',
                    period_label: 'ÊîØ‰ªòÂë®Êúü',
                    period_yearly: 'Âπ¥Ëñ™',
                    period_monthly: 'ÊúàËñ™',
                    period_weekly: 'Âë®Ëñ™',
                    period_hourly: 'ÊôÇËñ™',
                    currency_label: 'Ë≤®Âπ£ÂñÆ‰Ωç',
                    hours_label: 'ÊØèÂë®Â∑•‰ΩúÂ∞èÊôÇÊï∏ÔºàÂ¶ÇÊûúÊòØÊôÇËñ™Ôºâ',
                    btn_start: 'ÈñãÂßãË®àÁÆó',
                    current_rate: 'Áï∂ÂâçÈÄüÁéá',
                    earned_since: 'Ëá™ÈñãÂßã‰ª•‰æÜË≥∫Âèñ',
                    time_prefix: 'Â∑≤ÈÅéÂéªÊôÇÈñìÔºö', // ÁßªÈô§‰∫Ü '0Áßí'
                    purchase_title: 'ÈÄôÂÄãÊî∂ÂÖ•ÂèØ‰ª•Ë≤∑‰ªÄÈ∫ºÔºü',
                    purchase_example1: 'Á§∫‰æãÔºöÂπ¥Ëñ™50,000ÂÖÉÔºåÂ§ßÁ¥Ñ6ÂÄãÊúàÂæåÂèØ‰ª•Ë≤∑‰∏ÄËºõÊñ∞Ëªä„ÄÇ',
                    purchase_example2: 'Á§∫‰æãÔºöÈÄôÁõ∏Áï∂ÊñºÊØèÊúàÁ¥Ñ4,166ÊùØÂíñÂï°„ÄÇ',
                    purchase_example3: 'Á§∫‰æãÔºöÊØèÊúàÂèØ‰ª•Ë≤†ÊìîÁ¥Ñ166Ê¨°‰∏çÈåØÁöÑÂ§ñÂá∫ÊôöÈ§ê„ÄÇ',
                    per_hour: 'ÊØèÂ∞èÊôÇ',
                    per_minute: 'ÊØèÂàÜÈêò',
                    per_second: 'ÊØèÁßí'
                },
                'ja': {
                    title: 'üí∞ ÂèéÂÖ•Ë®àÁÆó„ÉÑ„Éº„É´',
                    amount_label: 'ÈáëÈ°ç',
                    period_label: 'ÊîØÊâï„ÅÑÊúüÈñì',
                    period_yearly: 'Âπ¥Âèé',
                    period_monthly: 'ÊúàÂèé',
                    period_weekly: 'ÈÄ±Âèé',
                    period_hourly: 'ÊôÇÁµ¶',
                    currency_label: 'ÈÄöË≤®Âçò‰Ωç',
                    hours_label: 'ÈÄ±ÂΩì„Åü„Çä„ÅÆÂä¥ÂÉçÊôÇÈñìÔºàÊôÇÁµ¶„ÅÆÂ†¥ÂêàÔºâ',
                    btn_start: 'Ë®àÁÆó„ÇíÈñãÂßã',
                    current_rate: 'ÁèæÂú®„ÅÆ„É¨„Éº„Éà',
                    earned_since: 'ÈñãÂßã‰ª•Êù•„ÅÆÂèéÂÖ•',
                    time_prefix: 'ÁµåÈÅéÊôÇÈñìÔºö', // ÁßªÈô§‰∫Ü '0Áßí'
                    purchase_title: '„Åì„ÅÆÂèéÂÖ•„Åß‰Ωï„ÅåË≤∑„Åà„Åæ„Åô„ÅãÔºü',
                    purchase_example1: '‰æãÔºöÂπ¥Âèé50,000ÂÜÜ„ÅÆÂ†¥Âêà„ÄÅÁ¥Ñ6„ÅãÊúà„ÅßÊñ∞Ëªä„ÇíË≥ºÂÖ•„Åß„Åç„Åæ„Åô„ÄÇ',
                    purchase_example2: '‰æãÔºö„Åì„Çå„ÅØÊúà„Å´Á¥Ñ4,166ÊùØ„ÅÆ„Ç≥„Éº„Éí„Éº„Å´Áõ∏ÂΩì„Åó„Åæ„Åô„ÄÇ',
                    purchase_example3: '‰æãÔºöÊúà„Å´Á¥Ñ166Âõû„ÄÅ„Åä„ÅÑ„Åó„ÅÑÂ§ñÈ£ü„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ',
                    per_hour: 'ÊØéÊôÇÈñì',
                    per_minute: 'ÊØéÂàÜ',
                    per_second: 'ÊØéÁßí'
                },
                'ru': {
                    title: 'üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–æ–≤',
                    amount_label: '–°—É–º–º–∞',
                    period_label: '–ü–µ—Ä–∏–æ–¥ –æ–ø–ª–∞—Ç—ã',
                    period_yearly: '–ì–æ–¥–æ–≤–æ–π',
                    period_monthly: '–ú–µ—Å—è—á–Ω—ã–π',
                    period_weekly: '–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π',
                    period_hourly: '–ü–æ—á–∞—Å–æ–≤–æ–π',
                    currency_label: '–í–∞–ª—é—Ç–∞',
                    hours_label: '–ß–∞—Å—ã –≤ –Ω–µ–¥–µ–ª—é (–¥–ª—è –ø–æ—á–∞—Å–æ–≤–æ–π –æ–ø–ª–∞—Ç—ã)',
                    btn_start: '–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç',
                    current_rate: '–¢–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ',
                    earned_since: '–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –Ω–∞—á–∞–ª–∞',
                    time_prefix: '–ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è: ', // ÁßªÈô§‰∫Ü '0—Å'
                    purchase_title: '–ß—Ç–æ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å —Å —ç—Ç–∏–º –¥–æ—Ö–æ–¥–æ–º?',
                    purchase_example1: '–ü—Ä–∏–º–µ—Ä: –° –≥–æ–¥–æ–≤—ã–º –¥–æ—Ö–æ–¥–æ–º 50 000 —Ä—É–±–ª–µ–π –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –Ω–æ–≤—É—é –º–∞—à–∏–Ω—É –ø—Ä–∏–º–µ—Ä–Ω–æ —á–µ—Ä–µ–∑ 6 –º–µ—Å—è—Ü–µ–≤.',
                    purchase_example2: '–ü—Ä–∏–º–µ—Ä: –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ 4166 —á–∞—à–µ–∫ –∫–æ—Ñ–µ –≤ –º–µ—Å—è—Ü.',
                    purchase_example3: '–ü—Ä–∏–º–µ—Ä: –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ —Ö–æ—Ä–æ—à–∏–π —É–∂–∏–Ω –≤–Ω–µ –¥–æ–º–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ 166 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü.',
                    per_hour: '–≤ —á–∞—Å',
                    per_minute: '–≤ –º–∏–Ω—É—Ç—É',
                    per_second: '–≤ —Å–µ–∫—É–Ω–¥—É'
                },
                'es': {
                    title: 'üí∞ Calculadora de ingresos',
                    amount_label: 'Cantidad',
                    period_label: 'Periodo de pago',
                    period_yearly: 'Anual',
                    period_monthly: 'Mensual',
                    period_weekly: 'Semanal',
                    period_hourly: 'Por hora',
                    currency_label: 'Moneda',
                    hours_label: 'Horas semanales (si es por hora)',
                    btn_start: 'Iniciar c√°lculo',
                    current_rate: 'Tasa actual',
                    earned_since: 'Ganado desde el inicio',
                    time_prefix: 'Tiempo transcurrido: ', // ÁßªÈô§‰∫Ü '0s'
                    purchase_title: '¬øQu√© puedes comprar con este ingreso?',
                    purchase_example1: 'Ejemplo: Con un ingreso anual de 50.000 USD, podr√≠as comprar un coche nuevo despu√©s deÂ§ßÁ∫¶ 6 meses.',
                    purchase_example2: 'Ejemplo: Esto es equivalente aÂ§ßÁ∫¶ 4.166 tazas de caf√© por mes.',
                    purchase_example3: 'Ejemplo: Podr√≠as permitirte una buena cena fueraÂ§ßÁ∫¶ 166 veces al mes.',
                    per_hour: 'por hora',
                    per_minute: 'por minuto',
                    per_second: 'por segundo'
                }
            },

            init: () => {
                // ÂàùÂßãÂåñÈ°µÈù¢
            },

            calculateHourlyRate: () => {
                const amount = parseFloat(document.getElementById('income-amount').value) || 0;
                const period = document.getElementById('income-period').value;
                const weeklyHours = parseFloat(document.getElementById('weekly-hours').value) || 40;
                
                // Ê†πÊçÆ‰∏çÂêåÂë®ÊúüËÆ°ÁÆóÊó∂Ëñ™
                switch(period) {
                    case 'yearly':
                        // ÊåâÊØèÂπ¥52Âë®ËÆ°ÁÆó
                        return amount / (52 * weeklyHours);
                    case 'monthly':
                        // ÊåâÊØèÊúà4.333Âë®ËÆ°ÁÆó
                        return amount / (4.333 * weeklyHours);
                    case 'weekly':
                        return amount / weeklyHours;
                    case 'hourly':
                    default:
                        return amount;
                }
            },
            
            startCalculation: () => {
                // Ê∏ÖÈô§‰πãÂâçÁöÑËÆ°Êó∂Âô®
                if (IncomeCalc.timer) {
                    clearInterval(IncomeCalc.timer);
                }
                
                // ËÆ°ÁÆóÊó∂Ëñ™
                IncomeCalc.hourlyRate = IncomeCalc.calculateHourlyRate();
                IncomeCalc.startTime = new Date().getTime();
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                IncomeCalc.updateDisplay();
                
                // ËÆæÁΩÆÂÆöÊó∂Âô®ÊØèÁßíÊõ¥Êñ∞
                IncomeCalc.timer = setInterval(IncomeCalc.updateDisplay, 1000);
                
                // Êõ¥Êñ∞Ë¥≠‰π∞Âäõ‰ø°ÊÅØ
                IncomeCalc.updatePurchaseInfo();
            },
            
            updateDisplay: () => {
                const now = new Date().getTime();
                const elapsedSeconds = (now - IncomeCalc.startTime) / 1000;
                const earned = IncomeCalc.hourlyRate * (elapsedSeconds / 3600);
                
                const currency = document.getElementById('income-currency').value;
                const symbol = IncomeCalc.currencySymbols[currency] || currency;
                const lang = document.getElementById('income-lang').value;
                const texts = IncomeCalc.i18n[lang];
                
                // Ê†ºÂºèÂåñÊï∞Â≠óÊòæÁ§∫
                const formatNumber = (num) => {
                    return num.toLocaleString(undefined, { 
                        minimumFractionDigits: 2, 
                        maximumFractionDigits: 2 
                    });
                };
                
                // Êõ¥Êñ∞ÂΩìÂâçÈÄüÁéáÊòæÁ§∫
                const perHour = formatNumber(IncomeCalc.hourlyRate);
                const perMinute = formatNumber(IncomeCalc.hourlyRate / 60);
                const perSecond = formatNumber(IncomeCalc.hourlyRate / 3600);
                
                document.getElementById('current-rate').innerHTML = 
                    `${symbol}${perHour} ${texts.per_hour} / ${symbol}${perMinute} ${texts.per_minute} / ${symbol}${perSecond} ${texts.per_second}`;
                
                // Êõ¥Êñ∞ËµöÂèñÈáëÈ¢ù
                document.getElementById('earned-amount').textContent = `${symbol}${formatNumber(earned)}`;
                
                // Êõ¥Êñ∞ elapsed time
                const seconds = Math.floor(elapsedSeconds);
                const minutes = Math.floor(seconds / 60);
                const hours = Math.floor(minutes / 60);
                
                let timeStr = '';
                if (hours > 0) {
                    timeStr += `${hours}h `;
                }
                if (minutes > 0 || hours > 0) {
                    timeStr += `${minutes % 60}m `;
                }
                timeStr += `${seconds % 60}s`;
                
                // ‰øÆÂ§çÊ†∏ÂøÉÔºöÁõ¥Êé•ËÆæÁΩÆÊï∞ÂÄºÔºå‰∏çÂÜç‰æùËµñ replace
                document.getElementById('elapsed-time-value').textContent = timeStr;
            },
            
            updatePurchaseInfo: () => {
                const amount = parseFloat(document.getElementById('income-amount').value) || 0;
                const period = document.getElementById('income-period').value;
                const currency = document.getElementById('income-currency').value;
                const symbol = IncomeCalc.currencySymbols[currency] || currency;
                const lang = document.getElementById('income-lang').value;
                const texts = IncomeCalc.i18n[lang];
                
                // ËΩ¨Êç¢‰∏∫ÊúàËñ™Áî®‰∫éÁ§∫‰æãËÆ°ÁÆó
                let monthlyIncome;
                switch(period) {
                    case 'yearly':
                        monthlyIncome = amount / 12;
                        break;
                    case 'monthly':
                        monthlyIncome = amount;
                        break;
                    case 'weekly':
                        monthlyIncome = amount * 4.333;
                        break;
                    case 'hourly':
                        const weeklyHours = parseFloat(document.getElementById('weekly-hours').value) || 40;
                        monthlyIncome = amount * weeklyHours * 4.333;
                        break;
                }
                
                // Ê†ºÂºèÂåñÊï∞Â≠ó
                const format = (num) => num.toLocaleString(undefined, { maximumFractionDigits: 0 });
                
                // Êõ¥Êñ∞Á§∫‰æãÊñáÊú¨
                const examples = document.querySelectorAll('#purchase-items li');
                examples[0].textContent = texts.purchase_example1
                    .replace('50,000', format(amount))
                    .replace('$', symbol);
                
                // ÂíñÂï°ÊùØÊï∞ (ÂÅáËÆæÊØèÊùØ5Âçï‰ΩçË¥ßÂ∏Å)
                const coffeeCups = Math.round(monthlyIncome / 5);
                examples[1].textContent = texts.purchase_example2
                    .replace('4,166', format(coffeeCups))
                    .replace('$', symbol);
                
                // ÊôöÈ§êÊ¨°Êï∞ (ÂÅáËÆæÊØèÊ¨°30Âçï‰ΩçË¥ßÂ∏Å)
                const dinners = Math.round(monthlyIncome / 30);
                examples[2].textContent = texts.purchase_example3
                    .replace('166', format(dinners))
                    .replace('$', symbol);
            },

            changeLang: () => {
                const lang = document.getElementById('income-lang').value;
                const texts = IncomeCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="income_calc"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        el.innerText = texts[key];
                    }
                });
                
                // Êõ¥Êñ∞‰∏ãÊãâÈÄâÈ°πÊñáÊú¨
                Object.keys(texts).forEach(key => {
                    if (key.startsWith('period_')) {
                        const option = document.querySelector(`option[value="${key.replace('period_', '')}"]`);
                        if (option) option.innerText = texts[key];
                    }
                });
                
                // Â¶ÇÊûúÊ≠£Âú®ËÆ°ÁÆó‰∏≠ÔºåÊõ¥Êñ∞ÊòæÁ§∫
                if (IncomeCalc.timer) {
                    IncomeCalc.updateDisplay();
                    IncomeCalc.updatePurchaseInfo();
                }
            }
        };

        document.addEventListener('DOMContentLoaded', IncomeCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            } else if (userLang.startsWith('es')) {
                targetLang = 'es';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('income-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    IncomeCalc.changeLang();
                }
            }
        });
    </script>

</body>
</html>