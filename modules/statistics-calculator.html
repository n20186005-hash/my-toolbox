<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="statistics_calculator">
    <meta name="category" content="statistics">
    <meta name="icon" content="ğŸ“Š">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Statistics Calculator">
    <meta name="description" content="Calculate basic statistical measures like mean, median, mode, standard deviation and more.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ç»Ÿè®¡è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—åŸºæœ¬ç»Ÿè®¡é‡ï¼Œå¦‚å¹³å‡å€¼ã€ä¸­ä½æ•°ã€ä¼—æ•°ã€æ ‡å‡†å·®ç­‰ã€‚">
    
    <meta name="lang-title-zh-TW" content="çµ±è¨ˆè¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—åŸºæœ¬çµ±è¨ˆé‡ï¼Œå¦‚å¹³å‡å€¼ã€ä¸­ä½æ•¸ã€çœ¾æ•¸ã€æ¨™æº–å·®ç­‰ã€‚">
    
    <meta name="lang-title-ja" content="çµ±è¨ˆè¨ˆç®—æ©Ÿ">
    <meta name="lang-description-ja" content="å¹³å‡ã€ä¸­å¤®å€¤ã€æœ€é »å€¤ã€æ¨™æº–åå·®ãªã©ã®åŸºæœ¬çš„ãªçµ±è¨ˆé‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸, Ñ‚Ğ°ĞºĞ¸Ğµ ĞºĞ°Ğº ÑÑ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ, Ğ¼ĞµĞ´Ğ¸Ğ°Ğ½Ğ°, Ğ¼Ğ¾Ğ´Ğ°, ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-area { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; margin-top: 15px; }
        .stat-item { background: white; padding: 10px; border-radius: 4px; }
        .stat-label { font-weight: 500; font-size: 0.9rem; }
        .stat-value { font-size: 1.1rem; margin-top: 4px; }
        textarea, button { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        textarea { min-height: 100px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="statistics_calculator" 
         data-category="statistics" 
         data-title="Statistics Calculator" 
         data-icon="ğŸ“Š">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="stats-lang" onchange="StatisticsCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“Š Statistics Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- è¾“å…¥åŒºåŸŸ -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="enter_data">Enter data set (numbers separated by commas or spaces)</label>
                <textarea id="data-set" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 1, 2, 3, 4, 5 or 1 2 3 4 5"></textarea>
                <p class="text-xs text-gray-500 mt-1" data-i18n="example">Example: 12, 15, 18, 22, 19, 15, 25</p>
            </div>
            
            <!-- ç²¾åº¦é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="precision">Precision (decimal places)</label>
                <input type="number" id="stats-precision" min="0" max="6" value="2" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="StatisticsCalculator.clearData()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="StatisticsCalculator.calculateStats()" class="flex-1 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="stats-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="stats-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="results">Statistics Results</div>
            <div class="result-area">
                <div class="stats-grid" id="stats-values">
                    <!-- ç»Ÿè®¡ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="stats_explanation">This calculator computes the following statistical measures:</p>
            <ul class="list-disc list-inside mt-2 space-y-1">
                <li data-i18n="mean_expl">Mean - The average of the numbers</li>
                <li data-i18n="median_expl">Median - The middle value when numbers are sorted</li>
                <li data-i18n="mode_expl">Mode - The most frequently occurring number</li>
                <li data-i18n="range_expl">Range - The difference between the maximum and minimum values</li>
                <li data-i18n="variance_expl">Variance - Measures how far each number in the set is from the mean</li>
                <li data-i18n="std_dev_expl">Standard Deviation - The square root of the variance</li>
            </ul>
        </div>
    </div>

    <script>
        const StatisticsCalculator = {
            // è§£ææ•°æ®
            parseData: function(input) {
                // ç§»é™¤æ‰€æœ‰é€—å·ï¼Œç„¶åæŒ‰ç©ºæ ¼åˆ†å‰²ï¼Œè¿‡æ»¤ç©ºå€¼
                return input
                    .replace(/,/g, ' ')
                    .split(' ')
                    .map(item => parseFloat(item.trim()))
                    .filter(num => !isNaN(num));
            },
            
            // è®¡ç®—å¹³å‡å€¼
            calculateMean: function(data) {
                const sum = data.reduce((acc, val) => acc + val, 0);
                return sum / data.length;
            },
            
            // è®¡ç®—ä¸­ä½æ•°
            calculateMedian: function(data) {
                const sorted = [...data].sort((a, b) => a - b);
                const mid = Math.floor(sorted.length / 2);
                
                if (sorted.length % 2 === 0) {
                    return (sorted[mid - 1] + sorted[mid]) / 2;
                }
                return sorted[mid];
            },
            
            // è®¡ç®—ä¼—æ•°
            calculateMode: function(data) {
                const frequency = {};
                let maxFreq = 0;
                let modes = [];
                
                data.forEach(num => {
                    frequency[num] = (frequency[num] || 0) + 1;
                    if (frequency[num] > maxFreq) {
                        maxFreq = frequency[num];
                    }
                });
                
                // æ‰¾åˆ°æ‰€æœ‰å…·æœ‰æœ€å¤§é¢‘ç‡çš„æ•°å­—
                for (const num in frequency) {
                    if (frequency[num] === maxFreq) {
                        modes.push(Number(num));
                    }
                }
                
                // å¦‚æœæ‰€æœ‰æ•°å­—å‡ºç°æ¬¡æ•°ç›¸åŒï¼Œåˆ™æ²¡æœ‰ä¼—æ•°
                if (modes.length === data.length) {
                    return null;
                }
                
                return modes.length === 1 ? modes[0] : modes;
            },
            
            // è®¡ç®—èŒƒå›´
            calculateRange: function(data) {
                return Math.max(...data) - Math.min(...data);
            },
            
            // è®¡ç®—æ–¹å·®
            calculateVariance: function(data) {
                const mean = this.calculateMean(data);
                const squaredDiffs = data.map(num => Math.pow(num - mean, 2));
                return this.calculateMean(squaredDiffs);
            },
            
            // è®¡ç®—æ ‡å‡†å·®
            calculateStdDev: function(data) {
                return Math.sqrt(this.calculateVariance(data));
            },
            
            i18n: {
                'en': {
                    title: 'ğŸ“Š Statistics Calculator',
                    enter_data: 'Enter data set (numbers separated by commas or spaces)',
                    example: 'Example: 12, 15, 18, 22, 19, 15, 25',
                    precision: 'Precision (decimal places)',
                    calculate: 'Calculate',
                    clear: 'Clear',
                    results: 'Statistics Results',
                    stats_explanation: 'This calculator computes the following statistical measures:',
                    mean_expl: 'Mean - The average of the numbers',
                    median_expl: 'Median - The middle value when numbers are sorted',
                    mode_expl: 'Mode - The most frequently occurring number',
                    range_expl: 'Range - The difference between the maximum and minimum values',
                    variance_expl: 'Variance - Measures how far each number in the set is from the mean',
                    std_dev_expl: 'Standard Deviation - The square root of the variance',
                    err_invalid: 'Please enter a valid data set with at least 2 numbers',
                    count: 'Count',
                    mean: 'Mean',
                    median: 'Median',
                    mode: 'Mode',
                    range: 'Range',
                    min: 'Minimum',
                    max: 'Maximum',
                    sum: 'Sum',
                    variance: 'Variance',
                    std_dev: 'Standard Deviation',
                    no_mode: 'No unique mode'
                },
                'zh-CN': {
                    title: 'ğŸ“Š ç»Ÿè®¡è®¡ç®—å™¨',
                    enter_data: 'è¾“å…¥æ•°æ®é›†ï¼ˆæ•°å­—ç”¨é€—å·æˆ–ç©ºæ ¼åˆ†éš”ï¼‰',
                    example: 'ç¤ºä¾‹ï¼š12, 15, 18, 22, 19, 15, 25',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°ä½æ•°ï¼‰',
                    calculate: 'è®¡ç®—',
                    clear: 'æ¸…é™¤',
                    results: 'ç»Ÿè®¡ç»“æœ',
                    stats_explanation: 'æ­¤è®¡ç®—å™¨è®¡ç®—ä»¥ä¸‹ç»Ÿè®¡é‡ï¼š',
                    mean_expl: 'å¹³å‡å€¼ - æ•°å­—çš„ç®—æœ¯å¹³å‡',
                    median_expl: 'ä¸­ä½æ•° - æ’åºåä½äºä¸­é—´çš„æ•°å€¼',
                    mode_expl: 'ä¼—æ•° - å‡ºç°é¢‘ç‡æœ€é«˜çš„æ•°å­—',
                    range_expl: 'æå·® - æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹é—´çš„å·®å€¼',
                    variance_expl: 'æ–¹å·® - è¡¡é‡æ¯ä¸ªæ•°å­—ä¸å¹³å‡å€¼çš„åç¦»ç¨‹åº¦',
                    std_dev_expl: 'æ ‡å‡†å·® - æ–¹å·®çš„å¹³æ–¹æ ¹',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°æ®é›†ï¼Œè‡³å°‘åŒ…å«2ä¸ªæ•°å­—',
                    count: 'æ•°é‡',
                    mean: 'å¹³å‡å€¼',
                    median: 'ä¸­ä½æ•°',
                    mode: 'ä¼—æ•°',
                    range: 'æå·®',
                    min: 'æœ€å°å€¼',
                    max: 'æœ€å¤§å€¼',
                    sum: 'æ€»å’Œ',
                    variance: 'æ–¹å·®',
                    std_dev: 'æ ‡å‡†å·®',
                    no_mode: 'æ²¡æœ‰å”¯ä¸€ä¼—æ•°'
                },
                'zh-TW': {
                    title: 'ğŸ“Š çµ±è¨ˆè¨ˆç®—å™¨',
                    enter_data: 'è¼¸å…¥æ•¸æ“šé›†ï¼ˆæ•¸å­—ç”¨é€—è™Ÿæˆ–ç©ºæ ¼åˆ†éš”ï¼‰',
                    example: 'ç¤ºä¾‹ï¼š12, 15, 18, 22, 19, 15, 25',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•¸ä½æ•¸ï¼‰',
                    calculate: 'è¨ˆç®—',
                    clear: 'æ¸…é™¤',
                    results: 'çµ±è¨ˆçµæœ',
                    stats_explanation: 'æ­¤è¨ˆç®—å™¨è¨ˆç®—ä»¥ä¸‹çµ±è¨ˆé‡ï¼š',
                    mean_expl: 'å¹³å‡å€¼ - æ•¸å­—çš„ç®—è¡“å¹³å‡',
                    median_expl: 'ä¸­ä½æ•¸ - æ’åºå¾Œä½æ–¼ä¸­é–“çš„æ•¸å€¼',
                    mode_expl: 'çœ¾æ•¸ - å‡ºç¾é »ç‡æœ€é«˜çš„æ•¸å­—',
                    range_expl: 'æ¥µå·® - æœ€å¤§å€¼èˆ‡æœ€å°å€¼ä¹‹é–“çš„å·®å€¼',
                    variance_expl: 'æ–¹å·® - è¡¡é‡æ¯å€‹æ•¸å­—èˆ‡å¹³å‡å€¼çš„åé›¢ç¨‹åº¦',
                    std_dev_expl: 'æ¨™æº–å·® - æ–¹å·®çš„å¹³æ–¹æ ¹',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸æ“šé›†ï¼Œè‡³å°‘åŒ…å«2å€‹æ•¸å­—',
                    count: 'æ•¸é‡',
                    mean: 'å¹³å‡å€¼',
                    median: 'ä¸­ä½æ•¸',
                    mode: 'çœ¾æ•¸',
                    range: 'æ¥µå·®',
                    min: 'æœ€å°å€¼',
                    max: 'æœ€å¤§å€¼',
                    sum: 'ç¸½å’Œ',
                    variance: 'æ–¹å·®',
                    std_dev: 'æ¨™æº–å·®',
                    no_mode: 'æ²’æœ‰å”¯ä¸€çœ¾æ•¸'
                },
                'ja': {
                    title: 'ğŸ“Š çµ±è¨ˆè¨ˆç®—æ©Ÿ',
                    enter_data: 'ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å…¥åŠ›ï¼ˆæ•°å­—ã¯ã‚«ãƒ³ãƒã¾ãŸã¯ã‚¹ãƒšãƒ¼ã‚¹ã§åŒºåˆ‡ã‚‹ï¼‰',
                    example: 'ä¾‹ï¼š12, 15, 18, 22, 19, 15, 25',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°æ¡æ•°ï¼‰',
                    calculate: 'è¨ˆç®—',
                    clear: 'ã‚¯ãƒªã‚¢',
                    results: 'çµ±è¨ˆçµæœ',
                    stats_explanation: 'ã“ã®è¨ˆç®—æ©Ÿã¯æ¬¡ã®çµ±è¨ˆé‡ã‚’è¨ˆç®—ã—ã¾ã™ï¼š',
                    mean_expl: 'å¹³å‡å€¤ - æ•°å€¤ã®ç®—è¡“å¹³å‡',
                    median_expl: 'ä¸­å¤®å€¤ - ã‚½ãƒ¼ãƒˆå¾Œã®ä¸­å¤®ã«ä½ç½®ã™ã‚‹å€¤',
                    mode_expl: 'æœ€é »å€¤ - æœ€ã‚‚é »ç¹ã«å‡ºç¾ã™ã‚‹æ•°å€¤',
                    range_expl: 'ç¯„å›² - æœ€å¤§å€¤ã¨æœ€å°å€¤ã®å·®',
                    variance_expl: 'åˆ†æ•£ - å„æ•°å€¤ãŒå¹³å‡å€¤ã‹ã‚‰ã©ã‚Œã ã‘é›¢ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¸¬ã‚‹æŒ‡æ¨™',
                    std_dev_expl: 'æ¨™æº–åå·® - åˆ†æ•£ã®å¹³æ–¹æ ¹',
                    err_invalid: 'æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆå°‘ãªãã¨ã‚‚2ã¤ã®æ•°å€¤ãŒå¿…è¦ã§ã™ï¼‰',
                    count: 'å€‹æ•°',
                    mean: 'å¹³å‡å€¤',
                    median: 'ä¸­å¤®å€¤',
                    mode: 'æœ€é »å€¤',
                    range: 'ç¯„å›²',
                    min: 'æœ€å°å€¤',
                    max: 'æœ€å¤§å€¤',
                    sum: 'åˆè¨ˆ',
                    variance: 'åˆ†æ•£',
                    std_dev: 'æ¨™æº–åå·®',
                    no_mode: 'ä¸€æ„ã®æœ€é »å€¤ã¯ã‚ã‚Šã¾ã›ã‚“'
                },
                'ru': {
                    title: 'ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€',
                    enter_data: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ñ‡Ğ¸ÑĞ»Ğ° Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ñ‹Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸)',
                    example: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: 12, 15, 18, 22, 19, 15, 25',
                    precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹)',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    results: 'Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹',
                    stats_explanation: 'Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸:',
                    mean_expl: 'Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ - ÑÑ€ĞµĞ´Ğ½ĞµĞµ Ğ°Ñ€Ğ¸Ñ„Ğ¼ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ‡Ğ¸ÑĞµĞ»',
                    median_expl: 'ĞœĞµĞ´Ğ¸Ğ°Ğ½Ğ° - ÑÑ€ĞµĞ´Ğ½ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ ÑƒĞ¿Ğ¾Ñ€ÑĞ´Ğ¾Ñ‡ĞµĞ½Ğ½Ğ¾Ğ¼ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Ñ‡Ğ¸ÑĞµĞ»',
                    mode_expl: 'ĞœĞ¾Ğ´Ğ° - Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ĞµĞµ Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ÑÑ‰ĞµĞµÑÑ Ñ‡Ğ¸ÑĞ»Ğ¾',
                    range_expl: 'Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ - Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸',
                    variance_expl: 'Ğ”Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ - Ğ¸Ğ·Ğ¼ĞµÑ€ÑĞµÑ‚, Ğ½Ğ°ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ĞºĞ°Ğ¶Ğ´Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ² Ğ½Ğ°Ğ±Ğ¾Ñ€Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°ĞµÑ‚ÑÑ Ğ¾Ñ‚ ÑÑ€ĞµĞ´Ğ½ĞµĞ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ',
                    std_dev_expl: 'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ - ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ñ€ĞµĞ½ÑŒ Ğ¸Ğ· Ğ´Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ğ¸',
                    err_invalid: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ ĞºĞ°Ğº Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 2 Ñ‡Ğ¸ÑĞ»Ğ°',
                    count: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾',
                    mean: 'Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ',
                    median: 'ĞœĞµĞ´Ğ¸Ğ°Ğ½Ğ°',
                    mode: 'ĞœĞ¾Ğ´Ğ°',
                    range: 'Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½',
                    min: 'ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ',
                    max: 'ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ',
                    sum: 'Ğ¡ÑƒĞ¼Ğ¼Ğ°',
                    variance: 'Ğ”Ğ¸ÑĞ¿ĞµÑ€ÑĞ¸Ñ',
                    std_dev: 'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ',
                    no_mode: 'ĞĞµÑ‚ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´Ñ‹'
                }
            },
            
            // è®¡ç®—ç»Ÿè®¡é‡
            calculateStats: function() {
                const input = document.getElementById('data-set').value;
                const precision = parseInt(document.getElementById('stats-precision').value) || 2;
                const data = this.parseData(input);
                const errorEl = document.getElementById('stats-error');
                const resultsEl = document.getElementById('stats-results');
                const valuesEl = document.getElementById('stats-values');
                const lang = this.getCurrentLang();
                
                // éªŒè¯è¾“å…¥
                if (data.length < 2) {
                    errorEl.textContent = this.i18n[lang].err_invalid;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                // è®¡ç®—æ‰€æœ‰ç»Ÿè®¡é‡
                const stats = {
                    count: data.length,
                    sum: data.reduce((acc, val) => acc + val, 0),
                    mean: this.calculateMean(data),
                    median: this.calculateMedian(data),
                    mode: this.calculateMode(data),
                    min: Math.min(...data),
                    max: Math.max(...data),
                    range: this.calculateRange(data),
                    variance: this.calculateVariance(data),
                    std_dev: this.calculateStdDev(data)
                };
                
                // æ˜¾ç¤ºç»“æœ
                valuesEl.innerHTML = '';
                Object.keys(stats).forEach(key => {
                    let value = stats[key];
                    
                    // æ ¼å¼åŒ–æ•°å€¼
                    if (typeof value === 'number' && !Number.isInteger(value)) {
                        value = value.toFixed(precision);
                    } else if (Array.isArray(value)) {
                        value = value.join(', ');
                    } else if (value === null) {
                        value = this.i18n[lang].no_mode;
                    }
                    
                    const statItem = document.createElement('div');
                    statItem.className = 'stat-item';
                    statItem.innerHTML = `
                        <div class="stat-label" data-i18n="${key}">${this.i18n[lang][key]}</div>
                        <div class="stat-value">${value}</div>
                    `;
                    valuesEl.appendChild(statItem);
                });
                
                resultsEl.classList.remove('hidden');
            },
            
            // æ¸…é™¤æ•°æ®
            clearData: function() {
                document.getElementById('data-set').value = '';
                document.getElementById('stats-results').classList.add('hidden');
                document.getElementById('stats-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // å¦‚æœæœ‰æ•°æ®ï¼Œé‡æ–°è®¡ç®—ä»¥æ›´æ–°æ˜¾ç¤º
                if (document.getElementById('data-set').value) {
                    this.calculateStats();
                }
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('stats-lang').value;
            }
        };
        
        // åˆå§‹åŒ–
        StatisticsCalculator.init = function() {
            // å¯ä»¥æ·»åŠ åˆå§‹åŒ–é€»è¾‘
        };
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = function() {
            StatisticsCalculator.init();
        };
    </script>
</body>
</html>