<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="time_calculator">
    <meta name="category" content="tools">
    <meta name="icon" content="⏱️">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="Time Calculator">
    <meta name="description" content="Calculate time differences and add/subtract time values">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="时间计算器">
    <meta name="lang-description-zh-CN" content="计算时间差和加减时间值">
    
    <meta name="lang-title-zh-TW" content="時間計算器">
    <meta name="lang-description-zh-TW" content="計算時間差和加減時間值">
    
    <meta name="lang-title-ja" content="時間計算機">
    <meta name="lang-description-ja" content="時間差の計算と時間の加減算を行います">
    
    <meta name="lang-title-ru" content="Калькулятор времени">
    <meta name="lang-description-ru" content="Вычислите разницу во времени и добавьте/вычтите временные значения">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result { background-color: #f0fdf4; border: 1px solid #10b981; color: #059669; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="time_calculator" 
         data-category="tools" 
         data-title="Time Calculator" 
         data-icon="⏱️">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="time-lang" onchange="TimeCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">⏱️ Time Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculation_type">Calculation Type</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="calc-type" value="difference" checked class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="time_difference">Time Difference</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="calc-type" value="addition" class="text-blue-600 focus:ring-blue-500">
                        <span data-i18n="time_addition">Time Addition</span>
                    </label>
                </div>
            </div>
            
            <div id="time1-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="time1">Time 1</label>
                <div class="grid grid-cols-3 gap-2">
                    <input type="number" id="hours1" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="HH" min="0" max="23" value="10">
                    <input type="number" id="minutes1" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="MM" min="0" max="59" value="30">
                    <input type="number" id="seconds1" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="SS" min="0" max="59" value="0">
                </div>
            </div>
            
            <div id="operator" class="flex items-center justify-center">
                <span class="text-xl font-bold text-gray-500" data-i18n="minus">-</span>
            </div>
            
            <div id="time2-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="time2">Time 2</label>
                <div class="grid grid-cols-3 gap-2">
                    <input type="number" id="hours2" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="HH" min="0" max="23" value="2">
                    <input type="number" id="minutes2" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="MM" min="0" max="59" value="15">
                    <input type="number" id="seconds2" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="SS" min="0" max="59" value="30">
                </div>
            </div>
        </div>

        <button onclick="TimeCalc.calculate()" class="w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition mb-6" data-i18n="calculate">Calculate</button>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div id="time-result" class="text-2xl font-bold text-blue-800">--:--:--</div>
            
            <div class="result text-sm mt-4" id="result-details">
                <span data-i18n="result_details">Detailed result will be shown here</span>
            </div>
            
            <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: For reference only. Accuracy not guaranteed for critical applications.</div>
        </div>
    </div>

    <script>
        const TimeCalc = {
            i18n: {
                'en': {
                    title: '⏱️ Time Calculator',
                    calculation_type: 'Calculation Type',
                    time_difference: 'Time Difference',
                    time_addition: 'Time Addition',
                    time1: 'Time 1',
                    time2: 'Time 2',
                    minus: '-',
                    plus: '+',
                    calculate: 'Calculate',
                    result: 'Result',
                    result_details: 'Detailed result will be shown here',
                    disclaimer: 'Disclaimer: For reference only. Accuracy not guaranteed for critical applications.',
                    err_invalid: 'Please enter valid time values',
                    days: 'days',
                    hours: 'hours',
                    minutes: 'minutes',
                    seconds: 'seconds'
                },
                'zh-CN': {
                    title: '⏱️ 时间计算器',
                    calculation_type: '计算类型',
                    time_difference: '时间差',
                    time_addition: '时间相加',
                    time1: '时间 1',
                    time2: '时间 2',
                    minus: '-',
                    plus: '+',
                    calculate: '计算',
                    result: '结果',
                    result_details: '详细结果将显示在这里',
                    disclaimer: '免责声明：仅供参考。对于关键应用，不保证准确性。',
                    err_invalid: '请输入有效的时间值',
                    days: '天',
                    hours: '小时',
                    minutes: '分钟',
                    seconds: '秒'
                },
                'zh-TW': {
                    title: '⏱️ 時間計算器',
                    calculation_type: '計算類型',
                    time_difference: '時間差',
                    time_addition: '時間相加',
                    time1: '時間 1',
                    time2: '時間 2',
                    minus: '-',
                    plus: '+',
                    calculate: '計算',
                    result: '結果',
                    result_details: '詳細結果將顯示在這裡',
                    disclaimer: '免責聲明：僅供參考。對於關鍵應用，不保證準確性。',
                    err_invalid: '請輸入有效的時間值',
                    days: '天',
                    hours: '小時',
                    minutes: '分鐘',
                    seconds: '秒'
                },
                'ja': {
                    title: '⏱️ 時間計算機',
                    calculation_type: '計算タイプ',
                    time_difference: '時間差',
                    time_addition: '時間の加算',
                    time1: '時間 1',
                    time2: '時間 2',
                    minus: '-',
                    plus: '+',
                    calculate: '計算',
                    result: '結果',
                    result_details: '詳細な結果はここに表示されます',
                    disclaimer: '免責事項：参考用のみです。重要な用途における正確性は保証されません。',
                    err_invalid: '有効な時間値を入力してください',
                    days: '日',
                    hours: '時間',
                    minutes: '分',
                    seconds: '秒'
                },
                'ru': {
                    title: '⏱️ Калькулятор времени',
                    calculation_type: 'Тип вычисления',
                    time_difference: 'Разница во времени',
                    time_addition: 'Сложение времени',
                    time1: 'Время 1',
                    time2: 'Время 2',
                    minus: '-',
                    plus: '+',
                    calculate: 'Вычислить',
                    result: 'Результат',
                    result_details: 'Подробный результат будет показан здесь',
                    disclaimer: 'Отказ от ответственности: Только для справки. Точность не гарантируется для критических приложений.',
                    err_invalid: 'Введите действительные временные значения',
                    days: 'дней',
                    hours: 'часов',
                    minutes: 'минут',
                    seconds: 'секунд'
                }
            },
            
            changeLang: function() {
                const lang = document.getElementById('time-lang').value;
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                this.updateOperator();
            },
            
            updateOperator: function() {
                const calcType = document.querySelector('input[name="calc-type"]:checked').value;
                const lang = document.getElementById('time-lang').value;
                const operatorEl = document.querySelector('#operator span');
                operatorEl.textContent = calcType === 'difference' ? 
                    this.i18n[lang]['minus'] : this.i18n[lang]['plus'];
            },
            
            calculate: function() {
                // 获取输入值
                const hours1 = parseInt(document.getElementById('hours1').value) || 0;
                const minutes1 = parseInt(document.getElementById('minutes1').value) || 0;
                const seconds1 = parseInt(document.getElementById('seconds1').value) || 0;
                
                const hours2 = parseInt(document.getElementById('hours2').value) || 0;
                const minutes2 = parseInt(document.getElementById('minutes2').value) || 0;
                const seconds2 = parseInt(document.getElementById('seconds2').value) || 0;
                
                // 验证输入
                if (isNaN(hours1) || isNaN(minutes1) || isNaN(seconds1) ||
                    isNaN(hours2) || isNaN(minutes2) || isNaN(seconds2)) {
                    alert(this.i18n[document.getElementById('time-lang').value]['err_invalid']);
                    return;
                }
                
                // 转换为秒
                const time1InSeconds = hours1 * 3600 + minutes1 * 60 + seconds1;
                const time2InSeconds = hours2 * 3600 + minutes2 * 60 + seconds2;
                
                // 计算结果
                const calcType = document.querySelector('input[name="calc-type"]:checked').value;
                let resultSeconds;
                
                if (calcType === 'difference') {
                    resultSeconds = Math.abs(time1InSeconds - time2InSeconds);
                } else {
                    resultSeconds = time1InSeconds + time2InSeconds;
                }
                
                // 转换回天、时、分、秒
                const days = Math.floor(resultSeconds / 86400);
                const remainingSeconds = resultSeconds % 86400;
                const hours = Math.floor(remainingSeconds / 3600);
                const minutes = Math.floor((remainingSeconds % 3600) / 60);
                const seconds = remainingSeconds % 60;
                
                // 格式化显示
                const formattedTime = `${this.pad(hours)}:${this.pad(minutes)}:${this.pad(seconds)}`;
                document.getElementById('time-result').textContent = formattedTime;
                
                // 详细结果
                const lang = document.getElementById('time-lang').value;
                let details = '';
                if (days > 0) details += `${days} ${this.i18n[lang]['days']} `;
                details += `${hours} ${this.i18n[lang]['hours']}, ${minutes} ${this.i18n[lang]['minutes']}, ${seconds} ${this.i18n[lang]['seconds']}`;
                document.getElementById('result-details').textContent = details;
            },
            
            pad: function(num) {
                return num.toString().padStart(2, '0');
            }
        };
        
        // 初始化事件监听
        document.querySelectorAll('input[name="calc-type"]').forEach(radio => {
            radio.addEventListener('change', () => TimeCalc.updateOperator());
        });
    </script>
</body>
</html>