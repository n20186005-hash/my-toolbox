<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Category Meta Tag -->
    <!--  å¼€å¤´å¿…é¡»åŒ…å«æ ‡ç­¾å’Œå›¾æ ‡çš„ä»£ç  -->
    <meta name="category" content="date-time">
    <meta name="icon" content="ğŸ“…">
    <meta name="description" content="Lunar Solar Converter - Convert between Chinese Lunar and Solar (Gregorian) calendars with Zodiac and Terms info.">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>é˜´</text></svg>">
    
    <title>å†œå†å…¬å†è½¬æ¢è®¡ç®—å™¨ | Lunar Solar Converter</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/conversion/lunar-solar-converter.html" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- å¼•å…¥ Lunar-Javascript åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: { DEFAULT: '#e11d48', hover: '#be123c' }, /* Rose */
                        secondary: { DEFAULT: '#6366f1', hover: '#4f46e5' }, /* Indigo */
                        bg: { light: '#fff1f2', dark: '#0f172a' } /* Rose tint light, Slate dark */
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.4s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .glass {
                @apply bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg border border-rose-200 dark:border-slate-700;
            }
            .select-field {
                @apply w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-white focus:ring-4 focus:ring-primary/20 focus:border-primary outline-none transition-all text-lg appearance-none cursor-pointer text-center font-medium;
            }
            .tab-btn {
                @apply flex-1 py-3 text-sm md:text-base font-bold uppercase tracking-wider transition-all border-b-2 border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50;
            }
            .tab-btn.active {
                @apply text-primary border-primary bg-rose-50 dark:bg-slate-700/50 dark:text-rose-400;
            }
            .info-item {
                @apply flex flex-col p-3 rounded-xl bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700/50 transition-all hover:shadow-sm;
            }
            .info-label {
                @apply text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-1;
            }
            .info-val {
                @apply font-bold text-slate-700 dark:text-slate-200 text-sm md:text-base;
            }
            /* Custom Select Arrow */
            .select-wrapper::after {
                content: '\f107';
                font-family: 'FontAwesome';
                @apply absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none;
            }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-bg-light dark:bg-bg-dark min-h-screen font-sans text-slate-800 dark:text-slate-200 transition-colors duration-300 overflow-x-hidden">

    <!-- Header -->
    <header class="bg-white dark:bg-slate-800 border-b border-rose-100 dark:border-slate-700 sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-lg bg-gradient-to-br from-rose-500 to-orange-600 text-white flex items-center justify-center font-bold text-lg shadow-md">
                    <span class="font-serif">å†œ</span>
                </div>
                <div>
                    <h1 class="text-lg font-bold text-slate-900 dark:text-white leading-tight" data-i18n="title">å†œå†å…¬å†è½¬æ¢å™¨</h1>
                    <p class="text-[10px] text-slate-500 font-medium" data-i18n="subtitle">Lunar / Solar Converter</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2">
                <select id="lang-selector" class="bg-slate-100 dark:bg-slate-700 text-xs font-bold px-2 py-1.5 rounded-lg border-none focus:ring-0 cursor-pointer text-slate-600 dark:text-slate-300 outline-none">
                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                    <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                    <option value="en">English</option>
                    <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                    <option value="pl">Polski</option>
                </select>
                <button id="mode-toggle" class="w-8 h-8 rounded-lg bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 hover:text-primary transition-colors">
                    <i class="fa fa-moon-o dark:hidden"></i>
                    <i class="fa fa-sun-o hidden dark:inline"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 max-w-3xl">

        <!-- Main Converter Card -->
        <div class="glass rounded-3xl shadow-xl overflow-hidden mb-8 border-t-4 border-t-rose-500" id="main-card">
            
            <!-- Tabs -->
            <div class="flex border-b border-slate-200 dark:border-slate-700">
                <button onclick="App.switchMode('solar2lunar')" id="tab-s2l" class="tab-btn active">
                    <i class="fa fa-sun-o mr-2"></i> <span data-i18n="tab_s2l">å…¬å† è½¬ å†œå†</span>
                </button>
                <button onclick="App.switchMode('lunar2solar')" id="tab-l2s" class="tab-btn">
                    <i class="fa fa-moon-o mr-2"></i> <span data-i18n="tab_l2s">å†œå† è½¬ å…¬å†</span>
                </button>
            </div>

            <div class="p-6 md:p-8 bg-gradient-to-b from-rose-50/50 to-transparent dark:from-rose-900/10">
                
                <!-- Input Area -->
                <div class="space-y-6">
                    <div class="text-center mb-2">
                        <h2 id="input-label" class="text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-widest" data-i18n="lbl_input_solar">é€‰æ‹©å…¬å†æ—¥æœŸ</h2>
                    </div>

                    <!-- Date Selectors -->
                    <div class="grid grid-cols-3 gap-3 md:gap-4">
                        <!-- Year -->
                        <div class="relative select-wrapper">
                            <select id="sel-year" class="select-field pr-8" onchange="App.updateDays()">
                                <!-- Populated by JS -->
                            </select>
                        </div>
                        
                        <!-- Month -->
                        <div class="relative select-wrapper">
                            <select id="sel-month" class="select-field pr-8" onchange="App.updateDays()">
                                <!-- Populated by JS -->
                            </select>
                        </div>
                        
                        <!-- Day -->
                        <div class="relative select-wrapper">
                            <select id="sel-day" class="select-field pr-8" onchange="App.calculate()">
                                <!-- Populated by JS -->
                            </select>
                        </div>
                    </div>

                    <!-- Leap Month Checkbox (Visible only in Lunar mode) -->
                    <div id="leap-container" class="hidden flex justify-center mt-2 animate-fade-in">
                        <label class="flex items-center gap-2 cursor-pointer select-none p-2 rounded-lg hover:bg-white dark:hover:bg-slate-800 border border-transparent hover:border-slate-200 dark:hover:border-slate-700 transition-all">
                            <input type="checkbox" id="chk-leap" class="w-5 h-5 text-primary rounded border-slate-300 focus:ring-primary" onchange="App.calculate()">
                            <span class="text-sm font-medium text-slate-600 dark:text-slate-300" data-i18n="lbl_leap">é—°æœˆ (Leap Month)</span>
                        </label>
                    </div>

                    <!-- Action Button -->
                    <button onclick="App.calculate()" class="w-full py-4 bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white font-bold rounded-xl shadow-lg shadow-rose-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group">
                        <i class="fa fa-refresh group-hover:rotate-180 transition-transform duration-500"></i> 
                        <span data-i18n="btn_convert">è½¬æ¢ / Convert</span>
                    </button>
                </div>
            </div>

            <!-- Result Area -->
            <div class="bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-700 p-6 md:p-8">
                <div id="result-container" class="opacity-0 transition-opacity duration-500">
                    
                    <div class="text-center mb-8">
                        <div class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2" id="res-subtitle" data-i18n="res_subtitle_lunar">å¯¹åº”çš„å†œå†æ—¥æœŸ</div>
                        <div class="text-3xl md:text-5xl font-mono font-bold text-slate-800 dark:text-white mb-2 tracking-tight" id="res-main">
                            <!-- Main Result -->
                        </div>
                        <div class="text-lg text-primary font-medium font-serif" id="res-sub">
                            <!-- Sub Result -->
                        </div>
                    </div>

                    <!-- Detailed Grid -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div class="info-item">
                            <span class="info-label"><i class="fa fa-calendar-o"></i> <span data-i18n="lbl_zodiac">ç”Ÿè‚–</span></span>
                            <span class="info-val text-xl" id="res-zodiac">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label"><i class="fa fa-tags"></i> <span data-i18n="lbl_ganzhi">å¹²æ”¯</span></span>
                            <span class="info-val" id="res-ganzhi">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label"><i class="fa fa-clock-o"></i> <span data-i18n="lbl_week">æ˜ŸæœŸ</span></span>
                            <span class="info-val" id="res-week">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label"><i class="fa fa-leaf"></i> <span data-i18n="lbl_term">èŠ‚æ°”</span></span>
                            <span class="info-val text-rose-500" id="res-term">-</span>
                        </div>
                    </div>

                    <div class="mt-4 p-4 rounded-xl bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/30 flex items-start gap-3">
                        <i class="fa fa-info-circle text-orange-500 mt-1"></i>
                        <div class="text-sm text-slate-600 dark:text-slate-300">
                            <span class="font-bold text-orange-600 dark:text-orange-400" data-i18n="lbl_yi_ji">å®œå¿Œ/èŠ‚æ—¥ï¼š</span>
                            <span id="res-yi-ji">...</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Reference Table (Quick Look) -->
        <div class="glass rounded-2xl p-6 shadow-md">
            <h3 class="font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2">
                <i class="fa fa-list-ul text-primary"></i> <span data-i18n="ref_title">å¿«é€Ÿå‚è€ƒ</span>
            </h3>
            <div class="text-sm text-slate-600 dark:text-slate-400 space-y-2" data-i18n="ref_txt">
                <p>â€¢ å†œå†æ˜¯ä¸­å›½ä¼ ç»Ÿå†æ³•ï¼Œç»“åˆäº†é˜´å†ï¼ˆæœˆäº®å‘¨æœŸï¼‰å’Œé˜³å†ï¼ˆå¤ªé˜³å‘¨æœŸï¼‰çš„ç‰¹ç‚¹ã€‚</p>
                <p>â€¢ é—°æœˆæ˜¯ä¸ºäº†åè°ƒå†œå†å¹´ä¸å›å½’å¹´çš„é•¿åº¦ï¼Œæ¯2-3å¹´ç½®ä¸€é—°ã€‚</p>
                <p>â€¢ æœ¬å·¥å…·è®¡ç®—èŒƒå›´æ”¯æŒ 1900 å¹´è‡³ 2100 å¹´ã€‚</p>
            </div>
        </div>

        <footer class="text-center text-xs text-slate-400 py-8">
            <p>&copy; <span id="cur-year"></span> <span data-i18n="footer_txt">Lunar Calendar Tool. Generated for Educational Purposes.</span></p>
        </footer>

    </div>

    <script>
        const i18nData = {
            'zh-CN': {
                title: "å†œå†å…¬å†è½¬æ¢å™¨", subtitle: "å…¬å† â†” å†œå† äº’è½¬å·¥å…·",
                tab_s2l: "å…¬å† è½¬ å†œå†", tab_l2s: "å†œå† è½¬ å…¬å†",
                lbl_input_solar: "é€‰æ‹©å…¬å†æ—¥æœŸ", lbl_input_lunar: "é€‰æ‹©å†œå†æ—¥æœŸ",
                lbl_leap: "é—°æœˆ", btn_convert: "è½¬æ¢",
                res_subtitle_lunar: "å¯¹åº”çš„å†œå†æ—¥æœŸ", res_subtitle_solar: "å¯¹åº”çš„å…¬å†æ—¥æœŸ",
                lbl_zodiac: "ç”Ÿè‚–", lbl_ganzhi: "å¹²æ”¯", lbl_week: "æ˜ŸæœŸ", lbl_term: "èŠ‚æ°”", lbl_yi_ji: "èŠ‚æ—¥/å®œå¿Œï¼š",
                ref_title: "å¿«é€Ÿå‚è€ƒ",
                ref_txt: "<p>â€¢ å†œå†æ˜¯ä¸­å›½ä¼ ç»Ÿå†æ³•ï¼Œç»“åˆäº†é˜´å†ï¼ˆæœˆäº®å‘¨æœŸï¼‰å’Œé˜³å†ï¼ˆå¤ªé˜³å‘¨æœŸï¼‰çš„ç‰¹ç‚¹ã€‚</p><p>â€¢ é—°æœˆæ˜¯ä¸ºäº†åè°ƒå†œå†å¹´ä¸å›å½’å¹´çš„é•¿åº¦ï¼Œæ¯2-3å¹´ç½®ä¸€é—°ã€‚</p><p>â€¢ æœ¬å·¥å…·è®¡ç®—èŒƒå›´æ”¯æŒ 1900 å¹´è‡³ 2100 å¹´ã€‚</p>",
                footer_txt: "å†œå†è½¬æ¢å·¥å…·. ä¾›å­¦ä¹ ä½¿ç”¨.",
                unit_year: "å¹´", unit_month: "æœˆ", unit_day: "æ—¥",
                invalid_date: "æ—¥æœŸæ— æ•ˆ", check_input: "è¯·æ£€æŸ¥è¾“å…¥"
            },
            'zh-TW': {
                title: "è¾²æ›†å…¬æ›†è½‰æ›å™¨", subtitle: "å…¬æ›† â†” è¾²æ›† äº’è½‰å·¥å…·",
                tab_s2l: "å…¬æ›† è½‰ è¾²æ›†", tab_l2s: "è¾²æ›† è½‰ å…¬æ›†",
                lbl_input_solar: "é¸æ“‡å…¬æ›†æ—¥æœŸ", lbl_input_lunar: "é¸æ“‡è¾²æ›†æ—¥æœŸ",
                lbl_leap: "é–æœˆ", btn_convert: "è½‰æ›",
                res_subtitle_lunar: "å°æ‡‰çš„è¾²æ›†æ—¥æœŸ", res_subtitle_solar: "å°æ‡‰çš„å…¬æ›†æ—¥æœŸ",
                lbl_zodiac: "ç”Ÿè‚–", lbl_ganzhi: "å¹²æ”¯", lbl_week: "æ˜ŸæœŸ", lbl_term: "ç¯€æ°£", lbl_yi_ji: "ç¯€æ—¥/å®œå¿Œï¼š",
                ref_title: "å¿«é€Ÿåƒè€ƒ",
                ref_txt: "<p>â€¢ è¾²æ›†æ˜¯ä¸­åœ‹å‚³çµ±æ›†æ³•ï¼Œçµåˆäº†é™°æ›†ï¼ˆæœˆäº®é€±æœŸï¼‰å’Œé™½æ›†ï¼ˆå¤ªé™½é€±æœŸï¼‰çš„ç‰¹é»ã€‚</p><p>â€¢ é–æœˆæ˜¯ç‚ºäº†å”èª¿è¾²æ›†å¹´èˆ‡å›æ­¸å¹´çš„é•·åº¦ï¼Œæ¯2-3å¹´ç½®ä¸€é–ã€‚</p><p>â€¢ æœ¬å·¥å…·è¨ˆç®—ç¯„åœæ”¯æŒ 1900 å¹´è‡³ 2100 å¹´ã€‚</p>",
                footer_txt: "è¾²æ›†è½‰æ›å·¥å…·. ä¾›å­¸ç¿’ä½¿ç”¨.",
                unit_year: "å¹´", unit_month: "æœˆ", unit_day: "æ—¥",
                invalid_date: "æ—¥æœŸç„¡æ•ˆ", check_input: "è«‹æª¢æŸ¥è¼¸å…¥"
            },
            'en': {
                title: "Lunar Solar Converter", subtitle: "Convert between Solar & Lunar",
                tab_s2l: "Solar to Lunar", tab_l2s: "Lunar to Solar",
                lbl_input_solar: "Select Solar Date", lbl_input_lunar: "Select Lunar Date",
                lbl_leap: "Leap Month", btn_convert: "Convert",
                res_subtitle_lunar: "Corresponding Lunar Date", res_subtitle_solar: "Corresponding Solar Date",
                lbl_zodiac: "Zodiac", lbl_ganzhi: "Gan-Zhi", lbl_week: "Week", lbl_term: "Solar Term", lbl_yi_ji: "Info/Festival:",
                ref_title: "Quick Reference",
                ref_txt: "<p>â€¢ The Chinese Lunar Calendar combines lunar (moon) and solar (sun) cycles.</p><p>â€¢ Leap months are added every 2-3 years to synchronize with the solar year.</p><p>â€¢ Supports years from 1900 to 2100.</p>",
                footer_txt: "Lunar Calendar Tool. Educational Purpose.",
                unit_year: "", unit_month: "", unit_day: "",
                invalid_date: "Invalid Date", check_input: "Check Input"
            },
            'ru': {
                title: "Ğ›ÑƒĞ½Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ", subtitle: "ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ğ»ÑƒĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸ ÑĞ¾Ğ»Ğ½ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ĞµĞ¹",
                tab_s2l: "Ğ¡Ğ¾Ğ»Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ â†’ Ğ›ÑƒĞ½Ğ½Ñ‹Ğ¹", tab_l2s: "Ğ›ÑƒĞ½Ğ½Ñ‹Ğ¹ â†’ Ğ¡Ğ¾Ğ»Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹",
                lbl_input_solar: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ¾Ğ»Ğ½ĞµÑ‡Ğ½ÑƒÑ Ğ´Ğ°Ñ‚Ñƒ", lbl_input_lunar: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ»ÑƒĞ½Ğ½ÑƒÑ Ğ´Ğ°Ñ‚Ñƒ",
                lbl_leap: "Ğ’Ğ¸ÑĞ¾ĞºĞ¾ÑĞ½Ñ‹Ğ¹ Ğ¼ĞµÑÑÑ†", btn_convert: "ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ",
                res_subtitle_lunar: "Ğ›ÑƒĞ½Ğ½Ğ°Ñ Ğ´Ğ°Ñ‚Ğ°", res_subtitle_solar: "Ğ¡Ğ¾Ğ»Ğ½ĞµÑ‡Ğ½Ğ°Ñ Ğ´Ğ°Ñ‚Ğ°",
                lbl_zodiac: "Ğ—Ğ¾Ğ´Ğ¸Ğ°Ğº", lbl_ganzhi: "Ğ“Ğ°Ğ½ÑŒ-Ğ§Ğ¶Ğ¸", lbl_week: "Ğ”ĞµĞ½ÑŒ Ğ½ĞµĞ´ĞµĞ»Ğ¸", lbl_term: "Ğ¡ĞµĞ·Ğ¾Ğ½", lbl_yi_ji: "Ğ˜Ğ½Ñ„Ğ¾/ĞŸÑ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ğº:",
                ref_title: "Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°",
                ref_txt: "<p>â€¢ ĞšĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¸Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ ÑĞ¾Ñ‡ĞµÑ‚Ğ°ĞµÑ‚ Ğ»ÑƒĞ½Ğ½Ñ‹Ğµ Ğ¸ ÑĞ¾Ğ»Ğ½ĞµÑ‡Ğ½Ñ‹Ğµ Ñ†Ğ¸ĞºĞ»Ñ‹.</p><p>â€¢ Ğ’Ğ¸ÑĞ¾ĞºĞ¾ÑĞ½Ñ‹Ğµ Ğ¼ĞµÑÑÑ†Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2-3 Ğ³Ğ¾Ğ´Ğ°.</p><p>â€¢ Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½: 1900â€“2100 Ğ³Ğ³.</p>",
                footer_txt: "Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ»ÑƒĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ.",
                unit_year: "Ğ³.", unit_month: ".", unit_day: "",
                invalid_date: "ĞĞµĞ²ĞµÑ€Ğ½Ğ°Ñ Ğ´Ğ°Ñ‚Ğ°", check_input: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ²Ğ²Ğ¾Ğ´"
            },
            'es': {
                title: "Conversor Lunar Solar", subtitle: "Convertir entre Solar y Lunar",
                tab_s2l: "Solar a Lunar", tab_l2s: "Lunar a Solar",
                lbl_input_solar: "Seleccionar Fecha Solar", lbl_input_lunar: "Seleccionar Fecha Lunar",
                lbl_leap: "Mes Bisiesto", btn_convert: "Convertir",
                res_subtitle_lunar: "Fecha Lunar", res_subtitle_solar: "Fecha Solar",
                lbl_zodiac: "Zodiaco", lbl_ganzhi: "Gan-Zhi", lbl_week: "Semana", lbl_term: "TÃ©rmino Solar", lbl_yi_ji: "Info/Festival:",
                ref_title: "Referencia RÃ¡pida",
                ref_txt: "<p>â€¢ El calendario chino combina ciclos lunares y solares.</p><p>â€¢ Se aÃ±aden meses bisiestos cada 2-3 aÃ±os.</p><p>â€¢ Soporta aÃ±os de 1900 a 2100.</p>",
                footer_txt: "Herramienta de Calendario Lunar.",
                unit_year: "", unit_month: "", unit_day: "",
                invalid_date: "Fecha InvÃ¡lida", check_input: "Verificar Entrada"
            },
            'hi': {
                title: "à¤šà¤‚à¤¦à¥à¤° à¤¸à¥Œà¤° à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤•", subtitle: "à¤šà¤‚à¤¦à¥à¤° à¤”à¤° à¤¸à¥Œà¤° à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°",
                tab_s2l: "à¤¸à¥Œà¤° à¤¸à¥‡ à¤šà¤‚à¤¦à¥à¤°", tab_l2s: "à¤šà¤‚à¤¦à¥à¤° à¤¸à¥‡ à¤¸à¥Œà¤°",
                lbl_input_solar: "à¤¸à¥Œà¤° à¤¤à¤¿à¤¥à¤¿ à¤šà¥à¤¨à¥‡à¤‚", lbl_input_lunar: "à¤šà¤‚à¤¦à¥à¤° à¤¤à¤¿à¤¥à¤¿ à¤šà¥à¤¨à¥‡à¤‚",
                lbl_leap: "à¤…à¤§à¤¿à¤• à¤®à¤¾à¤¸ (Leap)", btn_convert: "à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",
                res_subtitle_lunar: "à¤šà¤‚à¤¦à¥à¤° à¤¤à¤¿à¤¥à¤¿", res_subtitle_solar: "à¤¸à¥Œà¤° à¤¤à¤¿à¤¥à¤¿",
                lbl_zodiac: "à¤°à¤¾à¤¶à¤¿ (Zodiac)", lbl_ganzhi: "à¤—à¤¾à¤‚-à¤à¥€ (Gan-Zhi)", lbl_week: "à¤¸à¤ªà¥à¤¤à¤¾à¤¹", lbl_term: "à¤¸à¥Œà¤° à¤¶à¤¬à¥à¤¦", lbl_yi_ji: "à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€/à¤¤à¥à¤¯à¥‹à¤¹à¤¾à¤°:",
                ref_title: "à¤¤à¥à¤µà¤°à¤¿à¤¤ à¤¸à¤‚à¤¦à¤°à¥à¤­",
                ref_txt: "<p>â€¢ à¤šà¥€à¤¨à¥€ à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤šà¤‚à¤¦à¥à¤° à¤”à¤° à¤¸à¥Œà¤° à¤šà¤•à¥à¤°à¥‹à¤‚ à¤•à¥‹ à¤œà¥‹à¤¡à¤¼à¤¤à¤¾ à¤¹à¥ˆà¥¤</p><p>â€¢ à¤¹à¤° 2-3 à¤¸à¤¾à¤² à¤®à¥‡à¤‚ à¤à¤• à¤…à¤§à¤¿à¤• à¤®à¤¾à¤¸ à¤œà¥‹à¤¡à¤¼à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤</p><p>â€¢ 1900 à¤¸à¥‡ 2100 à¤¤à¤• à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤</p>",
                footer_txt: "à¤šà¤‚à¤¦à¥à¤° à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤‰à¤ªà¤•à¤°à¤£à¥¤",
                unit_year: "", unit_month: "", unit_day: "",
                invalid_date: "à¤…à¤®à¤¾à¤¨à¥à¤¯ à¤¤à¤¿à¤¥à¤¿", check_input: "à¤‡à¤¨à¤ªà¥à¤Ÿ à¤œà¤¾à¤‚à¤šà¥‡à¤‚"
            },
            'pl': {
                title: "Konwerter Kalendarza", subtitle: "SÅ‚oneczny <-> KsiÄ™Å¼ycowy",
                tab_s2l: "SÅ‚oneczny na KsiÄ™Å¼ycowy", tab_l2s: "KsiÄ™Å¼ycowy na SÅ‚oneczny",
                lbl_input_solar: "Wybierz datÄ™ sÅ‚onecznÄ…", lbl_input_lunar: "Wybierz datÄ™ ksiÄ™Å¼ycowÄ…",
                lbl_leap: "MiesiÄ…c przÄ™p.", btn_convert: "Konwertuj",
                res_subtitle_lunar: "Data ksiÄ™Å¼ycowa", res_subtitle_solar: "Data sÅ‚oneczna",
                lbl_zodiac: "Zodiak", lbl_ganzhi: "Gan-Zhi", lbl_week: "TydzieÅ„", lbl_term: "Termin solarny", lbl_yi_ji: "Info/ÅšwiÄ™to:",
                ref_title: "Szybkie odniesienie",
                ref_txt: "<p>â€¢ Kalendarz chiÅ„ski Å‚Ä…czy cykle ksiÄ™Å¼ycowe i sÅ‚oneczne.</p><p>â€¢ MiesiÄ…ce przestÄ™pne sÄ… dodawane co 2-3 lata.</p><p>â€¢ ObsÅ‚uguje lata 1900-2100.</p>",
                footer_txt: "NarzÄ™dzie kalendarza ksiÄ™Å¼ycowego.",
                unit_year: "r.", unit_month: "", unit_day: "",
                invalid_date: "NieprawidÅ‚owa data", check_input: "SprawdÅº dane"
            }
        };

        const App = {
            lang: 'zh-CN',
            mode: 'solar2lunar', // 'solar2lunar' or 'lunar2solar'
            
            // UI References
            els: {
                tabS2L: document.getElementById('tab-s2l'),
                tabL2S: document.getElementById('tab-l2s'),
                inputLabel: document.getElementById('input-label'),
                selYear: document.getElementById('sel-year'),
                selMonth: document.getElementById('sel-month'),
                selDay: document.getElementById('sel-day'),
                leapContainer: document.getElementById('leap-container'),
                chkLeap: document.getElementById('chk-leap'),
                resContainer: document.getElementById('result-container'),
                resSubtitle: document.getElementById('res-subtitle'),
                resMain: document.getElementById('res-main'),
                resSub: document.getElementById('res-sub'),
                resZodiac: document.getElementById('res-zodiac'),
                resGanzhi: document.getElementById('res-ganzhi'),
                resWeek: document.getElementById('res-week'),
                resTerm: document.getElementById('res-term'),
                resYiJi: document.getElementById('res-yi-ji')
            },

            init() {
                this.setupTheme();
                this.setupLang();
                this.initSelectors();
                
                // Set default to today
                const today = new Date();
                this.els.selYear.value = today.getFullYear();
                this.els.selMonth.value = today.getMonth() + 1;
                this.updateDays(); // Fill days
                this.els.selDay.value = today.getDate();
                
                // Initial calc
                this.calculate();
                
                // Footer year
                document.getElementById('cur-year').innerText = today.getFullYear();
            },

            setupTheme() {
                const toggle = document.getElementById('mode-toggle');
                const html = document.documentElement;
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    html.classList.add('dark');
                }
                toggle.addEventListener('click', () => {
                    html.classList.toggle('dark');
                    localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
                });
            },

            setupLang() {
                const sel = document.getElementById('lang-selector');
                const urlParams = new URLSearchParams(window.location.search);
                const queryLang = urlParams.get('lang');
                
                // Priority: URL Param > LocalStorage (optional logic) > Default 'zh-CN'
                if (queryLang && i18nData[queryLang]) {
                    this.lang = queryLang;
                } else {
                    this.lang = 'zh-CN';
                }
                
                sel.value = this.lang;
                this.updateText();

                sel.addEventListener('change', (e) => {
                    this.lang = e.target.value;
                    
                    // Update URL without reload
                    try {
                        const newUrl = new URL(window.location);
                        newUrl.searchParams.set('lang', this.lang);
                        window.history.pushState({}, '', newUrl);
                    } catch (e) {}
                    
                    this.updateText();
                    this.initSelectors(); // Re-render selectors (Month names)
                    this.updateDays();    // Re-render days
                    this.calculate();     // Re-calc result
                });
            },

            updateText() {
                const dict = i18nData[this.lang];
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(dict[key]) {
                        if(el.tagName === 'SPAN' || el.tagName === 'H1' || el.tagName === 'P' || el.tagName === 'DIV' || el.tagName === 'H2' || el.tagName === 'H3' || el.tagName === 'BUTTON') {
                            el.innerHTML = dict[key]; // innerHTML to support <p> tags in ref_txt
                        } else {
                            el.textContent = dict[key];
                        }
                    }
                });
                
                // Update dynamic label based on current mode
                if (this.mode === 'solar2lunar') {
                    this.els.inputLabel.innerText = dict.lbl_input_solar;
                    this.els.resSubtitle.innerText = dict.res_subtitle_lunar;
                } else {
                    this.els.inputLabel.innerText = dict.lbl_input_lunar;
                    this.els.resSubtitle.innerText = dict.res_subtitle_solar;
                }
            },

            initSelectors() {
                const dict = i18nData[this.lang];
                
                // Populate Year (1900 - 2100)
                // Use stored value if exists to prevent reset on lang change
                const currentYear = this.els.selYear.value;
                let htmlYear = '';
                for (let y = 1900; y <= 2100; y++) {
                    const unit = dict.unit_year || "";
                    htmlYear += `<option value="${y}">${y}${unit}</option>`;
                }
                this.els.selYear.innerHTML = htmlYear;
                if(currentYear) this.els.selYear.value = currentYear;

                // Populate Month
                this.populateMonths();
            },

            populateMonths() {
                const dict = i18nData[this.lang];
                const currentMonth = this.els.selMonth.value;
                
                let htmlMonth = '';
                const isLunar = this.mode === 'lunar2solar';
                // Chinese Lunar Month Names are fixed in culture, but we can translate "Month 1" for others
                const lunarMonths = ['æ­£æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'å†¬æœˆ', 'è…Šæœˆ'];
                
                for (let m = 1; m <= 12; m++) {
                    let name;
                    if (isLunar) {
                        // If language is Chinese-ish, use traditional names, else numeric
                        if (this.lang.startsWith('zh')) {
                            name = lunarMonths[m-1];
                        } else {
                            name = (dict.unit_month ? `${m}${dict.unit_month}` : `Lunar Month ${m}`);
                        }
                    } else {
                        // Solar months
                        name = (dict.unit_month ? `${m}${dict.unit_month}` : `${m}`);
                        if (this.lang === 'en') {
                             const enMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                             name = enMonths[m-1];
                        }
                    }
                    htmlMonth += `<option value="${m}">${name}</option>`;
                }
                
                this.els.selMonth.innerHTML = htmlMonth;
                if(currentMonth) this.els.selMonth.value = currentMonth;
            },

            updateDays() {
                const year = parseInt(this.els.selYear.value);
                const month = parseInt(this.els.selMonth.value);
                let daysCount = 31;

                // Solar Logic
                if (this.mode === 'solar2lunar') {
                    daysCount = new Date(year, month, 0).getDate();
                } else {
                    // Lunar Logic
                    try {
                        const lunarMonthDays = LunarUtil.getDaysOfMonth(year, month);
                        daysCount = lunarMonthDays;
                        
                        // Check Leap Month
                        const leapMonth = LunarUtil.getLeapMonth(year);
                        if (leapMonth === month) {
                            this.els.leapContainer.classList.remove('hidden');
                            if (this.els.chkLeap.checked) {
                                daysCount = LunarUtil.getDaysOfLeapMonth(year);
                            }
                        } else {
                            this.els.leapContainer.classList.add('hidden');
                            this.els.chkLeap.checked = false;
                        }
                    } catch (e) {
                        daysCount = 30; 
                    }
                }

                // Populate Days
                const dict = i18nData[this.lang];
                const currentDay = parseInt(this.els.selDay.value);
                
                let htmlDay = '';
                const isLunar = this.mode === 'lunar2solar';
                const lunarDays = ["åˆä¸€", "åˆäºŒ", "åˆä¸‰", "åˆå››", "åˆäº”", "åˆå…­", "åˆä¸ƒ", "åˆå…«", "åˆä¹", "åˆå", 
                                  "åä¸€", "åäºŒ", "åä¸‰", "åå››", "åäº”", "åå…­", "åä¸ƒ", "åå…«", "åä¹", "äºŒå", 
                                  "å»¿ä¸€", "å»¿äºŒ", "å»¿ä¸‰", "å»¿å››", "å»¿äº”", "å»¿å…­", "å»¿ä¸ƒ", "å»¿å…«", "å»¿ä¹", "ä¸‰å"];

                for (let d = 1; d <= daysCount; d++) {
                    let name;
                    if (isLunar && this.lang.startsWith('zh')) {
                        name = lunarDays[d-1] || d;
                    } else {
                        name = `${d}${dict.unit_day || ''}`;
                    }
                    htmlDay += `<option value="${d}">${name}</option>`;
                }
                
                this.els.selDay.innerHTML = htmlDay;
                if (currentDay <= daysCount) {
                    this.els.selDay.value = currentDay;
                } else {
                    this.els.selDay.value = 1;
                }
                
                this.calculate();
            },

            switchMode(newMode) {
                this.mode = newMode;
                const dict = i18nData[this.lang];

                if (newMode === 'solar2lunar') {
                    this.els.tabS2L.classList.add('active');
                    this.els.tabL2S.classList.remove('active');
                    this.els.inputLabel.innerText = dict.lbl_input_solar;
                    this.els.resSubtitle.innerText = dict.res_subtitle_lunar;
                    this.els.leapContainer.classList.add('hidden');
                } else {
                    this.els.tabL2S.classList.add('active');
                    this.els.tabS2L.classList.remove('active');
                    this.els.inputLabel.innerText = dict.lbl_input_lunar;
                    this.els.resSubtitle.innerText = dict.res_subtitle_solar;
                }

                this.populateMonths();
                this.updateDays();
            },

            calculate() {
                const year = parseInt(this.els.selYear.value);
                const month = parseInt(this.els.selMonth.value);
                const day = parseInt(this.els.selDay.value);
                const dict = i18nData[this.lang];

                if (!year || !month || !day) return;

                let displayMain = '';
                let displaySub = '';
                let lunarObj = null;
                let solarObj = null;
                
                // Helper for translated year/month/day
                const fmtSolar = (s) => {
                    if (this.lang === 'en') return s.toYmd(); // 2024-10-01
                    return `${s.getYear()}${dict.unit_year} ${s.getMonth()}${dict.unit_month} ${s.getDay()}${dict.unit_day}`;
                }

                try {
                    if (this.mode === 'solar2lunar') {
                        solarObj = Solar.fromYmd(year, month, day);
                        lunarObj = solarObj.getLunar();

                        // Lunar result always looks better in Chinese characters even for other langs, 
                        // but we can transliterate or simplify if needed. 
                        // For now, keeping core lunar format standard but with local context labels.
                        displayMain = `
                            <span class="text-rose-600 dark:text-rose-400">${lunarObj.getMonthInChinese()}æœˆ${lunarObj.getDayInChinese()}</span>
                        `;
                        displaySub = fmtSolar(solarObj);

                    } else {
                        const isLeap = this.els.chkLeap.checked;
                        lunarObj = Lunar.fromYmd(year, month, day, isLeap);
                        solarObj = lunarObj.getSolar();

                        displayMain = `
                            <span class="text-sky-600 dark:text-sky-400">${fmtSolar(solarObj)}</span>
                        `;
                        displaySub = `${lunarObj.getYearInChinese()}å¹´ ${lunarObj.getMonthInChinese()}æœˆ${lunarObj.getDayInChinese()} ${isLeap ? '(é—°)' : ''}`;
                    }

                    // Update UI
                    this.els.resMain.innerHTML = displayMain;
                    this.els.resSub.innerHTML = displaySub;
                    
                    // Detailed Info
                    // Zodiac
                    let zodiac = lunarObj.getYearShengXiao();
                    // Basic English mapping for Zodiac if not Chinese
                    if (!this.lang.startsWith('zh')) {
                        const zodiacEn = {
                            'é¼ ': 'Rat ğŸ€', 'ç‰›': 'Ox ğŸ‚', 'è™': 'Tiger ğŸ…', 'å…”': 'Rabbit ğŸ‡',
                            'é¾™': 'Dragon ğŸ‰', 'è›‡': 'Snake ğŸ', 'é©¬': 'Horse ğŸ', 'ç¾Š': 'Goat ğŸ',
                            'çŒ´': 'Monkey ğŸ’', 'é¸¡': 'Rooster ğŸ“', 'ç‹—': 'Dog ğŸ•', 'çŒª': 'Pig ğŸ–'
                        };
                        if(zodiacEn[zodiac]) zodiac = zodiacEn[zodiac];
                    }
                    this.els.resZodiac.innerText = zodiac;

                    // Ganzhi (Keep Chinese, maybe add Pinyin? Keeping simple for now)
                    this.els.resGanzhi.innerText = `${lunarObj.getYearInGanZhi()} ${lunarObj.getMonthInGanZhi()} ${lunarObj.getDayInGanZhi()}`;
                    
                    // Week
                    let week = solarObj.getWeek(); // 0-6
                    const weekMap = {
                        'zh-CN': ["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],
                        'zh-TW': ["é€±æ—¥","é€±ä¸€","é€±äºŒ","é€±ä¸‰","é€±å››","é€±äº”","é€±å…­"],
                        'en': ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],
                        'ru': ["Ğ’Ñ","ĞŸĞ½","Ğ’Ñ‚","Ğ¡Ñ€","Ğ§Ñ‚","ĞŸÑ‚","Ğ¡Ğ±"],
                        'es': ["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"],
                        'pl': ["Niedz","Pon","Wt","Åšr","Czw","Pt","Sob"],
                        'hi': ["à¤°à¤µà¤¿","à¤¸à¥‹à¤®","à¤®à¤‚à¤—à¤²","à¤¬à¥à¤§","à¤—à¥à¤°à¥","à¤¶à¥à¤•à¥à¤°","à¤¶à¤¨à¤¿"]
                    };
                    this.els.resWeek.innerText = (weekMap[this.lang] || weekMap['en'])[week];
                    
                    // Jieqi
                    const term = lunarObj.getJieQi();
                    this.els.resTerm.innerText = term ? term : '-';

                    // Festivals
                    const festivals = lunarObj.getFestivals().concat(solarObj.getFestivals());
                    if (festivals.length > 0) {
                        this.els.resYiJi.innerHTML = `<span class="text-rose-500 font-bold">${festivals.join('ã€')}</span>`;
                    } else {
                        this.els.resYiJi.innerText = "-";
                    }

                    this.els.resContainer.classList.remove('opacity-0');

                } catch (e) {
                    console.error(e);
                    this.els.resMain.innerText = dict.invalid_date;
                    this.els.resSub.innerText = dict.check_input;
                }
            }
        };

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
     <!--  ç»“å°¾å¿…é¡»åŒ…å«çš„ä»£ç  -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>