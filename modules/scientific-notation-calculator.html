<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Notation Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="scientific_notation_calc">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ”¬">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Scientific Notation Calculator">
    <meta name="description" content="Convert numbers to and from scientific notation.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ç§‘å­¦è®¡æ•°æ³•è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="åœ¨æ™®é€šæ•°å­—å’Œç§‘å­¦è®¡æ•°æ³•ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚">
    
    <meta name="lang-title-zh-TW" content="ç§‘å­¸è¨˜æ•¸æ³•è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="åœ¨æ™®é€šæ•¸å­—å’Œç§‘å­¸è¨˜æ•¸æ³•ä¹‹é–“é€²è¡Œè½‰æ›ã€‚">
    
    <meta name="lang-title-ja" content="ç§‘å­¦è¡¨è¨˜æ³•å¤‰æ›ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="æ•°å€¤ã‚’é€šå¸¸è¡¨è¨˜ã¨ç§‘å­¦è¡¨è¨˜æ³•ã®é–“ã§å¤‰æ›ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ½Ğ°ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ğ¸">
    <meta name="lang-description-ru" content="ĞšĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ° Ğ² Ğ½Ğ°ÑƒÑ‡Ğ½ÑƒÑ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="scientific_notation_calc" 
         data-category="math" 
         data-title="Scientific Notation Calculator" 
         data-icon="ğŸ”¬">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="sci-lang" onchange="SciNotationCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ”¬ Scientific Notation Calculator</h2>
        
        <div class="grid grid-cols-1 gap-6 mb-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="input_number">Enter a number</label>
                <input type="text" id="sci-input" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 123456 or 1.23e5">
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button onclick="SciNotationCalc.toScientific()" class="bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition" data-i18n="to_scientific">Convert to Scientific Notation</button>
                <button onclick="SciNotationCalc.toStandard()" class="bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="to_standard">Convert to Standard Form</button>
            </div>
        </div>

        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div id="sci-result" class="text-2xl font-bold text-blue-800 min-h-[40px]">--</div>
            <div id="sci-error" class="text-sm text-red-600 mt-2 hidden"></div>
        </div>

        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="examples">Examples:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="examples_list">
                <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                <li>1.23e5 â†’ 123000</li>
                <li>4.56e-3 â†’ 0.00456</li>
            </ul>
        </div>
    </div>

    <script>
        const SciNotationCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ”¬ Scientific Notation Calculator',
                    input_number: 'Enter a number',
                    to_scientific: 'Convert to Scientific Notation',
                    to_standard: 'Convert to Standard Form',
                    result: 'Result',
                    err_invalid: 'Invalid number format',
                    examples: 'Examples:',
                    examples_list: `
                        <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                        <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                        <li>1.23e5 â†’ 123000</li>
                        <li>4.56e-3 â†’ 0.00456</li>
                    `
                },
                'zh-CN': {
                    title: 'ğŸ”¬ ç§‘å­¦è®¡æ•°æ³•è®¡ç®—å™¨',
                    input_number: 'è¾“å…¥æ•°å­—',
                    to_scientific: 'è½¬æ¢ä¸ºç§‘å­¦è®¡æ•°æ³•',
                    to_standard: 'è½¬æ¢ä¸ºæ ‡å‡†å½¢å¼',
                    result: 'ç»“æœ',
                    err_invalid: 'æ— æ•ˆçš„æ•°å­—æ ¼å¼',
                    examples: 'ç¤ºä¾‹ï¼š',
                    examples_list: `
                        <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                        <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                        <li>1.23e5 â†’ 123000</li>
                        <li>4.56e-3 â†’ 0.00456</li>
                    `
                },
                'zh-TW': {
                    title: 'ğŸ”¬ ç§‘å­¸è¨˜æ•¸æ³•è¨ˆç®—å™¨',
                    input_number: 'è¼¸å…¥æ•¸å­—',
                    to_scientific: 'è½‰æ›ç‚ºç§‘å­¸è¨˜æ•¸æ³•',
                    to_standard: 'è½‰æ›ç‚ºæ¨™æº–å½¢å¼',
                    result: 'çµæœ',
                    err_invalid: 'ç„¡æ•ˆçš„æ•¸å­—æ ¼å¼',
                    examples: 'ç¤ºä¾‹ï¼š',
                    examples_list: `
                        <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                        <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                        <li>1.23e5 â†’ 123000</li>
                        <li>4.56e-3 â†’ 0.00456</li>
                    `
                },
                'ja': {
                    title: 'ğŸ”¬ ç§‘å­¦è¡¨è¨˜æ³•å¤‰æ›ãƒ„ãƒ¼ãƒ«',
                    input_number: 'æ•°å€¤ã‚’å…¥åŠ›',
                    to_scientific: 'ç§‘å­¦è¡¨è¨˜æ³•ã«å¤‰æ›',
                    to_standard: 'æ¨™æº–å½¢å¼ã«å¤‰æ›',
                    result: 'çµæœ',
                    err_invalid: 'ç„¡åŠ¹ãªæ•°å€¤å½¢å¼',
                    examples: 'ä¾‹ï¼š',
                    examples_list: `
                        <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                        <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                        <li>1.23e5 â†’ 123000</li>
                        <li>4.56e-3 â†’ 0.00456</li>
                    `
                },
                'ru': {
                    title: 'ğŸ”¬ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ½Ğ°ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ğ¸',
                    input_number: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾',
                    to_scientific: 'ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ½Ğ°ÑƒÑ‡Ğ½ÑƒÑ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ',
                    to_standard: 'ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½ÑƒÑ Ñ„Ğ¾Ñ€Ğ¼Ñƒ',
                    result: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    err_invalid: 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ñ‡Ğ¸ÑĞ»Ğ°',
                    examples: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹:',
                    examples_list: `
                        <li>123456 â†’ 1.23456 Ã— 10âµ</li>
                        <li>0.000123 â†’ 1.23 Ã— 10â»â´</li>
                        <li>1.23e5 â†’ 123000</li>
                        <li>4.56e-3 â†’ 0.00456</li>
                    `
                }
            },

            init: () => {
                // è®¾ç½®é»˜è®¤å€¼
                document.getElementById('sci-input').value = '123456';
            },

            changeLang: () => {
                const lang = document.getElementById('sci-lang').value;
                const texts = SciNotationCalc.i18n[lang];
                
                // æ›´æ–°æ™®é€šæ–‡æœ¬
                document.querySelectorAll('[data-id="scientific_notation_calc"] [data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        if (key === 'examples_list') {
                            el.innerHTML = texts[key];
                        } else {
                            el.innerText = texts[key];
                        }
                    }
                });
            },

            showError: (message) => {
                const resultEl = document.getElementById('sci-result');
                const errorEl = document.getElementById('sci-error');
                
                resultEl.innerText = '';
                errorEl.innerText = message;
                errorEl.classList.remove('hidden');
            },

            clearError: () => {
                const errorEl = document.getElementById('sci-error');
                errorEl.classList.add('hidden');
                errorEl.innerText = '';
            },

            // è½¬æ¢ä¸ºç§‘å­¦è®¡æ•°æ³•
            toScientific: () => {
                const input = document.getElementById('sci-input').value.trim();
                const lang = document.getElementById('sci-lang').value;
                const texts = SciNotationCalc.i18n[lang];
                
                SciNotationCalc.clearError();
                
                if (!input) return;
                
                // è§£ææ•°å­—
                const num = parseFloat(input);
                if (isNaN(num)) {
                    return SciNotationCalc.showError(texts.err_invalid);
                }
                
                // å¤„ç†ç‰¹æ®Šæƒ…å†µ
                if (num === 0) {
                    document.getElementById('sci-result').innerText = '0 Ã— 10â°';
                    return;
                }
                
                // è®¡ç®—ç§‘å­¦è®¡æ•°æ³•
                let exponent = 0;
                let mantissa = num;
                
                if (Math.abs(mantissa) >= 10) {
                    while (Math.abs(mantissa) >= 10) {
                        mantissa /= 10;
                        exponent++;
                    }
                } else if (Math.abs(mantissa) < 1 && mantissa !== 0) {
                    while (Math.abs(mantissa) < 1) {
                        mantissa *= 10;
                        exponent--;
                    }
                }
                
                // æ ¼å¼åŒ–ç»“æœ
                const formattedMantissa = mantissa.toFixed(5).replace(/\.?0+$/, '').replace(/\.$/, '');
                const exponentStr = SciNotationCalc.formatExponent(exponent);
                
                document.getElementById('sci-result').innerText = `${formattedMantissa} Ã— 10${exponentStr}`;
            },

            // è½¬æ¢ä¸ºæ ‡å‡†å½¢å¼
            toStandard: () => {
                const input = document.getElementById('sci-input').value.trim();
                const lang = document.getElementById('sci-lang').value;
                const texts = SciNotationCalc.i18n[lang];
                
                SciNotationCalc.clearError();
                
                if (!input) return;
                
                // å°è¯•åŒ¹é…ç§‘å­¦è®¡æ•°æ³•æ ¼å¼ (aeb æˆ– aÃ—10^b)
                const sciNotationRegex = /^([+-]?\d+(\.\d+)?)\s*[Ã—x*]\s*10\^?(\d+|âˆ’-?\d+)$/i;
                const eNotationRegex = /^([+-]?\d+(\.\d+)?)([eE])([+-]?\d+)$/;
                
                let num;
                if (sciNotationRegex.test(input)) {
                    const match = input.match(sciNotationRegex);
                    const mantissa = parseFloat(match[1]);
                    const exponent = parseInt(match[3].replace('âˆ’', '-'));
                    num = mantissa * Math.pow(10, exponent);
                } else if (eNotationRegex.test(input)) {
                    const match = input.match(eNotationRegex);
                    const mantissa = parseFloat(match[1]);
                    const exponent = parseInt(match[4]);
                    num = mantissa * Math.pow(10, exponent);
                } else {
                    // å°è¯•ç›´æ¥è§£ææ•°å­—
                    num = parseFloat(input);
                    if (isNaN(num)) {
                        return SciNotationCalc.showError(texts.err_invalid);
                    }
                }
                
                // å¤„ç†æå¤§æˆ–æå°çš„æ•°å­—ï¼Œé¿å…æ˜¾ç¤ºè¿‡å¤šå°æ•°
                if (Math.abs(num) > 1e20 || Math.abs(num) < 1e-6 && num !== 0) {
                    document.getElementById('sci-result').innerText = num.toExponential().replace('e', 'e');
                } else {
                    // ç§»é™¤ä¸å¿…è¦çš„å°¾éšé›¶
                    document.getElementById('sci-result').innerText = num.toString().replace(/\.?0+$/, '').replace(/\.$/, '');
                }
            },

            // æ ¼å¼åŒ–æŒ‡æ•°ä¸ºä¸Šæ ‡
            formatExponent: (exponent) => {
                const digits = '0123456789';
                const superscript = 'â°Â¹Â²Â³â´âµâ¶â·â¸â¹';
                const sign = exponent < 0 ? 'â»' : '';
                const absExp = Math.abs(exponent).toString();
                
                let result = sign;
                for (let i = 0; i < absExp.length; i++) {
                    result += superscript[digits.indexOf(absExp[i])];
                }
                
                return result;
            }
        };

        document.addEventListener('DOMContentLoaded', SciNotationCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('sci-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    SciNotationCalc.changeLang();
                }
            }
        });
    </script>

</body>

</html>
