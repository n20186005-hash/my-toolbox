<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Right Triangle Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="right_triangle_calc">
    <meta name="category" content="math">
    <meta name="icon" content="ğŸ”º">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Right Triangle Calculator">
    <meta name="description" content="Calculate sides, angles, area and perimeter of a right triangle.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ç›´è§’ä¸‰è§’å½¢è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—ç›´è§’ä¸‰è§’å½¢çš„è¾¹é•¿ã€è§’åº¦ã€é¢ç§¯å’Œå‘¨é•¿ã€‚">
    
    <meta name="lang-title-zh-TW" content="ç›´è§’ä¸‰è§’å½¢è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—ç›´è§’ä¸‰è§’å½¢çš„é‚Šé•·ã€è§’åº¦ã€é¢ç©å’Œå‘¨é•·ã€‚">
    
    <meta name="lang-title-ja" content="ç›´è§’ä¸‰è§’å½¢è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ç›´è§’ä¸‰è§’å½¢ã®è¾ºã®é•·ã•ã€è§’åº¦ã€é¢ç©ã€å‘¨å›²é•·ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°">
    <meta name="lang-description-ru" content="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹, ÑƒĞ³Ğ»Ñ‹, Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ Ğ¸ Ğ¿ĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 700px; margin: 0 auto; position: relative; }
        .result-container { word-break: break-all; }
        .input-group { display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0; }
        .input-item { flex: 1; min-width: 150px; }
        .triangle-diagram { text-align: center; margin: 20px 0; }
        .result-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .result-card { background: #f8fafc; padding: 15px; border-radius: 8px; border-left: 4px solid #3b82f6; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="right_triangle_calc" 
         data-category="math" 
         data-title="Right Triangle Calculator" 
         data-icon="ğŸ”º">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="triangle-lang" onchange="RightTriangleCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ”º Right Triangle Calculator</h2>
        
        <div class="triangle-diagram">
            <svg width="200" height="200" viewBox="0 0 200 200">
                <path d="M20,180 L180,180 L20,40 Z" fill="none" stroke="#3b82f6" stroke-width="2"/>
                <line x1="20" y1="180" x2="40" y2="180" stroke="#ef4444" stroke-width="2"/>
                <line x1="40" y1="180" x2="40" y2="160" stroke="#ef4444" stroke-width="2"/>
                <text x="100" y="190" font-size="12" fill="#64748b">a (adjacent)</text>
                <text x="10" y="100" font-size="12" fill="#64748b">b (opposite)</text>
                <text x="100" y="100" font-size="12" fill="#64748b">c (hypotenuse)</text>
                <text x="170" y="170" font-size="14" fill="#ef4444">90Â°</text>
            </svg>
        </div>
        
        <div class="space-y-4 mb-6">
            <!-- è®¡ç®—æ¨¡å¼é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calc_mode">Calculation Mode</label>
                <select id="triangle-mode" onchange="RightTriangleCalc.toggleInputs()" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="sides" data-i18n="mode_sides">Two Sides (a, b, c)</option>
                    <option value="side_angle" data-i18n="mode_side_angle">One Side + One Angle</option>
                </select>
            </div>
            
            <!-- è¾¹é•¿è¾“å…¥åŒºåŸŸ -->
            <div id="sides-inputs" class="input-group">
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="side_a">Side a (adjacent)</label>
                    <input type="number" id="side-a" min="0.001" step="0.001" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 3">
                </div>
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="side_b">Side b (opposite)</label>
                    <input type="number" id="side-b" min="0.001" step="0.001" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 4">
                </div>
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="side_c">Side c (hypotenuse)</label>
                    <input type="number" id="side-c" min="0.001" step="0.001" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 5">
                </div>
            </div>
            
            <!-- è¾¹+è§’è¾“å…¥åŒºåŸŸ -->
            <div id="side-angle-inputs" class="input-group hidden">
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="side_value">Side Value</label>
                    <input type="number" id="side-value" min="0.001" step="0.001" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 3">
                </div>
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="side_type">Side Type</label>
                    <select id="side-type" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="a" data-i18n="side_a">a (adjacent)</option>
                        <option value="b" data-i18n="side_b">b (opposite)</option>
                        <option value="c" data-i18n="side_c">c (hypotenuse)</option>
                    </select>
                </div>
                <div class="input-item">
                    <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="angle_value">Angle (Â°)</label>
                    <input type="number" id="angle-value" min="0.1" max="89.9" step="0.1" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 37">
                </div>
            </div>
            
            <!-- ç²¾åº¦é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="precision">Precision (decimal places)</label>
                <input type="number" id="triangle-precision" min="0" max="10" value="2" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- è®¡ç®—æŒ‰é’® -->
            <button onclick="RightTriangleCalc.calc()" class="w-full bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate Triangle</button>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="triangle-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div class="result-grid">
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="side_a">Side a</div>
                <div id="result-a" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="side_b">Side b</div>
                <div id="result-b" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="side_c">Side c</div>
                <div id="result-c" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="angle_alpha">Angle Î± (Â°)</div>
                <div id="result-alpha" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="angle_beta">Angle Î² (Â°)</div>
                <div id="result-beta" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="area">Area</div>
                <div id="result-area" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="perimeter">Perimeter</div>
                <div id="result-perimeter" class="text-lg font-bold text-blue-800">--</div>
            </div>
            <div class="result-card">
                <div class="text-sm text-gray-500 mb-1" data-i18n="height">Height (to hypotenuse)</div>
                <div id="result-height" class="text-lg font-bold text-blue-800">--</div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="notes_list">
                <li>Pythagorean theorem: aÂ² + bÂ² = cÂ²</li>
                <li>Trigonometric ratios: sin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                <li>Angles sum: Î± + Î² = 90Â°</li>
                <li>Area = (a Ã— b) / 2</li>
            </ul>
        </div>
    </div>

    <script>
        const RightTriangleCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ”º Right Triangle Calculator',
                    calc_mode: 'Calculation Mode',
                    mode_sides: 'Two Sides (a, b, c)',
                    mode_side_angle: 'One Side + One Angle',
                    side_a: 'Side a (adjacent)',
                    side_b: 'Side b (opposite)',
                    side_c: 'Side c (hypotenuse)',
                    side_value: 'Side Value',
                    side_type: 'Side Type',
                    angle_value: 'Angle (Â°)',
                    precision: 'Precision (decimal places)',
                    calculate: 'Calculate Triangle',
                    angle_alpha: 'Angle Î± (Â°)',
                    angle_beta: 'Angle Î² (Â°)',
                    area: 'Area',
                    perimeter: 'Perimeter',
                    height: 'Height (to hypotenuse)',
                    notes: 'Notes:',
                    notes_list: `
                        <li>Pythagorean theorem: aÂ² + bÂ² = cÂ²</li>
                        <li>Trigonometric ratios: sin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                        <li>Angles sum: Î± + Î² = 90Â°</li>
                        <li>Area = (a Ã— b) / 2</li>
                    `,
                    err_no_input: 'Please enter at least two valid values',
                    err_invalid_value: 'All values must be positive numbers',
                    err_invalid_angle: 'Angle must be between 0.1Â° and 89.9Â°',
                    err_pythagoras: 'Values do not satisfy Pythagorean theorem',
                    err_insufficient_data: 'Insufficient data to calculate'
                },
                'zh-CN': {
                    title: 'ğŸ”º ç›´è§’ä¸‰è§’å½¢è®¡ç®—å™¨',
                    calc_mode: 'è®¡ç®—æ¨¡å¼',
                    mode_sides: 'ä¸¤è¾¹è®¡ç®— (a, b, c)',
                    mode_side_angle: 'ä¸€è¾¹ä¸€è§’è®¡ç®—',
                    side_a: 'è¾¹a (é‚»è¾¹)',
                    side_b: 'è¾¹b (å¯¹è¾¹)',
                    side_c: 'è¾¹c (æ–œè¾¹)',
                    side_value: 'è¾¹é•¿å€¼',
                    side_type: 'è¾¹ç±»å‹',
                    angle_value: 'è§’åº¦ (Â°)',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°ä½æ•°ï¼‰',
                    calculate: 'è®¡ç®—ä¸‰è§’å½¢å‚æ•°',
                    angle_alpha: 'è§’åº¦ Î± (Â°)',
                    angle_beta: 'è§’åº¦ Î² (Â°)',
                    area: 'é¢ç§¯',
                    perimeter: 'å‘¨é•¿',
                    height: 'æ–œè¾¹ä¸Šçš„é«˜',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>å‹¾è‚¡å®šç†ï¼šaÂ² + bÂ² = cÂ²</li>
                        <li>ä¸‰è§’å‡½æ•°ï¼šsin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                        <li>è§’åº¦å’Œï¼šÎ± + Î² = 90Â°</li>
                        <li>é¢ç§¯ = (a Ã— b) / 2</li>
                    `,
                    err_no_input: 'è¯·è‡³å°‘è¾“å…¥ä¸¤ä¸ªæœ‰æ•ˆå€¼',
                    err_invalid_value: 'æ‰€æœ‰å€¼å¿…é¡»ä¸ºæ­£æ•°',
                    err_invalid_angle: 'è§’åº¦å¿…é¡»åœ¨0.1Â°åˆ°89.9Â°ä¹‹é—´',
                    err_pythagoras: 'è¾“å…¥å€¼ä¸æ»¡è¶³å‹¾è‚¡å®šç†',
                    err_insufficient_data: 'æ•°æ®ä¸è¶³ï¼Œæ— æ³•è®¡ç®—'
                },
                'zh-TW': {
                    title: 'ğŸ”º ç›´è§’ä¸‰è§’å½¢è¨ˆç®—å™¨',
                    calc_mode: 'è¨ˆç®—æ¨¡å¼',
                    mode_sides: 'å…©é‚Šè¨ˆç®— (a, b, c)',
                    mode_side_angle: 'ä¸€é‚Šä¸€è§’è¨ˆç®—',
                    side_a: 'é‚Ša (é„°é‚Š)',
                    side_b: 'é‚Šb (å°é‚Š)',
                    side_c: 'é‚Šc (æ–œé‚Š)',
                    side_value: 'é‚Šé•·å€¼',
                    side_type: 'é‚Šé¡å‹',
                    angle_value: 'è§’åº¦ (Â°)',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•¸ä½æ•¸ï¼‰',
                    calculate: 'è¨ˆç®—ä¸‰è§’å½¢åƒæ•¸',
                    angle_alpha: 'è§’åº¦ Î± (Â°)',
                    angle_beta: 'è§’åº¦ Î² (Â°)',
                    area: 'é¢ç©',
                    perimeter: 'å‘¨é•·',
                    height: 'æ–œé‚Šä¸Šçš„é«˜',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>å‹¾è‚¡å®šç†ï¼šaÂ² + bÂ² = cÂ²</li>
                        <li>ä¸‰è§’å‡½æ•¸ï¼šsin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                        <li>è§’åº¦å’Œï¼šÎ± + Î² = 90Â°</li>
                        <li>é¢ç© = (a Ã— b) / 2</li>
                    `,
                    err_no_input: 'è«‹è‡³å°‘è¼¸å…¥å…©å€‹æœ‰æ•ˆå€¼',
                    err_invalid_value: 'æ‰€æœ‰å€¼å¿…é ˆç‚ºæ­£æ•¸',
                    err_invalid_angle: 'è§’åº¦å¿…é ˆåœ¨0.1Â°åˆ°89.9Â°ä¹‹é–“',
                    err_pythagoras: 'è¼¸å…¥å€¼ä¸æ»¿è¶³å‹¾è‚¡å®šç†',
                    err_insufficient_data: 'æ•¸æ“šä¸è¶³ï¼Œç„¡æ³•è¨ˆç®—'
                },
                'ja': {
                    title: 'ğŸ”º ç›´è§’ä¸‰è§’å½¢è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    calc_mode: 'è¨ˆç®—ãƒ¢ãƒ¼ãƒ‰',
                    mode_sides: '2è¾ºã‹ã‚‰è¨ˆç®— (a, b, c)',
                    mode_side_angle: '1è¾º+1è§’åº¦ã‹ã‚‰è¨ˆç®—',
                    side_a: 'è¾ºa (éš£è¾º)',
                    side_b: 'è¾ºb (å¯¾è¾º)',
                    side_c: 'è¾ºc (æ–œè¾º)',
                    side_value: 'è¾ºã®é•·ã•',
                    side_type: 'è¾ºã®ç¨®é¡',
                    angle_value: 'è§’åº¦ (Â°)',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°æ¡æ•°ï¼‰',
                    calculate: 'ä¸‰è§’å½¢ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨ˆç®—',
                    angle_alpha: 'è§’åº¦ Î± (Â°)',
                    angle_beta: 'è§’åº¦ Î² (Â°)',
                    area: 'é¢ç©',
                    perimeter: 'å‘¨å›²é•·',
                    height: 'æ–œè¾ºã¸ã®é«˜ã•',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>ãƒ”ã‚¿ã‚´ãƒ©ã‚¹ã®å®šç†ï¼šaÂ² + bÂ² = cÂ²</li>
                        <li>ä¸‰è§’é–¢æ•°ï¼šsin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                        <li>è§’åº¦ã®å’Œï¼šÎ± + Î² = 90Â°</li>
                        <li>é¢ç© = (a Ã— b) / 2</li>
                    `,
                    err_no_input: 'å°‘ãªãã¨ã‚‚2ã¤ã®æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_invalid_value: 'ã™ã¹ã¦ã®å€¤ã¯æ­£æ•°ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“',
                    err_invalid_angle: 'è§’åº¦ã¯0.1Â°ã‹ã‚‰89.9Â°ã®é–“ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“',
                    err_pythagoras: 'å€¤ãŒãƒ”ã‚¿ã‚´ãƒ©ã‚¹ã®å®šç†ã‚’æº€ãŸã—ã¦ã„ã¾ã›ã‚“',
                    err_insufficient_data: 'è¨ˆç®—ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã¾ã™'
                },
                'ru': {
                    title: 'ğŸ”º ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°',
                    calc_mode: 'Ğ ĞµĞ¶Ğ¸Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ°',
                    mode_sides: 'Ğ”Ğ²Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ (a, b, c)',
                    mode_side_angle: 'ĞĞ´Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° + Ğ¾Ğ´Ğ¸Ğ½ ÑƒĞ³Ğ¾Ğ»',
                    side_a: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° a (Ğ¿Ñ€Ğ¸Ğ»ĞµĞ¶Ğ°Ñ‰Ğ°Ñ)',
                    side_b: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° b (Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ)',
                    side_c: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° c (Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ½ÑƒĞ·Ğ°)',
                    side_value: 'Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹',
                    side_type: 'Ğ¢Ğ¸Ğ¿ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹',
                    angle_value: 'Ğ£Ğ³Ğ¾Ğ» (Â°)',
                    precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°ĞºĞ¸)',
                    calculate: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ°',
                    angle_alpha: 'Ğ£Ğ³Ğ¾Ğ» Î± (Â°)',
                    angle_beta: 'Ğ£Ğ³Ğ¾Ğ» Î² (Â°)',
                    area: 'ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ',
                    perimeter: 'ĞŸĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€',
                    height: 'Ğ’Ñ‹ÑĞ¾Ñ‚Ğ° (Ğº Ğ³Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞ½ÑƒĞ·Ğµ)',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    notes_list: `
                        <li>Ğ¢ĞµĞ¾Ñ€ĞµĞ¼Ğ° ĞŸĞ¸Ñ„Ğ°Ğ³Ğ¾Ñ€Ğ°ï¼šaÂ² + bÂ² = cÂ²</li>
                        <li>Ğ¢Ñ€Ğ¸Ğ³Ğ¾Ğ½Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñï¼šsin(Î±) = b/c, cos(Î±) = a/c, tan(Î±) = b/a</li>
                        <li>Ğ¡ÑƒĞ¼Ğ¼Ğ° ÑƒĞ³Ğ»Ğ¾Ğ²ï¼šÎ± + Î² = 90Â°</li>
                        <li>ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ = (a Ã— b) / 2</li>
                    `,
                    err_no_input: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ´Ğ²Ğ° Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ',
                    err_invalid_value: 'Ğ’ÑĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ñ‡Ğ¸ÑĞ»Ğ°Ğ¼Ğ¸',
                    err_invalid_angle: 'Ğ£Ğ³Ğ¾Ğ» Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ 0.1Â° Ğ¸ 89.9Â°',
                    err_pythagoras: 'Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ½Ğµ ÑƒĞ´Ğ¾Ğ²Ğ»ĞµÑ‚Ğ²Ğ¾Ñ€ÑÑÑ‚ Ñ‚ĞµĞ¾Ñ€ĞµĞ¼Ğµ ĞŸĞ¸Ñ„Ğ°Ğ³Ğ¾Ñ€Ğ°',
                    err_insufficient_data: 'ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ°'
                }
            },

            init: () => {
                // è®¾ç½®é»˜è®¤å€¼
                document.getElementById('side-a').value = '3';
                document.getElementById('side-b').value = '4';
                document.getElementById('triangle-precision').value = '2';
                
                // åˆå§‹åŒ–è¾“å…¥æ¡†åˆ‡æ¢
                RightTriangleCalc.toggleInputs();
            },

            toggleInputs: () => {
                const mode = document.getElementById('triangle-mode').value;
                const sidesInputs = document.getElementById('sides-inputs');
                const sideAngleInputs = document.getElementById('side-angle-inputs');
                
                if (mode === 'sides') {
                    sidesInputs.classList.remove('hidden');
                    sideAngleInputs.classList.add('hidden');
                } else {
                    sidesInputs.classList.add('hidden');
                    sideAngleInputs.classList.remove('hidden');
                }
                
                // æ¸…ç©ºé”™è¯¯æç¤º
                RightTriangleCalc.clearError();
            },

            changeLang: () => {
                const lang = document.getElementById('triangle-lang').value;
                const texts = RightTriangleCalc.i18n[lang];
                
                // æ›´æ–°æ™®é€šæ–‡æœ¬
                document.querySelectorAll('[data-id="right_triangle_calc"] [data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        if (key === 'notes_list') {
                            el.innerHTML = texts[key];
                        } else {
                            el.innerText = texts[key];
                        }
                    }
                });
                
                // æ›´æ–°ä¸‹æ‹‰é€‰é¡¹
                const modeSelect = document.getElementById('triangle-mode');
                Array.from(modeSelect.options).forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });
                
                const sideTypeSelect = document.getElementById('side-type');
                Array.from(sideTypeSelect.options).forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });
            },

            showError: (message) => {
                const errorEl = document.getElementById('triangle-error');
                errorEl.innerText = message;
                errorEl.classList.remove('hidden');
            },

            clearError: () => {
                const errorEl = document.getElementById('triangle-error');
                errorEl.classList.add('hidden');
                errorEl.innerText = '';
            },

            // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
            formatNumber: (num, precision) => {
                return num.toFixed(precision).replace(/\.?0+$/, '').replace(/\.$/, '');
            },

            // è®¡ç®—ç›´è§’ä¸‰è§’å½¢
            calc: () => {
                const lang = document.getElementById('triangle-lang').value;
                const texts = RightTriangleCalc.i18n[lang];
                const precision = parseInt(document.getElementById('triangle-precision').value) || 2;
                
                RightTriangleCalc.clearError();
                
                let a, b, c, alpha, beta;
                const mode = document.getElementById('triangle-mode').value;
                
                try {
                    if (mode === 'sides') {
                        // ä¸¤è¾¹æ¨¡å¼
                        const aVal = parseFloat(document.getElementById('side-a').value);
                        const bVal = parseFloat(document.getElementById('side-b').value);
                        const cVal = parseFloat(document.getElementById('side-c').value);
                        
                        // éªŒè¯è¾“å…¥
                        const values = [aVal, bVal, cVal].filter(v => !isNaN(v) && v > 0);
                        if (values.length < 2) {
                            throw new Error(texts.err_no_input);
                        }
                        
                        // è®¡ç®—ç¼ºå¤±çš„è¾¹
                        if (!isNaN(aVal) && !isNaN(bVal)) {
                            a = aVal;
                            b = bVal;
                            c = Math.sqrt(a*a + b*b);
                        } else if (!isNaN(aVal) && !isNaN(cVal)) {
                            a = aVal;
                            c = cVal;
                            if (c <= a) throw new Error(texts.err_pythagoras);
                            b = Math.sqrt(c*c - a*a);
                        } else if (!isNaN(bVal) && !isNaN(cVal)) {
                            b = bVal;
                            c = cVal;
                            if (c <= b) throw new Error(texts.err_pythagoras);
                            a = Math.sqrt(c*c - b*b);
                        } else {
                            throw new Error(texts.err_insufficient_data);
                        }
                        
                        // éªŒè¯å‹¾è‚¡å®šç†
                        const pythagorasCheck = Math.abs(a*a + b*b - c*c);
                        if (pythagorasCheck > 0.0001) {
                            throw new Error(texts.err_pythagoras);
                        }
                        
                    } else {
                        // è¾¹+è§’æ¨¡å¼
                        const sideVal = parseFloat(document.getElementById('side-value').value);
                        const sideType = document.getElementById('side-type').value;
                        const angleVal = parseFloat(document.getElementById('angle-value').value);
                        
                        // éªŒè¯è¾“å…¥
                        if (isNaN(sideVal) || sideVal <= 0) throw new Error(texts.err_invalid_value);
                        if (isNaN(angleVal) || angleVal <= 0 || angleVal >= 90) throw new Error(texts.err_invalid_angle);
                        
                        alpha = angleVal;
                        beta = 90 - alpha;
                        
                        // æ ¹æ®è¾¹ç±»å‹è®¡ç®—å…¶ä»–è¾¹
                        if (sideType === 'a') {
                            a = sideVal;
                            b = a * Math.tan(alpha * Math.PI / 180);
                            c = a / Math.cos(alpha * Math.PI / 180);
                        } else if (sideType === 'b') {
                            b = sideVal;
                            a = b / Math.tan(alpha * Math.PI / 180);
                            c = b / Math.sin(alpha * Math.PI / 180);
                        } else if (sideType === 'c') {
                            c = sideVal;
                            a = c * Math.cos(alpha * Math.PI / 180);
                            b = c * Math.sin(alpha * Math.PI / 180);
                        }
                    }
                    
                    // è®¡ç®—è§’åº¦ï¼ˆå¦‚æœæ˜¯ä¸¤è¾¹æ¨¡å¼ï¼‰
                    if (mode === 'sides') {
                        alpha = Math.atan2(b, a) * 180 / Math.PI;
                        beta = 90 - alpha;
                    }
                    
                    // è®¡ç®—é¢ç§¯ã€å‘¨é•¿ã€é«˜
                    const area = (a * b) / 2;
                    const perimeter = a + b + c;
                    const height = (a * b) / c;
                    
                    // æ ¼å¼åŒ–å¹¶æ˜¾ç¤ºç»“æœ
                    document.getElementById('result-a').innerText = RightTriangleCalc.formatNumber(a, precision);
                    document.getElementById('result-b').innerText = RightTriangleCalc.formatNumber(b, precision);
                    document.getElementById('result-c').innerText = RightTriangleCalc.formatNumber(c, precision);
                    document.getElementById('result-alpha').innerText = RightTriangleCalc.formatNumber(alpha, precision);
                    document.getElementById('result-beta').innerText = RightTriangleCalc.formatNumber(beta, precision);
                    document.getElementById('result-area').innerText = RightTriangleCalc.formatNumber(area, precision);
                    document.getElementById('result-perimeter').innerText = RightTriangleCalc.formatNumber(perimeter, precision);
                    document.getElementById('result-height').innerText = RightTriangleCalc.formatNumber(height, precision);
                    
                } catch (e) {
                    RightTriangleCalc.showError(e.message);
                    // æ¸…ç©ºç»“æœ
                    document.querySelectorAll('[id^="result-"]').forEach(el => {
                        el.innerText = '--';
                    });
                }
            }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', RightTriangleCalc.init);
        
        // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('triangle-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    RightTriangleCalc.changeLang();
                }
            }
        });
    </script>

</body>
</html>