<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rounding Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="rounding_calc">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ“">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Rounding Calculator">
    <meta name="description" content="Round numbers to decimal places, significant figures, or to nearest whole number.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="å››èˆäº”å…¥è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="å°†æ•°å­—å››èˆäº”å…¥åˆ°æŒ‡å®šä½æ•°ã€æœ‰æ•ˆæ•°å­—æˆ–æœ€æ¥è¿‘çš„æ•´æ•°ã€‚">
    
    <meta name="lang-title-zh-TW" content="å››æ¨äº”å…¥è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="å°‡æ•¸å­—å››æ¨äº”å…¥åˆ°æŒ‡å®šä½æ•¸ã€æœ‰æ•ˆæ•¸å­—æˆ–æœ€æ¥è¿‘çš„æ•´æ•¸ã€‚">
    
    <meta name="lang-title-ja" content="ä¸¸ã‚è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="æ•°å€¤ã‚’æŒ‡å®šã•ã‚ŒãŸå°æ•°æ¡ã€æœ‰åŠ¹æ•°å­—ã€ã¾ãŸã¯æœ€ã‚‚è¿‘ã„æ•´æ•°ã«ä¸¸ã‚ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ">
    <meta name="lang-description-ru" content="ĞĞºÑ€ÑƒĞ³Ğ»Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ° Ğ´Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ·Ğ½Ğ°ĞºĞ¾Ğ², Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ‰Ğ¸Ñ… Ñ†Ğ¸Ñ„Ñ€ Ğ¸Ğ»Ğ¸ Ğ´Ğ¾ Ğ±Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞµĞ³Ğ¾ Ñ†ĞµĞ»Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result-container { word-break: break-all; }
        .radio-group { display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0; }
        .radio-item { display: flex; align-items: center; gap: 5px; }
    </style>
</head>
<body>

    <div class="tool-module active" 
         data-id="rounding_calc" 
         data-category="math" 
         data-title="Rounding Calculator" 
         data-icon="ğŸ“">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="round-lang" onchange="RoundingCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“ Rounding Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- è¾“å…¥æ•°å­— -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="enter_number">Enter Number</label>
                <input type="text" id="round-number" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. 123.4567 or 1.23e4">
            </div>
            
            <!-- å››èˆäº”å…¥ç±»å‹é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="round_type">Rounding Type</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" name="round-type" id="round-decimal" value="decimal" checked>
                        <label for="round-decimal" data-i18n="decimal_places">Decimal Places</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" name="round-type" id="round-significant" value="significant">
                        <label for="round-significant" data-i18n="significant_figures">Significant Figures</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" name="round-type" id="round-whole" value="whole">
                        <label for="round-whole" data-i18n="whole_number">Whole Number</label>
                    </div>
                </div>
            </div>
            
            <!-- ç²¾åº¦ä½æ•°è¾“å…¥ -->
            <div id="precision-container">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="precision">Precision</label>
                <input type="number" id="round-precision" min="0" value="2" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                <div class="text-xs text-gray-500 mt-1" data-i18n="precision_note">Number of digits to round to (0 = whole number)</div>
            </div>
            
            <!-- å››èˆäº”å…¥è§„åˆ™é€‰æ‹© -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="round_rule">Rounding Rule</label>
                <select id="round-rule" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="standard" data-i18n="standard_round">Standard (0-4 down, 5-9 up)</option>
                    <option value="up" data-i18n="round_up">Round Up (Ceiling)</option>
                    <option value="down" data-i18n="round_down">Round Down (Floor)</option>
                    <option value="half_up" data-i18n="half_up">Half Up (0.5 rounds up)</option>
                    <option value="half_down" data-i18n="half_down">Half Down (0.5 rounds down)</option>
                </select>
            </div>
            
            <!-- è®¡ç®—æŒ‰é’® -->
            <button onclick="RoundingCalc.calc()" class="w-full bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate Rounded Result</button>
        </div>

        <!-- ç»“æœå±•ç¤º -->
        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div id="round-result" class="text-xl font-bold text-blue-800 min-h-[60px] result-container">--</div>
            <div id="round-error" class="text-sm text-red-600 mt-2 hidden"></div>
            <div id="round-details" class="text-sm text-gray-600 mt-3"></div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="notes_list">
                <li>Supports both standard numbers and scientific notation (e.g. 1.23e5)</li>
                <li>Significant figures count all non-zero digits and zeros between them</li>
                <li>Whole number rounding ignores decimal places completely</li>
            </ul>
        </div>
    </div>

    <script>
        const RoundingCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ“ Rounding Calculator',
                    enter_number: 'Enter Number',
                    round_type: 'Rounding Type',
                    decimal_places: 'Decimal Places',
                    significant_figures: 'Significant Figures',
                    whole_number: 'Whole Number',
                    precision: 'Precision',
                    precision_note: 'Number of digits to round to (0 = whole number)',
                    round_rule: 'Rounding Rule',
                    standard_round: 'Standard (0-4 down, 5-9 up)',
                    round_up: 'Round Up (Ceiling)',
                    round_down: 'Round Down (Floor)',
                    half_up: 'Half Up (0.5 rounds up)',
                    half_down: 'Half Down (0.5 rounds down)',
                    calculate: 'Calculate Rounded Result',
                    result: 'Result',
                    err_invalid: 'Invalid number format',
                    err_precision: 'Precision must be a non-negative integer',
                    notes: 'Notes:',
                    notes_list: `
                        <li>Supports both standard numbers and scientific notation (e.g. 1.23e5)</li>
                        <li>Significant figures count all non-zero digits and zeros between them</li>
                        <li>Whole number rounding ignores decimal places completely</li>
                    `,
                    result_details: 'Original: {original} â†’ Rounded to {precision} {type}: {rounded}'
                },
                'zh-CN': {
                    title: 'ğŸ“ å››èˆäº”å…¥è®¡ç®—å™¨',
                    enter_number: 'è¾“å…¥æ•°å­—',
                    round_type: 'å››èˆäº”å…¥ç±»å‹',
                    decimal_places: 'å°æ•°ä½æ•°',
                    significant_figures: 'æœ‰æ•ˆæ•°å­—',
                    whole_number: 'æ•´æ•°',
                    precision: 'ç²¾åº¦',
                    precision_note: 'ä¿ç•™çš„ä½æ•°ï¼ˆ0 = ä¿ç•™æ•´æ•°ï¼‰',
                    round_rule: 'èˆå…¥è§„åˆ™',
                    standard_round: 'æ ‡å‡†ï¼ˆ0-4èˆå»ï¼Œ5-9è¿›1ï¼‰',
                    round_up: 'å‘ä¸Šå–æ•´ï¼ˆå¤©èŠ±æ¿ï¼‰',
                    round_down: 'å‘ä¸‹å–æ•´ï¼ˆåœ°æ¿ï¼‰',
                    half_up: 'äº”å…¥ï¼ˆ0.5è¿›1ï¼‰',
                    half_down: 'äº”èˆï¼ˆ0.5èˆå»ï¼‰',
                    calculate: 'è®¡ç®—å››èˆäº”å…¥ç»“æœ',
                    result: 'ç»“æœ',
                    err_invalid: 'æ— æ•ˆçš„æ•°å­—æ ¼å¼',
                    err_precision: 'ç²¾åº¦å¿…é¡»æ˜¯éè´Ÿæ•´æ•°',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>æ”¯æŒæ ‡å‡†æ•°å­—å’Œç§‘å­¦è®¡æ•°æ³•ï¼ˆä¾‹å¦‚ 1.23e5ï¼‰</li>
                        <li>æœ‰æ•ˆæ•°å­—åŒ…å«æ‰€æœ‰éé›¶æ•°å­—å’Œä¸­é—´çš„é›¶</li>
                        <li>æ•´æ•°èˆå…¥å®Œå…¨å¿½ç•¥å°æ•°éƒ¨åˆ†</li>
                    `,
                    result_details: 'åŸå§‹å€¼ï¼š{original} â†’ ä¿ç•™{precision}ä½{type}ï¼š{rounded}'
                },
                'zh-TW': {
                    title: 'ğŸ“ å››æ¨äº”å…¥è¨ˆç®—å™¨',
                    enter_number: 'è¼¸å…¥æ•¸å­—',
                    round_type: 'å››æ¨äº”å…¥é¡å‹',
                    decimal_places: 'å°æ•¸ä½æ•¸',
                    significant_figures: 'æœ‰æ•ˆæ•¸å­—',
                    whole_number: 'æ•´æ•¸',
                    precision: 'ç²¾åº¦',
                    precision_note: 'ä¿ç•™çš„ä½æ•¸ï¼ˆ0 = ä¿ç•™æ•´æ•¸ï¼‰',
                    round_rule: 'æ¨å…¥è¦å‰‡',
                    standard_round: 'æ¨™æº–ï¼ˆ0-4æ¨å»ï¼Œ5-9é€²1ï¼‰',
                    round_up: 'å‘ä¸Šå–æ•´ï¼ˆå¤©èŠ±æ¿ï¼‰',
                    round_down: 'å‘ä¸‹å–æ•´ï¼ˆåœ°æ¿ï¼‰',
                    half_up: 'äº”å…¥ï¼ˆ0.5é€²1ï¼‰',
                    half_down: 'äº”èˆï¼ˆ0.5æ¨å»ï¼‰',
                    calculate: 'è¨ˆç®—å››æ¨äº”å…¥çµæœ',
                    result: 'çµæœ',
                    err_invalid: 'ç„¡æ•ˆçš„æ•¸å­—æ ¼å¼',
                    err_precision: 'ç²¾åº¦å¿…é ˆæ˜¯éè² æ•´æ•¸',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>æ”¯æ´æ¨™æº–æ•¸å­—å’Œç§‘å­¸è¨ˆæ•¸æ³•ï¼ˆä¾‹å¦‚ 1.23e5ï¼‰</li>
                        <li>æœ‰æ•ˆæ•¸å­—åŒ…å«æ‰€æœ‰éé›¶æ•¸å­—å’Œä¸­é–“çš„é›¶</li>
                        <li>æ•´æ•¸æ¨å…¥å®Œå…¨å¿½ç•¥å°æ•¸éƒ¨åˆ†</li>
                    `,
                    result_details: 'åŸå§‹å€¼ï¼š{original} â†’ ä¿ç•™{precision}ä½{type}ï¼š{rounded}'
                },
                'ja': {
                    title: 'ğŸ“ ä¸¸ã‚è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    enter_number: 'æ•°å€¤ã‚’å…¥åŠ›',
                    round_type: 'ä¸¸ã‚ã‚¿ã‚¤ãƒ—',
                    decimal_places: 'å°æ•°æ¡',
                    significant_figures: 'æœ‰åŠ¹æ•°å­—',
                    whole_number: 'æ•´æ•°',
                    precision: 'ç²¾åº¦',
                    precision_note: 'ä¸¸ã‚ã‚‹æ¡æ•°ï¼ˆ0 = æ•´æ•°ã«ä¸¸ã‚ã‚‹ï¼‰',
                    round_rule: 'ä¸¸ã‚è¦å‰‡',
                    standard_round: 'æ¨™æº–ï¼ˆ0-4ã¯åˆ‡ã‚Šæ¨ã¦ã€5-9ã¯åˆ‡ã‚Šä¸Šã’ï¼‰',
                    round_up: 'åˆ‡ã‚Šä¸Šã’ï¼ˆå¤©äº•é–¢æ•°ï¼‰',
                    round_down: 'åˆ‡ã‚Šä¸‹ã’ï¼ˆåºŠé–¢æ•°ï¼‰',
                    half_up: '0.5ã¯åˆ‡ã‚Šä¸Šã’',
                    half_down: '0.5ã¯åˆ‡ã‚Šä¸‹ã’',
                    calculate: 'ä¸¸ã‚çµæœã‚’è¨ˆç®—',
                    result: 'çµæœ',
                    err_invalid: 'ç„¡åŠ¹ãªæ•°å€¤å½¢å¼',
                    err_precision: 'ç²¾åº¦ã¯è² ã§ãªã„æ•´æ•°ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“',
                    notes: 'æ³¨æ„ï¼š',
                    notes_list: `
                        <li>æ¨™æº–æ•°å€¤ã¨ç§‘å­¦è¡¨è¨˜æ³•ï¼ˆä¾‹ï¼š1.23e5ï¼‰ã®ä¸¡æ–¹ã«å¯¾å¿œ</li>
                        <li>æœ‰åŠ¹æ•°å­—ã«ã¯ã€ã‚¼ãƒ­ä»¥å¤–ã®ã™ã¹ã¦ã®æ¡ã¨ãã®é–“ã®ã‚¼ãƒ­ãŒå«ã¾ã‚Œã¾ã™</li>
                        <li>æ•´æ•°ä¸¸ã‚ã¯å°æ•°éƒ¨åˆ†ã‚’å®Œå…¨ã«ç„¡è¦–ã—ã¾ã™</li>
                    `,
                    result_details: 'å…ƒã®å€¤ï¼š{original} â†’ {precision}æ¡{type}ã«ä¸¸ã‚ã‚‹ï¼š{rounded}'
                },
                'ru': {
                    title: 'ğŸ“ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ',
                    enter_number: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾',
                    round_type: 'Ğ¢Ğ¸Ğ¿ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ',
                    decimal_places: 'Ğ”ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°ĞºĞ¸',
                    significant_figures: 'Ğ—Ğ½Ğ°Ñ‡Ğ°Ñ‰Ğ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹',
                    whole_number: 'Ğ¦ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾',
                    precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ',
                    precision_note: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ´Ğ»Ñ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ (0 = Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾)',
                    round_rule: 'ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ñ',
                    standard_round: 'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğµ (0-4 Ğ²Ğ½Ğ¸Ğ·, 5-9 Ğ²Ğ²ĞµÑ€Ñ…)',
                    round_up: 'ĞĞºÑ€ÑƒĞ³Ğ»Ğ¸Ñ‚ÑŒ Ğ²Ğ²ĞµÑ€Ñ… (Ğ¿Ğ¾Ñ‚Ğ¾Ğ»Ğ¾Ğº)',
                    round_down: 'ĞĞºÑ€ÑƒĞ³Ğ»Ğ¸Ñ‚ÑŒ Ğ²Ğ½Ğ¸Ğ· (Ğ¿Ğ¾Ğ»)',
                    half_up: 'ĞŸĞ¾Ğ»Ğ¾Ğ²Ğ¸Ğ½Ğ° Ğ²Ğ²ĞµÑ€Ñ… (0.5 Ğ¾ĞºÑ€ÑƒĞ³Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ²ĞµÑ€Ñ…)',
                    half_down: 'ĞŸĞ¾Ğ»Ğ¾Ğ²Ğ¸Ğ½Ğ° Ğ²Ğ½Ğ¸Ğ· (0.5 Ğ¾ĞºÑ€ÑƒĞ³Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ½Ğ¸Ğ·)',
                    calculate: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    result: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    err_invalid: 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ñ‡Ğ¸ÑĞ»Ğ°',
                    err_precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ½ĞµĞ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ Ñ†ĞµĞ»Ñ‹Ğ¼ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    notes_list: `
                        <li>ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ĞºĞ°Ğº ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°, Ñ‚Ğ°Ğº Ğ¸ Ğ½Ğ°ÑƒÑ‡Ğ½ÑƒÑ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, 1.23e5)</li>
                        <li>Ğ—Ğ½Ğ°Ñ‡Ğ°Ñ‰Ğ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ²ĞºĞ»ÑÑ‡Ğ°ÑÑ‚ Ğ²ÑĞµ Ğ½ĞµĞ½ÑƒĞ»ĞµĞ²Ñ‹Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ¸ Ğ½ÑƒĞ»Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸</li>
                        <li>ĞĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ Ñ†ĞµĞ»Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°ĞºĞ¸</li>
                    `,
                    result_details: 'Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ: {original} â†’ ĞĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¾ Ğ´Ğ¾ {precision} {type}: {rounded}'
                }
            },

            // ç±»å‹åç§°æ˜ å°„ï¼ˆç”¨äºç»“æœè¯¦æƒ…ï¼‰
            typeNames: {
                'en': {
                    'decimal': 'decimal places',
                    'significant': 'significant figures',
                    'whole': 'whole number'
                },
                'zh-CN': {
                    'decimal': 'å°æ•°',
                    'significant': 'æœ‰æ•ˆæ•°å­—',
                    'whole': 'æ•´æ•°'
                },
                'zh-TW': {
                    'decimal': 'å°æ•¸',
                    'significant': 'æœ‰æ•ˆæ•¸å­—',
                    'whole': 'æ•´æ•¸'
                },
                'ja': {
                    'decimal': 'å°æ•°',
                    'significant': 'æœ‰åŠ¹æ•°å­—',
                    'whole': 'æ•´æ•°'
                },
                'ru': {
                    'decimal': 'Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ·Ğ½Ğ°ĞºĞ¾Ğ²',
                    'significant': 'Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ‰Ğ¸Ñ… Ñ†Ğ¸Ñ„Ñ€',
                    'whole': 'Ñ†ĞµĞ»Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°'
                }
            },

            init: () => {
                // è®¾ç½®é»˜è®¤å€¼
                document.getElementById('round-number').value = '123.456789';
                
                // ç›‘å¬èˆå…¥ç±»å‹å˜åŒ–ï¼Œæ§åˆ¶ç²¾åº¦è¾“å…¥æ¡†æ˜¾ç¤º
                document.querySelectorAll('input[name="round-type"]').forEach(radio => {
                    radio.addEventListener('change', RoundingCalc.togglePrecision);
                });
                RoundingCalc.togglePrecision();
            },

            // åˆ‡æ¢ç²¾åº¦è¾“å…¥æ¡†æ˜¾ç¤ºçŠ¶æ€
            togglePrecision: () => {
                const selectedType = document.querySelector('input[name="round-type"]:checked').value;
                const precisionContainer = document.getElementById('precision-container');
                
                if (selectedType === 'whole') {
                    precisionContainer.style.display = 'none';
                } else {
                    precisionContainer.style.display = 'block';
                }
            },

            changeLang: () => {
                const lang = document.getElementById('round-lang').value;
                const texts = RoundingCalc.i18n[lang];
                
                // æ›´æ–°æ™®é€šæ–‡æœ¬
                document.querySelectorAll('[data-id="rounding_calc"] [data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        if (key === 'notes_list') {
                            el.innerHTML = texts[key];
                        } else {
                            el.innerText = texts[key];
                        }
                    }
                });
                
                // æ›´æ–°ä¸‹æ‹‰é€‰é¡¹
                const ruleSelect = document.getElementById('round-rule');
                Array.from(ruleSelect.options).forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });
                
                // æ›´æ–°å•é€‰æ¡†æ ‡ç­¾
                document.querySelectorAll('.radio-item label').forEach(label => {
                    const key = label.getAttribute('data-i18n');
                    if (texts[key]) label.innerText = texts[key];
                });
            },

            showError: (message) => {
                const resultEl = document.getElementById('round-result');
                const errorEl = document.getElementById('round-error');
                const detailsEl = document.getElementById('round-details');
                
                resultEl.innerText = '';
                detailsEl.innerText = '';
                errorEl.innerText = message;
                errorEl.classList.remove('hidden');
            },

            clearError: () => {
                const errorEl = document.getElementById('round-error');
                errorEl.classList.add('hidden');
                errorEl.innerText = '';
            },

            // è§£æè¾“å…¥æ•°å­—ï¼ˆæ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼‰
            parseNumber: (str) => {
                str = str.trim().replace(/,/g, '');
                const num = parseFloat(str);
                
                if (isNaN(num)) return null;
                return num;
            },

            // å››èˆäº”å…¥åˆ°æŒ‡å®šä½æ•°
            roundToDecimal: (num, precision, rule) => {
                const factor = Math.pow(10, precision);
                
                switch (rule) {
                    case 'standard':
                        return Math.round(num * factor) / factor;
                    case 'up':
                        return Math.ceil(num * factor) / factor;
                    case 'down':
                        return Math.floor(num * factor) / factor;
                    case 'half_up':
                        const roundedHalfUp = num * factor;
                        return (roundedHalfUp < 0 ? Math.floor : Math.ceil)(roundedHalfUp) / factor;
                    case 'half_down':
                        const roundedHalfDown = num * factor;
                        return (roundedHalfDown < 0 ? Math.ceil : Math.floor)(roundedHalfDown) / factor;
                    default:
                        return Math.round(num * factor) / factor;
                }
            },

            // å››èˆäº”å…¥åˆ°æœ‰æ•ˆæ•°å­—
            roundToSignificant: (num, precision, rule) => {
                if (num === 0) return 0;
                if (precision <= 0) return 0;
                
                const exponent = Math.floor(Math.log10(Math.abs(num)));
                const significand = num / Math.pow(10, exponent);
                
                let roundedSignificand;
                switch (rule) {
                    case 'standard':
                        roundedSignificand = Math.round(significand * Math.pow(10, precision - 1)) / Math.pow(10, precision - 1);
                        break;
                    case 'up':
                        roundedSignificand = Math.ceil(significand * Math.pow(10, precision - 1)) / Math.pow(10, precision - 1);
                        break;
                    case 'down':
                        roundedSignificand = Math.floor(significand * Math.pow(10, precision - 1)) / Math.pow(10, precision - 1);
                        break;
                    case 'half_up':
                        const halfUp = significand * Math.pow(10, precision - 1);
                        roundedSignificand = (halfUp < 0 ? Math.floor : Math.ceil)(halfUp) / Math.pow(10, precision - 1);
                        break;
                    case 'half_down':
                        const halfDown = significand * Math.pow(10, precision - 1);
                        roundedSignificand = (halfDown < 0 ? Math.ceil : Math.floor)(halfDown) / Math.pow(10, precision - 1);
                        break;
                    default:
                        roundedSignificand = Math.round(significand * Math.pow(10, precision - 1)) / Math.pow(10, precision - 1);
                }
                
                // å¤„ç†æœ‰æ•ˆæ•°å­—è¿›ä½å¯¼è‡´çš„æŒ‡æ•°å˜åŒ–
                if (roundedSignificand >= 10) {
                    return roundedSignificand / 10 * Math.pow(10, exponent + 1);
                }
                
                return roundedSignificand * Math.pow(10, exponent);
            },

            // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤ºï¼ˆé¿å…ç§‘å­¦è®¡æ•°æ³•ï¼‰
            formatNumber: (num) => {
                // å¯¹äºæå¤§/æå°æ•°å­—ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•ï¼Œå¦åˆ™ä½¿ç”¨æ™®é€šæ ¼å¼
                if (Math.abs(num) > 1e20 || (Math.abs(num) < 1e-6 && num !== 0)) {
                    return num.toExponential(6).replace(/\.?0+$/, '').replace(/\.$/, '');
                }
                
                // ç§»é™¤æœ«å°¾çš„é›¶å’Œå°æ•°ç‚¹
                return num.toString().replace(/\.?0+$/, '').replace(/\.$/, '');
            },

            calc: () => {
                const lang = document.getElementById('round-lang').value;
                const texts = RoundingCalc.i18n[lang];
                const resultEl = document.getElementById('round-result');
                const detailsEl = document.getElementById('round-details');
                
                RoundingCalc.clearError();
                
                // è·å–è¾“å…¥å€¼
                const numberInput = document.getElementById('round-number').value;
                const selectedType = document.querySelector('input[name="round-type"]:checked').value;
                const rule = document.getElementById('round-rule').value;
                
                // è§£ææ•°å­—
                const num = RoundingCalc.parseNumber(numberInput);
                if (num === null) {
                    return RoundingCalc.showError(texts.err_invalid);
                }
                
                // è·å–ç²¾åº¦å€¼
                let precision = 0;
                if (selectedType !== 'whole') {
                    precision = parseInt(document.getElementById('round-precision').value);
                    if (isNaN(precision) || precision < 0) {
                        return RoundingCalc.showError(texts.err_precision);
                    }
                }
                
                // æ‰§è¡Œå››èˆäº”å…¥
                let rounded;
                let precisionDisplay = precision;
                let typeDisplay = RoundingCalc.typeNames[lang][selectedType];
                
                try {
                    switch (selectedType) {
                        case 'decimal':
                            rounded = RoundingCalc.roundToDecimal(num, precision, rule);
                            break;
                        case 'significant':
                            rounded = RoundingCalc.roundToSignificant(num, precision, rule);
                            break;
                        case 'whole':
                            rounded = RoundingCalc.roundToDecimal(num, 0, rule);
                            precisionDisplay = 0;
                            typeDisplay = RoundingCalc.typeNames[lang]['whole'];
                            break;
                    }
                } catch (e) {
                    return RoundingCalc.showError(texts.err_invalid);
                }
                
                // æ ¼å¼åŒ–ç»“æœ
                const formattedOriginal = RoundingCalc.formatNumber(num);
                const formattedRounded = RoundingCalc.formatNumber(rounded);
                
                // æ˜¾ç¤ºç»“æœ
                resultEl.innerText = formattedRounded;
                
                // æ˜¾ç¤ºè¯¦æƒ…
                const details = texts.result_details
                    .replace('{original}', formattedOriginal)
                    .replace('{precision}', precisionDisplay)
                    .replace('{type}', typeDisplay)
                    .replace('{rounded}', formattedRounded);
                detailsEl.innerText = details;
            }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', RoundingCalc.init);
        
        // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('round-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    RoundingCalc.changeLang();
                }
            }
        });
    </script>

</body>

</html>
