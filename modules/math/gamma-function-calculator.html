<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamma Function Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="gamma_function_calculator">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ“">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Gamma Function Calculator">
    <meta name="description" content="Calculate the gamma function value for a given number.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ä¼½é©¬å‡½æ•°è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—ç»™å®šæ•°å­—çš„ä¼½é©¬å‡½æ•°å€¼ã€‚">
    
    <meta name="lang-title-zh-TW" content="ä¼½é¦¬å‡½æ•¸è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—çµ¦å®šæ•¸å­—çš„ä¼½é¦¬å‡½æ•¸å€¼ã€‚">
    
    <meta name="lang-title-ja" content="ã‚¬ãƒ³ãƒé–¢æ•°è¨ˆç®—æ©Ÿ">
    <meta name="lang-description-ja" content="æŒ‡å®šã•ã‚ŒãŸæ•°å€¤ã®ã‚¬ãƒ³ãƒé–¢æ•°ã®å€¤ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ³Ğ°Ğ¼Ğ¼Ğ°-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ³Ğ°Ğ¼Ğ¼Ğ°-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result { background-color: #f0fdf4; border: 1px solid #10b981; color: #059669; padding: 15px; border-radius: 5px; margin-top: 15px; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/gamma-function-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="gamma_function_calculator" 
         data-category="mathematics" 
         data-title="Gamma Function Calculator" 
         data-icon="ğŸ“">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="gamma-lang" onchange="GammaCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“ Gamma Function Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="input_value">Input Value (x)</label>
                <input type="number" id="gamma-input" step="any" class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g. 5, 0.5, -3.2">
            </div>
        </div>

        <button onclick="GammaCalc.calc()" class="w-full bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_calc">Calculate Gamma</button>

        <div id="gamma-result" class="result hidden">
            <div class="text-lg font-bold mb-2" data-i18n="result_title">Calculation Result</div>
            <div id="gamma-value" class="mb-2">Î“(x) = --</div>
            <div id="gamma-info" class="text-sm italic"></div>
        </div>

        <div id="gamma-error" class="warning hidden" data-i18n="err_invalid">Please enter a valid number</div>
    </div>

    <script>
        const GammaCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ“ Gamma Function Calculator',
                    input_value: 'Input Value (x)',
                    btn_calc: 'Calculate Gamma',
                    result_title: 'Calculation Result',
                    result_value: 'Î“({x}) = {value}',
                    info_positive_integer: 'For positive integers, Î“(n) = (n-1)!',
                    info_half_integer: 'For half-integers, Î“(n+0.5) = (2n)!âˆšÏ€/(4â¿n!)',
                    err_invalid: 'Please enter a valid number',
                    err_singularity: 'Gamma function has a singularity at non-positive integers'
                },
                'zh-CN': {
                    title: 'ğŸ“ ä¼½é©¬å‡½æ•°è®¡ç®—å™¨',
                    input_value: 'è¾“å…¥å€¼ (x)',
                    btn_calc: 'è®¡ç®—ä¼½é©¬å€¼',
                    result_title: 'è®¡ç®—ç»“æœ',
                    result_value: 'Î“({x}) = {value}',
                    info_positive_integer: 'å¯¹äºæ­£æ•´æ•°ï¼ŒÎ“(n) = (n-1)!',
                    info_half_integer: 'å¯¹äºåŠæ•´æ•°ï¼ŒÎ“(n+0.5) = (2n)!âˆšÏ€/(4â¿n!)',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—',
                    err_singularity: 'ä¼½é©¬å‡½æ•°åœ¨éæ­£æ•´æ•°å¤„æœ‰å¥‡ç‚¹'
                },
                'zh-TW': {
                    title: 'ğŸ“ ä¼½é¦¬å‡½æ•¸è¨ˆç®—å™¨',
                    input_value: 'è¼¸å…¥å€¼ (x)',
                    btn_calc: 'è¨ˆç®—ä¼½é¦¬å€¼',
                    result_title: 'è¨ˆç®—çµæœ',
                    result_value: 'Î“({x}) = {value}',
                    info_positive_integer: 'å°æ–¼æ­£æ•´æ•¸ï¼ŒÎ“(n) = (n-1)!',
                    info_half_integer: 'å°æ–¼åŠæ•´æ•¸ï¼ŒÎ“(n+0.5) = (2n)!âˆšÏ€/(4â¿n!)',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—',
                    err_singularity: 'ä¼½é¦¬å‡½æ•¸åœ¨éæ­£æ•´æ•¸è™•æœ‰å¥‡é»'
                },
                'ja': {
                    title: 'ğŸ“ ã‚¬ãƒ³ãƒé–¢æ•°è¨ˆç®—æ©Ÿ',
                    input_value: 'å…¥åŠ›å€¤ (x)',
                    btn_calc: 'ã‚¬ãƒ³ãƒå€¤ã‚’è¨ˆç®—',
                    result_title: 'è¨ˆç®—çµæœ',
                    result_value: 'Î“({x}) = {value}',
                    info_positive_integer: 'æ­£ã®æ•´æ•°ã®å ´åˆã€Î“(n) = (n-1)!',
                    info_half_integer: 'åŠæ•´æ•°ã®å ´åˆã€Î“(n+0.5) = (2n)!âˆšÏ€/(4â¿n!)',
                    err_invalid: 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_singularity: 'ã‚¬ãƒ³ãƒé–¢æ•°ã¯éæ­£ã®æ•´æ•°ã§ç‰¹ç•°ç‚¹ã‚’æŒã¡ã¾ã™'
                },
                'ru': {
                    title: 'ğŸ“ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ³Ğ°Ğ¼Ğ¼Ğ°-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸',
                    input_value: 'Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ (x)',
                    btn_calc: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ³Ğ°Ğ¼Ğ¼Ñƒ',
                    result_title: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ',
                    result_value: 'Î“({x}) = {value}',
                    info_positive_integer: 'Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ñ†ĞµĞ»Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ» Î“(n) = (n-1)!',
                    info_half_integer: 'Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ†ĞµĞ»Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ» Î“(n+0.5) = (2n)!âˆšÏ€/(4â¿n!)',
                    err_invalid: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾',
                    err_singularity: 'Ğ“Ğ°Ğ¼Ğ¼Ğ°-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¸Ğ¼ĞµĞµÑ‚ ÑĞ¸Ğ½Ğ³ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ğ½ĞµĞ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ñ†ĞµĞ»Ñ‹Ñ… Ñ‡Ğ¸ÑĞ»Ğ°Ñ…'
                }
            },

            init() {
                // è®¾ç½®é»˜è®¤è¾“å…¥å€¼
                document.getElementById('gamma-input').value = '0.5';
                this.changeLang();
            },

            changeLang() {
                const lang = document.getElementById('gamma-lang').value;
                const elements = document.querySelectorAll('[data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
            },

            // è®¡ç®—é˜¶ä¹˜ï¼ˆç”¨äºç‰¹æ®Šæƒ…å†µï¼‰
            factorial(n) {
                if (n < 0) return NaN;
                if (n === 0 || n === 1) return 1;
                let result = 1;
                for (let i = 2; i <= n; i++) {
                    result *= i;
                }
                return result;
            },

            // ä¼½é©¬å‡½æ•°è¿‘ä¼¼è®¡ç®— (Lanczosè¿‘ä¼¼)
            gamma(z) {
                // å¤„ç†ç‰¹æ®Šæƒ…å†µ
                if (z <= 0 && Math.floor(z) === z) {
                    return NaN; // å¥‡ç‚¹
                }

                // å¯¹äºè´Ÿæ•°å€¼ä½¿ç”¨åå°„å…¬å¼: Î“(z) = Ï€ / (sin(Ï€z)Î“(1-z))
                if (z < 0.5) {
                    return Math.PI / (Math.sin(Math.PI * z) * this.gamma(1 - z));
                }

                // Lanczosè¿‘ä¼¼å…¬å¼
                const g = 7;
                const p = [0.99999999999980993, 676.5203681218851, -1259.1392167224028,
                           771.32342877765313, -176.61502916214059, 12.507343278686905,
                           -0.13857109526572012, 9.9843695780195716e-6, 1.5056327351493116e-7];

                z -= 1;
                let x = p[0];
                for (let i = 1; i < p.length; i++) {
                    x += p[i] / (z + i);
                }
                const t = z + g + 0.5;
                return Math.sqrt(2 * Math.PI) * Math.pow(t, z + 0.5) * Math.exp(-t) * x;
            },

            calc() {
                const inputEl = document.getElementById('gamma-input');
                const x = parseFloat(inputEl.value);
                const resultEl = document.getElementById('gamma-result');
                const errorEl = document.getElementById('gamma-error');
                const valueEl = document.getElementById('gamma-value');
                const infoEl = document.getElementById('gamma-info');
                const lang = document.getElementById('gamma-lang').value;

                // éªŒè¯è¾“å…¥
                if (isNaN(x)) {
                    resultEl.classList.add('hidden');
                    errorEl.textContent = this.i18n[lang].err_invalid;
                    errorEl.classList.remove('hidden');
                    return;
                }

                // æ£€æŸ¥å¥‡ç‚¹ï¼ˆéæ­£æ•´æ•°ï¼‰
                if (x <= 0 && Math.floor(x) === x) {
                    resultEl.classList.add('hidden');
                    errorEl.textContent = this.i18n[lang].err_singularity;
                    errorEl.classList.remove('hidden');
                    return;
                }

                errorEl.classList.add('hidden');
                resultEl.classList.remove('hidden');

                // è®¡ç®—ä¼½é©¬å‡½æ•°å€¼
                const gammaValue = this.gamma(x);
                const formattedX = x.toFixed(10).replace(/\.?0+$/, ''); // ç§»é™¤å°¾éƒ¨å¤šä½™çš„0
                const formattedValue = gammaValue.toPrecision(10);

                // æ˜¾ç¤ºç»“æœ
                valueEl.textContent = this.i18n[lang].result_value
                    .replace('{x}', formattedX)
                    .replace('{value}', formattedValue);

                // æ˜¾ç¤ºé¢å¤–ä¿¡æ¯ï¼ˆæ ¹æ®è¾“å…¥ç±»å‹ï¼‰
                if (x > 0 && Math.floor(x) === x) {
                    // æ­£æ•´æ•°
                    infoEl.textContent = this.i18n[lang].info_positive_integer;
                } else if (Math.abs(x % 1) === 0.5) {
                    // åŠæ•´æ•°
                    infoEl.textContent = this.i18n[lang].info_half_integer;
                } else {
                    infoEl.textContent = '';
                }
            }
        };

        // åˆå§‹åŒ–
        window.onload = () => GammaCalc.init();
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>