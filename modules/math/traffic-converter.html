<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="category" content="Math">
    <meta name="icon" content="üìä">
    <title>Data Traffic Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0fdf4; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto; position: relative; }
        .section { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; margin-bottom: 15px; }
        .form-group { margin-bottom: 10px; }
        label { display: block; font-size: 0.9rem; color: #4b5563; margin-bottom: 4px; }
        input, select { width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; }
        .result-card { background: #ecfdf5; border: 1px solid #d1fae5; border-radius: 8px; padding: 15px; margin-top: 15px; }
        .result-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px dashed #a7f3d0; }
        .result-row:last-child { border-bottom: none; }
        .result-label { color: #1e3a8a; }
        .result-value { font-weight: 600; color: #065f46; }
        .intro-section { margin-top: 30px; padding: 20px; background-color: #f8fafc; border-radius: 8px; font-size: 0.95rem; color: #475569; }
        .badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: bold; }
        .badge-si { background: #dcfce7; color: #166534; }
        .badge-binary { background: #dbeafe; color: #1e40af; }
        
        /* Conversion table styles */
        .conversion-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .conversion-table th, .conversion-table td { padding: 8px 12px; text-align: right; border-bottom: 1px solid #e5e7eb; }
        .conversion-table th:first-child, .conversion-table td:first-child { text-align: left; font-weight: bold; }
        .conversion-table th { background-color: #f1f5f9; font-size: 0.85rem; color: #64748b; }
        .conversion-table tr:last-child td { border-bottom: none; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/traffic-converter.html" />
</head>
<body>

    <div class="tool-module" id="traffic-converter-tool">
        <!-- Language Selector -->
        <div class="absolute top-4 right-4">
            <select id="lang-selector" onchange="TrafficConverter.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-6 text-gray-800 border-b pb-2" data-i18n="title">üìä Data Traffic Converter</h2>

        <div class="space-y-6">
            
            <!-- Conversion Settings -->
            <div class="section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="conversion_settings">Conversion Settings</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label data-i18n="input_value">Value to Convert</label>
                        <input type="number" id="input_value" value="1" min="0" step="any" oninput="TrafficConverter.calculate()" class="focus:ring-2 focus:ring-green-500 outline-none">
                    </div>
                    <div class="form-group">
                        <label data-i18n="from_unit">From Unit</label>
                        <select id="from_unit" onchange="TrafficConverter.calculate()" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="b">Bytes (B)</option>
                            <option value="kb">Kilobytes (KB)</option>
                            <option value="mb">Megabytes (MB)</option>
                            <option value="gb" selected>Gigabytes (GB)</option>
                            <option value="tb">Terabytes (TB)</option>
                            <option value="pb">Petabytes (PB)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="conversion_type">Conversion Type</label>
                        <select id="conversion_type" onchange="TrafficConverter.calculate()" class="focus:ring-2 focus:ring-green-500 outline-none">
                            <option value="binary" selected data-i18n="binary_type">Binary (1024-based)</option>
                            <option value="decimal" data-i18n="decimal_type">Decimal (1000-based)</option>
                        </select>
                    </div>
                </div>
            </div>

            <button onclick="TrafficConverter.calculate()" class="w-full bg-green-600 text-white py-3 rounded font-bold hover:bg-green-700 transition mb-6" data-i18n="btn_convert">Convert Traffic</button>

            <!-- Results -->
            <div class="summary-section">
                <h3 class="text-lg font-semibold mb-4 text-gray-700" data-i18n="results">Conversion Results</h3>
                <div class="result-card">
                    <div class="result-row">
                        <span class="result-label" data-i18n="primary_result">Primary Conversion</span>
                        <span class="result-value" id="primary_result">-</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label" data-i18n="formula_used">Formula Used</span>
                        <span class="result-value" id="formula_used">-</span>
                    </div>
                </div>

                <!-- Detailed conversion table -->
                <h4 class="text-md font-medium mt-6 mb-3 text-gray-700" data-i18n="all_conversions">All Conversions</h4>
                <table class="conversion-table">
                    <thead>
                        <tr>
                            <th data-i18n="unit">Unit</th>
                            <th data-i18n="value">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-i18n="unit_pb">Petabytes (PB)</td>
                            <td id="pb_value">-</td>
                        </tr>
                        <tr>
                            <td data-i18n="unit_tb">Terabytes (TB)</td>
                            <td id="tb_value">-</td>
                        </tr>
                        <tr>
                            <td data-i18n="unit_gb">Gigabytes (GB)</td>
                            <td id="gb_value">-</td>
                        </tr>
                        <tr>
                            <td data-i18n="unit_mb">Megabytes (MB)</td>
                            <td id="mb_value">-</td>
                        </tr>
                        <tr>
                            <td data-i18n="unit_kb">Kilobytes (KB)</td>
                            <td id="kb_value">-</td>
                        </tr>
                        <tr>
                            <td data-i18n="unit_b">Bytes (B)</td>
                            <td id="b_value">-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Intro -->
            <div class="intro-section">
                <h3 class="text-lg font-semibold mb-2 text-gray-800" data-i18n="intro_title">About This Tool</h3>
                <p data-i18n="intro_text">This data traffic converter helps you convert between different data storage units. It supports both binary (1024-based) and decimal (1000-based) conversions, commonly used in computing and telecommunications. Binary conversion is typical for file sizes, while decimal is often used for data plans.</p>
                <div class="mt-3 flex gap-2">
                    <span class="badge badge-binary" data-i18n="binary_info">Binary: 1 KB = 1024 B</span>
                    <span class="badge badge-si" data-i18n="decimal_info">Decimal: 1 KB = 1000 B</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const TrafficConverter = {
            i18n: {
                'en': {
                    title: 'üìä Data Traffic Converter',
                    conversion_settings: 'Conversion Settings',
                    input_value: 'Value to Convert',
                    from_unit: 'From Unit',
                    conversion_type: 'Conversion Type',
                    binary_type: 'Binary (1024-based)',
                    decimal_type: 'Decimal (1000-based)',
                    btn_convert: 'Convert Traffic',
                    results: 'Conversion Results',
                    primary_result: 'Primary Conversion',
                    formula_used: 'Formula Used',
                    all_conversions: 'All Conversions',
                    unit: 'Unit',
                    value: 'Value',
                    unit_pb: 'Petabytes (PB)',
                    unit_tb: 'Terabytes (TB)',
                    unit_gb: 'Gigabytes (GB)',
                    unit_mb: 'Megabytes (MB)',
                    unit_kb: 'Kilobytes (KB)',
                    unit_b: 'Bytes (B)',
                    intro_title: 'About This Tool',
                    intro_text: 'This data traffic converter helps you convert between different data storage units. It supports both binary (1024-based) and decimal (1000-based) conversions, commonly used in computing and telecommunications. Binary conversion is typical for file sizes, while decimal is often used for data plans.',
                    binary_info: 'Binary: 1 KB = 1024 B',
                    decimal_info: 'Decimal: 1 KB = 1000 B'
                },
                'zh-CN': {
                    title: 'üìä Êï∞ÊçÆÊµÅÈáèËΩ¨Êç¢Âô®',
                    conversion_settings: 'ËΩ¨Êç¢ËÆæÁΩÆ',
                    input_value: 'ÂæÖËΩ¨Êç¢Êï∞ÂÄº',
                    from_unit: 'Ê∫êÂçï‰Ωç',
                    conversion_type: 'ËΩ¨Êç¢Á±ªÂûã',
                    binary_type: '‰∫åËøõÂà∂ (1024‰∏∫Âü∫Êï∞)',
                    decimal_type: 'ÂçÅËøõÂà∂ (1000‰∏∫Âü∫Êï∞)',
                    btn_convert: 'ËΩ¨Êç¢ÊµÅÈáè',
                    results: 'ËΩ¨Êç¢ÁªìÊûú',
                    primary_result: '‰∏ªË¶ÅËΩ¨Êç¢',
                    formula_used: '‰ΩøÁî®ÂÖ¨Âºè',
                    all_conversions: 'ÂÖ®ÈÉ®ËΩ¨Êç¢',
                    unit: 'Âçï‰Ωç',
                    value: 'Êï∞ÂÄº',
                    unit_pb: 'ÊãçÂ≠óËäÇ (PB)',
                    unit_tb: 'Â§™Â≠óËäÇ (TB)',
                    unit_gb: 'ÂêâÂ≠óËäÇ (GB)',
                    unit_mb: 'ÂÖÜÂ≠óËäÇ (MB)',
                    unit_kb: 'ÂçÉÂ≠óËäÇ (KB)',
                    unit_b: 'Â≠óËäÇ (B)',
                    intro_title: 'ÂÖ≥‰∫éÊú¨Â∑•ÂÖ∑',
                    intro_text: 'Ëøô‰∏™Êï∞ÊçÆÊµÅÈáèËΩ¨Êç¢Âô®Â∏ÆÂä©ÊÇ®Âú®‰∏çÂêåÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âçï‰Ωç‰πãÈó¥ËøõË°åËΩ¨Êç¢„ÄÇÂÆÉÊîØÊåÅ‰∫åËøõÂà∂Ôºà1024‰∏∫Âü∫Êï∞ÔºâÂíåÂçÅËøõÂà∂Ôºà1000‰∏∫Âü∫Êï∞ÔºâËΩ¨Êç¢ÔºåÂ∏∏Áî®‰∫éËÆ°ÁÆóÂíåÁîµ‰ø°È¢ÜÂüü„ÄÇ‰∫åËøõÂà∂ËΩ¨Êç¢ÈÄöÂ∏∏Áî®‰∫éÊñá‰ª∂Â§ßÂ∞èÔºåËÄåÂçÅËøõÂà∂Â∏∏Áî®‰∫éÊï∞ÊçÆËÆ°Âàí„ÄÇ',
                    binary_info: '‰∫åËøõÂà∂Ôºö1 KB = 1024 B',
                    decimal_info: 'ÂçÅËøõÂà∂Ôºö1 KB = 1000 B'
                },
                'zh-TW': {
                    title: 'üìä Êï∏ÊìöÊµÅÈáèËΩâÊèõÂô®',
                    conversion_settings: 'ËΩâÊèõË®≠ÂÆö',
                    input_value: 'ÂæÖËΩâÊèõÊï∏ÂÄº',
                    from_unit: 'Ê∫êÂñÆ‰Ωç',
                    conversion_type: 'ËΩâÊèõÈ°ûÂûã',
                    binary_type: '‰∫åÈÄ≤Âà∂ (1024ÁÇ∫Âü∫Êï∏)',
                    decimal_type: 'ÂçÅÈÄ≤Âà∂ (1000ÁÇ∫Âü∫Êï∏)',
                    btn_convert: 'ËΩâÊèõÊµÅÈáè',
                    results: 'ËΩâÊèõÁµêÊûú',
                    primary_result: '‰∏ªË¶ÅËΩâÊèõ',
                    formula_used: '‰ΩøÁî®ÂÖ¨Âºè',
                    all_conversions: 'ÂÖ®ÈÉ®ËΩâÊèõ',
                    unit: 'ÂñÆ‰Ωç',
                    value: 'Êï∏ÂÄº',
                    unit_pb: 'ÊãçÂ≠óÁØÄ (PB)',
                    unit_tb: 'Â§™Â≠óÁØÄ (TB)',
                    unit_gb: 'ÂêâÂ≠óÁØÄ (GB)',
                    unit_mb: 'ÂÖÜÂ≠óÁØÄ (MB)',
                    unit_kb: 'ÂçÉÂ≠óÁØÄ (KB)',
                    unit_b: 'Â≠óÁØÄ (B)',
                    intro_title: 'ÈóúÊñºÊú¨Â∑•ÂÖ∑',
                    intro_text: 'ÈÄôÂÄãÊï∏ÊìöÊµÅÈáèËΩâÊèõÂô®Âπ´Âä©ÊÇ®Âú®‰∏çÂêåÁöÑÊï∏ÊìöÂ≠òÂÑ≤ÂñÆ‰Ωç‰πãÈñìÈÄ≤Ë°åËΩâÊèõ„ÄÇÂÆÉÊîØÊåÅ‰∫åÈÄ≤Âà∂Ôºà1024ÁÇ∫Âü∫Êï∏ÔºâÂíåÂçÅÈÄ≤Âà∂Ôºà1000ÁÇ∫Âü∫Êï∏ÔºâËΩâÊèõÔºåÂ∏∏Áî®ÊñºË®àÁÆóÂíåÈõª‰ø°È†òÂüü„ÄÇ‰∫åÈÄ≤Âà∂ËΩâÊèõÈÄöÂ∏∏Áî®ÊñºÊñá‰ª∂Â§ßÂ∞èÔºåËÄåÂçÅÈÄ≤Âà∂Â∏∏Áî®ÊñºÊï∏ÊìöË®àÂäÉ„ÄÇ',
                    binary_info: '‰∫åÈÄ≤Âà∂Ôºö1 KB = 1024 B',
                    decimal_info: 'ÂçÅÈÄ≤Âà∂Ôºö1 KB = 1000 B'
                },
                'ja': {
                    title: 'üìä „Éá„Éº„Çø„Éà„É©„Éï„Ç£„ÉÉ„ÇØ„Ç≥„É≥„Éê„Éº„Çø„Éº',
                    conversion_settings: 'Â§âÊèõË®≠ÂÆö',
                    input_value: 'Â§âÊèõ„Åô„ÇãÂÄ§',
                    from_unit: 'Â§âÊèõÂÖÉ„ÅÆÂçò‰Ωç',
                    conversion_type: 'Â§âÊèõ„Çø„Ç§„Éó',
                    binary_type: '‰∫åÈÄ≤Ê≥ï (1024„Éô„Éº„Çπ)',
                    decimal_type: 'ÂçÅÈÄ≤Ê≥ï (1000„Éô„Éº„Çπ)',
                    btn_convert: '„Éà„É©„Éï„Ç£„ÉÉ„ÇØ„ÇíÂ§âÊèõ',
                    results: 'Â§âÊèõÁµêÊûú',
                    primary_result: '‰∏ª„Å™Â§âÊèõ',
                    formula_used: '‰ΩøÁî®„Åó„ÅüË®àÁÆóÂºè',
                    all_conversions: '„Åô„Åπ„Å¶„ÅÆÂ§âÊèõ',
                    unit: 'Âçò‰Ωç',
                    value: 'ÂÄ§',
                    unit_pb: '„Éö„Çø„Éê„Ç§„Éà (PB)',
                    unit_tb: '„ÉÜ„É©„Éê„Ç§„Éà (TB)',
                    unit_gb: '„ÇÆ„Ç¨„Éê„Ç§„Éà (GB)',
                    unit_mb: '„É°„Ç¨„Éê„Ç§„Éà (MB)',
                    unit_kb: '„Ç≠„É≠„Éê„Ç§„Éà (KB)',
                    unit_b: '„Éê„Ç§„Éà (B)',
                    intro_title: '„Åì„ÅÆ„ÉÑ„Éº„É´„Å´„Å§„ÅÑ„Å¶',
                    intro_text: '„Åì„ÅÆ„Éá„Éº„Çø„Éà„É©„Éï„Ç£„ÉÉ„ÇØ„Ç≥„É≥„Éê„Éº„Çø„Éº„ÅØ„ÄÅ„Åï„Åæ„Åñ„Åæ„Å™„Éá„Éº„Çø„Çπ„Éà„É¨„Éº„Ç∏Âçò‰Ωç„ÇíÂ§âÊèõ„Åô„Çã„ÅÆ„Å´ÂΩπÁ´ã„Å°„Åæ„Åô„ÄÇ„Ç≥„É≥„Éî„É•„Éº„ÉÜ„Ç£„É≥„Ç∞„Å®ÈõªÊ∞óÈÄö‰ø°„Åß‰∏ÄËà¨ÁöÑ„Å´‰ΩøÁî®„Åï„Çå„Å¶„ÅÑ„Çã„ÄÅ‰∫åÈÄ≤Ê≥ïÔºà1024„Éô„Éº„ÇπÔºâ„Å®ÂçÅÈÄ≤Ê≥ïÔºà1000„Éô„Éº„ÇπÔºâ„ÅÆ‰∏°Êñπ„ÅÆÂ§âÊèõ„Å´ÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰∫åÈÄ≤Ê≥ï„ÅÆÂ§âÊèõ„ÅØ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Å´‰∏ÄËà¨ÁöÑ„Åß„ÄÅÂçÅÈÄ≤Ê≥ï„ÅØ„Éá„Éº„Çø„Éó„É©„É≥„Å´„Çà„Åè‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇ',
                    binary_info: '‰∫åÈÄ≤Ê≥ïÔºö1 KB = 1024 B',
                    decimal_info: 'ÂçÅÈÄ≤Ê≥ïÔºö1 KB = 1000 B'
                },
                'ru': {
                    title: 'üìä –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –¥–∞–Ω–Ω—ã—Ö',
                    conversion_settings: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è',
                    input_value: '–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è',
                    from_unit: '–ò—Å—Ö–æ–¥–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞',
                    conversion_type: '–¢–∏–ø –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è',
                    binary_type: '–ë–∏–Ω–∞—Ä–Ω—ã–π (–æ—Å–Ω–æ–≤–∞–Ω–∏–µ 1024)',
                    decimal_type: '–î–µ—Å—è—Ç–∏—á–Ω—ã–π (–æ—Å–Ω–æ–≤–∞–Ω–∏–µ 1000)',
                    btn_convert: '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ',
                    results: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è',
                    primary_result: '–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ',
                    formula_used: '–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ–æ—Ä–º—É–ª–∞',
                    all_conversions: '–í—Å–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è',
                    unit: '–ï–¥–∏–Ω–∏—Ü–∞',
                    value: '–ó–Ω–∞—á–µ–Ω–∏–µ',
                    unit_pb: '–ü–µ—Ç–∞–±–∞–π—Ç—ã (PB)',
                    unit_tb: '–¢–µ—Ä–∞–±–∞–π—Ç—ã (TB)',
                    unit_gb: '–ì–∏–≥–∞–±–∞–π—Ç—ã (GB)',
                    unit_mb: '–ú–µ–≥–∞–±–∞–π—Ç—ã (MB)',
                    unit_kb: '–ö–∏–ª–æ–±–∞–π—Ç—ã (KB)',
                    unit_b: '–ë–∞–π—Ç—ã (B)',
                    intro_title: '–û –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ',
                    intro_text: '–≠—Ç–æ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –±–∏–Ω–∞—Ä–Ω—ã–µ (—Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º 1024), —Ç–∞–∫ –∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ (—Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º 1000) –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–µ –∏ —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è—Ö. –ë–∏–Ω–∞—Ä–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤, –∞ –¥–µ—Å—è—Ç–∏—á–Ω–æ–µ ‚Äî –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤.',
                    binary_info: '–ë–∏–Ω–∞—Ä–Ω—ã–π: 1 –ö–ë = 1024 –ë',
                    decimal_info: '–î–µ—Å—è—Ç–∏—á–Ω—ã–π: 1 –ö–ë = 1000 –ë'
                }
            },

            // Unit conversion factors (relative to bytes)
            units: {
                'b': { factor: 1, name: { 'en': 'Bytes (B)', 'zh-CN': 'Â≠óËäÇ (B)', 'zh-TW': 'Â≠óÁØÄ (B)', 'ja': '„Éê„Ç§„Éà (B)', 'ru': '–ë–∞–π—Ç—ã (B)' } },
                'kb': { factor: 1, name: { 'en': 'Kilobytes (KB)', 'zh-CN': 'ÂçÉÂ≠óËäÇ (KB)', 'zh-TW': 'ÂçÉÂ≠óÁØÄ (KB)', 'ja': '„Ç≠„É≠„Éê„Ç§„Éà (KB)', 'ru': '–ö–∏–ª–æ–±–∞–π—Ç—ã (KB)' } },
                'mb': { factor: 1, name: { 'en': 'Megabytes (MB)', 'zh-CN': 'ÂÖÜÂ≠óËäÇ (MB)', 'zh-TW': 'ÂÖÜÂ≠óÁØÄ (MB)', 'ja': '„É°„Ç¨„Éê„Ç§„Éà (MB)', 'ru': '–ú–µ–≥–∞–±–∞–π—Ç—ã (MB)' } },
                'gb': { factor: 1, name: { 'en': 'Gigabytes (GB)', 'zh-CN': 'ÂêâÂ≠óËäÇ (GB)', 'zh-TW': 'ÂêâÂ≠óÁØÄ (GB)', 'ja': '„ÇÆ„Ç¨„Éê„Ç§„Éà (GB)', 'ru': '–ì–∏–≥–∞–±–∞–π—Ç—ã (GB)' } },
                'tb': { factor: 1, name: { 'en': 'Terabytes (TB)', 'zh-CN': 'Â§™Â≠óËäÇ (TB)', 'zh-TW': 'Â§™Â≠óÁØÄ (TB)', 'ja': '„ÉÜ„É©„Éê„Ç§„Éà (TB)', 'ru': '–¢–µ—Ä–∞–±–∞–π—Ç—ã (TB)' } },
                'pb': { factor: 1, name: { 'en': 'Petabytes (PB)', 'zh-CN': 'ÊãçÂ≠óËäÇ (PB)', 'zh-TW': 'ÊãçÂ≠óÁØÄ (PB)', 'ja': '„Éö„Çø„Éê„Ç§„Éà (PB)', 'ru': '–ü–µ—Ç–∞–±–∞–π—Ç—ã (PB)' } }
            },

            // Unit order from largest to smallest
            unitOrder: ['pb', 'tb', 'gb', 'mb', 'kb', 'b'],

            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                this.calculate();
            },

            changeLang: function() {
                const lang = document.getElementById('lang-selector').value;
                const newUrl = new URL(window.location);
                newUrl.searchParams.set('lang', lang);
                window.history.pushState({}, '', newUrl);
                const texts = this.i18n[lang];
                if (!texts) return;
                
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });
                this.updateUnitOptions();
                this.calculate(); 
            },

            updateUnitOptions: function() {
                const lang = document.getElementById('lang-selector').value;
                const fromUnit = document.getElementById('from_unit');
                const currentValue = fromUnit.value;

                // Clear and repopulate options
                fromUnit.innerHTML = '';
                
                // Add options in reverse order (smallest to largest)
                [...this.unitOrder].reverse().forEach(unitKey => {
                    const option = document.createElement('option');
                    option.value = unitKey;
                    option.textContent = this.units[unitKey].name[lang] || this.units[unitKey].name['en'];
                    fromUnit.appendChild(option);
                });

                // Restore previous selection
                fromUnit.value = currentValue;
            },

            calculate: function() {
                const value = parseFloat(document.getElementById('input_value').value) || 0;
                const fromUnit = document.getElementById('from_unit').value;
                const conversionType = document.getElementById('conversion_type').value;
                const base = conversionType === 'binary' ? 1024 : 1000;
                const lang = document.getElementById('lang-selector').value;

                // Calculate conversion factors based on type
                this.units['kb'].factor = base;
                this.units['mb'].factor = base * base;
                this.units['gb'].factor = base * base * base;
                this.units['tb'].factor = base * base * base * base;
                this.units['pb'].factor = base * base * base * base * base;

                // Convert input value to bytes first
                const bytes = value * this.units[fromUnit].factor;

                // Calculate values for all units
                const results = {};
                this.unitOrder.forEach(unit => {
                    results[unit] = bytes / this.units[unit].factor;
                });

                // Update all conversion table values
                this.unitOrder.forEach(unit => {
                    const element = document.getElementById(`${unit}_value`);
                    if (element) {
                        // Format numbers for readability
                        let formattedValue;
                        if (results[unit] >= 1000) {
                            formattedValue = results[unit].toFixed(2);
                        } else if (results[unit] >= 0.001) {
                            formattedValue = results[unit].toFixed(6).replace(/\.?0+$/, '');
                        } else {
                            formattedValue = results[unit].toExponential(6);
                        }
                        element.textContent = formattedValue;
                    }
                });

                // Update primary conversion result (show next larger unit if appropriate)
                const fromUnitIndex = this.unitOrder.indexOf(fromUnit);
                let toUnit;
                
                // Try to find a larger unit for more meaningful primary conversion
                if (fromUnitIndex > 0 && results[this.unitOrder[fromUnitIndex - 1]] >= 0.001) {
                    toUnit = this.unitOrder[fromUnitIndex - 1];
                } else {
                    // If no larger unit makes sense, use the next smaller one
                    toUnit = fromUnitIndex < this.unitOrder.length - 1 ? this.unitOrder[fromUnitIndex + 1] : fromUnit;
                }

                const primaryValue = results[toUnit];
                const fromUnitName = this.units[fromUnit].name[lang] || this.units[fromUnit].name['en'];
                const toUnitName = this.units[toUnit].name[lang] || this.units[toUnit].name['en'];
                
                document.getElementById('primary_result').textContent = 
                    `${value} ${fromUnitName} = ${primaryValue.toFixed(6).replace(/\.?0+$/, '')} ${toUnitName}`;

                // Update formula
                const baseText = conversionType === 'binary' ? 1024 : 1000;
                const exponent = Math.abs(this.unitOrder.indexOf(fromUnit) - this.unitOrder.indexOf(toUnit));
                const operation = this.unitOrder.indexOf(fromUnit) < this.unitOrder.indexOf(toUnit) ? '√ó' : '√∑';
                
                document.getElementById('formula_used').textContent = 
                    `${value} ${operation} ${baseText}^${exponent} = ${primaryValue.toFixed(6).replace(/\.?0+$/, '')}`;
            }
        };

        window.onload = function() { TrafficConverter.init(); };
    </script>

    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>
</html>