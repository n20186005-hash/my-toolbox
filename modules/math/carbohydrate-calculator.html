<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbohydrate Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="carbohydrate_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="ğŸ">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Carbohydrate Calculator">
    <meta name="description" content="Calculate your recommended daily carbohydrate intake.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ç¢³æ°´åŒ–åˆç‰©è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—æ‚¨æ¨èçš„æ¯æ—¥ç¢³æ°´åŒ–åˆç‰©æ‘„å…¥é‡ã€‚">
    
    <meta name="lang-title-zh-TW" content="ç¢³æ°´åŒ–åˆç‰©è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—æ‚¨æ¨è–¦çš„æ¯æ—¥ç¢³æ°´åŒ–åˆç‰©æ”å–é‡ã€‚">
    
    <meta name="lang-title-ja" content="ç‚­æ°´åŒ–ç‰©è¨ˆç®—æ©Ÿ">
    <meta name="lang-description-ja" content="æ¨å¥¨ã•ã‚Œã‚‹1æ—¥ã®ç‚­æ°´åŒ–ç‰©æ‘‚å–é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ¾Ğµ ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ².">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result-box { background-color: #f8fafc; border: 1px solid #e2e8f0; padding: 15px; border-radius: 5px; margin-top: 10px; text-align: center; }
        .food-examples { margin-top: 10px; padding-left: 20px; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/carbohydrate-calculator.html" />

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body>

    <div class="tool-module active" 
         data-id="carbohydrate_calculator" 
         data-category="health" 
         data-title="Carbohydrate Calculator" 
         data-icon="ğŸ">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="carb-lang" onchange="CarbCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ Carbohydrate Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="unit_system">Unit System</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="units" value="metric" checked class="text-yellow-600 focus:ring-yellow-500">
                        <span data-i18n="metric">Metric (cm, kg)</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="units" value="imperial" class="text-yellow-600 focus:ring-yellow-500">
                        <span data-i18n="imperial">Imperial (ft, lbs)</span>
                    </label>
                </div>
            </div>
            
            <div id="weight-metric">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="weight_kg">Weight (kg)</label>
                <input type="number" id="weight-kg" class="w-full p-2 border rounded focus:ring-2 focus:ring-yellow-500 outline-none" placeholder="e.g. 70" min="30" max="250" value="70">
            </div>
            <div id="weight-imperial" style="display: none;">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="weight_lbs">Weight (lbs)</label>
                <input type="number" id="weight-lbs" class="w-full p-2 border rounded focus:ring-2 focus:ring-yellow-500 outline-none" placeholder="e.g. 154" min="66" max="550" value="154">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="age">Age (years)</label>
                <input type="number" id="age" class="w-full p-2 border rounded focus:ring-2 focus:ring-yellow-500 outline-none" placeholder="e.g. 30" min="18" max="120" value="30">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="gender">Gender</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="gender" value="male" checked class="text-yellow-600 focus:ring-yellow-500">
                        <span data-i18n="male">Male</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="gender" value="female" class="text-yellow-600 focus:ring-yellow-500">
                        <span data-i18n="female">Female</span>
                    </label>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="activity_level">Activity Level</label>
                <select id="activity-level" class="w-full p-2 border rounded focus:ring-2 focus:ring-yellow-500 outline-none">
                    <option value="sedentary" data-i18n="sedentary">Sedentary (little exercise)</option>
                    <option value="lightly" data-i18n="lightly">Lightly Active (light exercise)</option>
                    <option value="moderately" data-i18n="moderately" selected>Moderately Active (moderate exercise)</option>
                    <option value="very" data-i18n="very">Very Active (hard exercise)</option>
                    <option value="extra" data-i18n="extra">Extra Active (very hard exercise)</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="goal">Goal</label>
                <select id="goal" class="w-full p-2 border rounded focus:ring-2 focus:ring-yellow-500 outline-none">
                    <option value="lose" data-i18n="lose">Lose Weight</option>
                    <option value="maintain" data-i18n="maintain" selected>Maintain Weight</option>
                    <option value="gain" data-i18n="gain">Gain Weight</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="carb_percent">Carbohydrate Percentage of Calories (%)</label>
                <input type="range" id="carb-percent" min="20" max="70" value="50" 
                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-yellow-500">
                <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>20%</span>
                    <span id="carb-percent-display">50%</span>
                    <span>70%</span>
                </div>
            </div>
        </div>

        <button onclick="CarbCalc.calc()" class="w-full bg-yellow-600 text-white py-2 rounded font-bold hover:bg-yellow-700 transition mb-6" data-i18n="btn_calc">Calculate Carbohydrates</button>

        <div class="bg-yellow-50 p-6 rounded-lg border border-yellow-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="daily_carbs">Daily Carbohydrate Requirement</div>
            <div id="carbs-result" class="text-3xl font-bold text-yellow-800">--</div>
            
            <div class="result-box mt-6">
                <div class="text-sm text-gray-500 mb-1" data-i18n="daily_calories">Total Daily Calories</div>
                <div id="calories-result" class="text-xl font-bold text-yellow-800">--</div>
            </div>
            
            <div class="mt-6">
                <div class="text-sm font-medium text-gray-700 mb-2" data-i18n="food_examples">Example Food Sources:</div>
                <ul class="food-examples text-sm text-gray-600" data-i18n="food_list">
                    <li>1 slice of bread: ~15g carbs</li>
                    <li>1 medium potato: ~30g carbs</li>
                    <li>1 cup of rice: ~45g carbs</li>
                    <li>1 medium banana: ~27g carbs</li>
                </ul>
            </div>
            
            <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: This is a general guide. Individual needs may vary.</div>
        </div>
    </div>

    <script>
        const CarbCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ Carbohydrate Calculator',
                    unit_system: 'Unit System',
                    metric: 'Metric (cm, kg)',
                    imperial: 'Imperial (ft, lbs)',
                    weight_kg: 'Weight (kg)',
                    weight_lbs: 'Weight (lbs)',
                    age: 'Age (years)',
                    gender: 'Gender',
                    male: 'Male',
                    female: 'Female',
                    activity_level: 'Activity Level',
                    sedentary: 'Sedentary (little exercise)',
                    lightly: 'Lightly Active (light exercise)',
                    moderately: 'Moderately Active (moderate exercise)',
                    very: 'Very Active (hard exercise)',
                    extra: 'Extra Active (very hard exercise)',
                    goal: 'Goal',
                    lose: 'Lose Weight',
                    maintain: 'Maintain Weight',
                    gain: 'Gain Weight',
                    carb_percent: 'Carbohydrate Percentage of Calories (%)',
                    btn_calc: 'Calculate Carbohydrates',
                    daily_carbs: 'Daily Carbohydrate Requirement',
                    daily_calories: 'Total Daily Calories',
                    food_examples: 'Example Food Sources:',
                    food_list: `
                        <li>1 slice of bread: ~15g carbs</li>
                        <li>1 medium potato: ~30g carbs</li>
                        <li>1 cup of rice: ~45g carbs</li>
                        <li>1 medium banana: ~27g carbs</li>
                    `,
                    disclaimer: 'Disclaimer: This is a general guide. Individual needs may vary.',
                    err_invalid: 'Please enter valid numbers',
                    grams: 'grams',
                    calories_unit: 'calories'
                },
                'zh-CN': {
                    title: 'ğŸ ç¢³æ°´åŒ–åˆç‰©è®¡ç®—å™¨',
                    unit_system: 'å•ä½ç³»ç»Ÿ',
                    metric: 'å…¬åˆ¶ï¼ˆå˜ç±³ï¼Œåƒå…‹ï¼‰',
                    imperial: 'è‹±åˆ¶ï¼ˆè‹±å°ºï¼Œç£…ï¼‰',
                    weight_kg: 'ä½“é‡ï¼ˆåƒå…‹ï¼‰',
                    weight_lbs: 'ä½“é‡ï¼ˆç£…ï¼‰',
                    age: 'å¹´é¾„ï¼ˆå²ï¼‰',
                    gender: 'æ€§åˆ«',
                    male: 'ç”·',
                    female: 'å¥³',
                    activity_level: 'æ´»åŠ¨æ°´å¹³',
                    sedentary: 'ä¹…åï¼ˆå¾ˆå°‘è¿åŠ¨ï¼‰',
                    lightly: 'è½»åº¦æ´»åŠ¨ï¼ˆå°‘é‡è¿åŠ¨ï¼‰',
                    moderately: 'ä¸­åº¦æ´»åŠ¨ï¼ˆé€‚åº¦è¿åŠ¨ï¼‰',
                    very: 'é«˜åº¦æ´»åŠ¨ï¼ˆå¤§é‡è¿åŠ¨ï¼‰',
                    extra: 'æé«˜æ´»åŠ¨ï¼ˆå‰§çƒˆè¿åŠ¨ï¼‰',
                    goal: 'ç›®æ ‡',
                    lose: 'å‡é‡',
                    maintain: 'ç»´æŒä½“é‡',
                    gain: 'å¢é‡',
                    carb_percent: 'ç¢³æ°´åŒ–åˆç‰©å å¡è·¯é‡Œçš„ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰',
                    btn_calc: 'è®¡ç®—ç¢³æ°´åŒ–åˆç‰©',
                    daily_carbs: 'æ¯æ—¥ç¢³æ°´åŒ–åˆç‰©éœ€æ±‚é‡',
                    daily_calories: 'æ¯æ—¥æ€»å¡è·¯é‡Œ',
                    food_examples: 'é£Ÿç‰©æ¥æºç¤ºä¾‹ï¼š',
                    food_list: `
                        <li>1ç‰‡é¢åŒ…ï¼šçº¦15å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1ä¸ªä¸­ç­‰å¤§å°çš„åœŸè±†ï¼šçº¦30å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1æ¯ç±³é¥­ï¼šçº¦45å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1ä¸ªä¸­ç­‰å¤§å°çš„é¦™è•‰ï¼šçº¦27å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                    `,
                    disclaimer: 'å…è´£å£°æ˜ï¼šè¿™æ˜¯ä¸€èˆ¬æŒ‡å—ã€‚ä¸ªäººéœ€æ±‚å¯èƒ½æœ‰æ‰€ä¸åŒã€‚',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—',
                    grams: 'å…‹',
                    calories_unit: 'å¡è·¯é‡Œ'
                },
                'zh-TW': {
                    title: 'ğŸ ç¢³æ°´åŒ–åˆç‰©è¨ˆç®—å™¨',
                    unit_system: 'å–®ä½ç³»çµ±',
                    metric: 'å…¬åˆ¶ï¼ˆå…¬åˆ†ï¼Œå…¬æ–¤ï¼‰',
                    imperial: 'è‹±åˆ¶ï¼ˆè‹±å°ºï¼Œç£…ï¼‰',
                    weight_kg: 'é«”é‡ï¼ˆå…¬æ–¤ï¼‰',
                    weight_lbs: 'é«”é‡ï¼ˆç£…ï¼‰',
                    age: 'å¹´é½¡ï¼ˆæ­²ï¼‰',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·',
                    female: 'å¥³',
                    activity_level: 'æ´»å‹•æ°´å¹³',
                    sedentary: 'ä¹…åï¼ˆå¾ˆå°‘é‹å‹•ï¼‰',
                    lightly: 'è¼•åº¦æ´»å‹•ï¼ˆå°‘é‡é‹å‹•ï¼‰',
                    moderately: 'ä¸­åº¦æ´»å‹•ï¼ˆé©åº¦é‹å‹•ï¼‰',
                    very: 'é«˜åº¦æ´»å‹•ï¼ˆå¤§é‡é‹å‹•ï¼‰',
                    extra: 'æ¥µé«˜æ´»å‹•ï¼ˆåŠ‡çƒˆé‹å‹•ï¼‰',
                    goal: 'ç›®æ¨™',
                    lose: 'æ¸›é‡',
                    maintain: 'ç¶­æŒé«”é‡',
                    gain: 'å¢é‡',
                    carb_percent: 'ç¢³æ°´åŒ–åˆç‰©å å¡è·¯é‡Œçš„ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰',
                    btn_calc: 'è¨ˆç®—ç¢³æ°´åŒ–åˆç‰©',
                    daily_carbs: 'æ¯æ—¥ç¢³æ°´åŒ–åˆç‰©éœ€æ±‚é‡',
                    daily_calories: 'æ¯æ—¥ç¸½å¡è·¯é‡Œ',
                    food_examples: 'é£Ÿç‰©ä¾†æºç¤ºä¾‹ï¼š',
                    food_list: `
                        <li>1ç‰‡éºµåŒ…ï¼šç´„15å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1å€‹ä¸­ç­‰å¤§å°çš„é¦¬éˆ´è–¯ï¼šç´„30å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1æ¯ç±³é£¯ï¼šç´„45å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                        <li>1å€‹ä¸­ç­‰å¤§å°çš„é¦™è•‰ï¼šç´„27å…‹ç¢³æ°´åŒ–åˆç‰©</li>
                    `,
                    disclaimer: 'å…è²¬è²æ˜ï¼šé€™æ˜¯ä¸€èˆ¬æŒ‡å—ã€‚å€‹äººéœ€æ±‚å¯èƒ½æœ‰æ‰€ä¸åŒã€‚',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—',
                    grams: 'å…‹',
                    calories_unit: 'å¡è·¯é‡Œ'
                },
                'ja': {
                    title: 'ğŸ ç‚­æ°´åŒ–ç‰©è¨ˆç®—æ©Ÿ',
                    unit_system: 'å˜ä½ç³»',
                    metric: 'ãƒ¡ãƒ¼ãƒˆãƒ«æ³•ï¼ˆcmã€kgï¼‰',
                    imperial: 'å¸å›½æ³•ï¼ˆãƒ•ã‚£ãƒ¼ãƒˆã€ãƒãƒ³ãƒ‰ï¼‰',
                    weight_kg: 'ä½“é‡ï¼ˆkgï¼‰',
                    weight_lbs: 'ä½“é‡ï¼ˆãƒãƒ³ãƒ‰ï¼‰',
                    age: 'å¹´é½¢ï¼ˆæ­³ï¼‰',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·æ€§',
                    female: 'å¥³æ€§',
                    activity_level: 'æ´»å‹•ãƒ¬ãƒ™ãƒ«',
                    sedentary: 'ä¹…åå‹ï¼ˆã»ã¨ã‚“ã©é‹å‹•ãªã—ï¼‰',
                    lightly: 'è»½åº¦æ´»å‹•ï¼ˆè»½ã„é‹å‹•ï¼‰',
                    moderately: 'ä¸­ç­‰åº¦æ´»å‹•ï¼ˆé©åº¦ãªé‹å‹•ï¼‰',
                    very: 'é«˜åº¦æ´»å‹•ï¼ˆæ¿€ã—ã„é‹å‹•ï¼‰',
                    extra: 'è¶…é«˜åº¦æ´»å‹•ï¼ˆéå¸¸ã«æ¿€ã—ã„é‹å‹•ï¼‰',
                    goal: 'ç›®æ¨™',
                    lose: 'æ¸›é‡',
                    maintain: 'ä½“é‡ç¶­æŒ',
                    gain: 'å¢—é‡',
                    carb_percent: 'ã‚«ãƒ­ãƒªãƒ¼ã«å ã‚ã‚‹ç‚­æ°´åŒ–ç‰©ã®å‰²åˆï¼ˆ%ï¼‰',
                    btn_calc: 'ç‚­æ°´åŒ–ç‰©ã‚’è¨ˆç®—',
                    daily_carbs: '1æ—¥ã®ç‚­æ°´åŒ–ç‰©å¿…è¦é‡',
                    daily_calories: '1æ—¥ã®ç·ã‚«ãƒ­ãƒªãƒ¼',
                    food_examples: 'é£Ÿå“ä¾‹ï¼š',
                    food_list: `
                        <li>ãƒ‘ãƒ³1æšï¼šç´„15gã®ç‚­æ°´åŒ–ç‰©</li>
                        <li>ã˜ã‚ƒãŒã„ã‚‚ä¸­1å€‹ï¼šç´„30gã®ç‚­æ°´åŒ–ç‰©</li>
                        <li>ã”é£¯1ã‚«ãƒƒãƒ—ï¼šç´„45gã®ç‚­æ°´åŒ–ç‰©</li>
                        <li>ãƒãƒŠãƒŠä¸­1æœ¬ï¼šç´„27gã®ç‚­æ°´åŒ–ç‰©</li>
                    `,
                    disclaimer: 'å…è²¬äº‹é …ï¼šã“ã‚Œã¯ä¸€èˆ¬çš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚å€‹äººã®å¿…è¦é‡ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚',
                    err_invalid: 'æœ‰åŠ¹ãªæ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    grams: 'ã‚°ãƒ©ãƒ ',
                    calories_unit: 'ã‚«ãƒ­ãƒªãƒ¼'
                },
                'ru': {
                    title: 'ğŸ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²',
                    unit_system: 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†',
                    metric: 'ĞœĞµÑ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ (ÑĞ¼, ĞºĞ³)',
                    imperial: 'Ğ˜Ğ¼Ğ¿ĞµÑ€ÑĞºĞ°Ñ (Ñ„ÑƒÑ‚Ñ‹, Ñ„ÑƒĞ½Ñ‚Ñ‹)',
                    weight_kg: 'Ğ’ĞµÑ (ĞºĞ³)',
                    weight_lbs: 'Ğ’ĞµÑ (Ñ„ÑƒĞ½Ñ‚Ñ‹)',
                    age: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ (Ğ»ĞµÑ‚)',
                    gender: 'ĞŸĞ¾Ğ»',
                    male: 'ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹',
                    female: 'Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹',
                    activity_level: 'Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸',
                    sedentary: 'Ğ¡Ğ¸Ğ´ÑÑ‡Ğ¸Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¶Ğ¸Ğ·Ğ½Ğ¸ (Ğ¼Ğ°Ğ»Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğ¹)',
                    lightly: 'Ğ›ĞµĞ³ĞºĞ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ»ĞµĞ³ĞºĞ¸Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    moderately: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    very: 'ĞÑ‡ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    extra: 'Ğ­ĞºÑÑ‚Ñ€Ğ°Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    goal: 'Ğ¦ĞµĞ»ÑŒ',
                    lose: 'Ğ¡Ğ±Ñ€Ğ¾Ñ Ğ²ĞµÑĞ°',
                    maintain: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°',
                    gain: 'ĞĞ°Ğ±Ğ¾Ñ€ Ğ²ĞµÑĞ°',
                    carb_percent: 'ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ² Ğ¾Ñ‚ Ğ¾Ğ±Ñ‰ĞµĞ¹ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹Ğ½Ğ¾ÑÑ‚Ğ¸ (%)',
                    btn_calc: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ñ‹',
                    daily_carbs: 'Ğ¡ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ°Ñ…',
                    daily_calories: 'ĞĞ±Ñ‰Ğ°Ñ ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹Ğ½Ğ¾ÑÑ‚ÑŒ',
                    food_examples: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²:',
                    food_list: `
                        <li>1 Ğ»Ğ¾Ğ¼Ñ‚Ğ¸Ğº Ñ…Ğ»ĞµĞ±Ğ°: ~15Ğ³ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²</li>
                        <li>1 ÑÑ€ĞµĞ´Ğ½ÑÑ ĞºĞ°Ñ€Ñ‚Ğ¾ÑˆĞºĞ°: ~30Ğ³ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²</li>
                        <li>1 Ñ‡Ğ°ÑˆĞºĞ° Ñ€Ğ¸ÑĞ°: ~45Ğ³ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²</li>
                        <li>1 ÑÑ€ĞµĞ´Ğ½ÑÑ Ğ±Ğ°Ğ½Ğ°Ğ½: ~27Ğ³ ÑƒĞ³Ğ»ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²</li>
                    `,
                    disclaimer: 'ĞÑ‚ĞºĞ°Ğ· Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸: Ğ­Ñ‚Ğ¾ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸. Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ½ÑƒĞ¶Ğ´Ñ‹ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ.',
                    err_invalid: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°',
                    grams: 'Ğ³Ñ€Ğ°Ğ¼Ğ¼',
                    calories_unit: 'ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹'
                }
            },

            init: () => {
                // ç›‘å¬å•ä½åˆ‡æ¢
                document.querySelectorAll('input[name="units"]').forEach(radio => {
                    radio.addEventListener('change', CarbCalc.toggleUnits);
                });
                
                // ç›‘å¬ç¢³æ°´åŒ–åˆç‰©ç™¾åˆ†æ¯”æ»‘å—å˜åŒ–
                const carbSlider = document.getElementById('carb-percent');
                const carbDisplay = document.getElementById('carb-percent-display');
                
                carbSlider.addEventListener('input', () => {
                    carbDisplay.innerText = `${carbSlider.value}%`;
                });
            },

            toggleUnits: () => {
                const isMetric = document.querySelector('input[name="units"][value="metric"]').checked;
                
                // æ˜¾ç¤º/éšè—é‡é‡è¾“å…¥æ¡†
                document.getElementById('weight-metric').style.display = isMetric ? 'block' : 'none';
                document.getElementById('weight-imperial').style.display = isMetric ? 'none' : 'block';
            },

            changeLang: () => {
                const lang = document.getElementById('carb-lang').value;
                const texts = CarbCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="carbohydrate_calculator"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        if (key === 'food_list') {
                            el.innerHTML = texts[key];
                        } else {
                            el.innerText = texts[key];
                        }
                    }
                });

                // ç¿»è¯‘ä¸‹æ‹‰é€‰é¡¹
                const activityOptions = document.querySelectorAll('#activity-level option');
                activityOptions.forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });
                
                const goalOptions = document.querySelectorAll('#goal option');
                goalOptions.forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });

                // é‡æ–°è®¡ç®—ä»¥æ›´æ–°ç»“æœè¯­è¨€
                CarbCalc.calc();
            },

            // è®¡ç®—åŸºç¡€ä»£è°¢ç‡ (Mifflin-St Jeorå…¬å¼)
            calculateBMR: (weightKg, age, gender) => {
                // ä¸ºç®€åŒ–è®¡ç®—ï¼Œè¿™é‡Œä½¿ç”¨ç®€åŒ–ç‰ˆå…¬å¼
                if (gender === 'male') {
                    return 10 * weightKg + 6.25 * 170 - 5 * age + 5; // å‡è®¾å¹³å‡èº«é«˜170cm
                } else {
                    return 10 * weightKg + 6.25 * 160 - 5 * age - 161; // å‡è®¾å¹³å‡èº«é«˜160cm
                }
            },

            // æ ¹æ®æ´»åŠ¨æ°´å¹³è·å–ç³»æ•°
            getActivityFactor: (level) => {
                const factors = {
                    'sedentary': 1.2,
                    'lightly': 1.375,
                    'moderately': 1.55,
                    'very': 1.725,
                    'extra': 1.9
                };
                return factors[level] || 1.55;
            },

            // æ ¹æ®ç›®æ ‡è°ƒæ•´å¡è·¯é‡Œ
            adjustCaloriesForGoal: (tdee, goal) => {
                switch(goal) {
                    case 'lose': return tdee * 0.85; // å‡å°‘15%ç”¨äºå‡é‡
                    case 'gain': return tdee * 1.15; // å¢åŠ 15%ç”¨äºå¢é‡
                    default: return tdee; // ç»´æŒä½“é‡
                }
            },

            calc: () => {
                const isMetric = document.querySelector('input[name="units"][value="metric"]').checked;
                const lang = document.getElementById('carb-lang').value;
                const texts = CarbCalc.i18n[lang];

                let weightKg, age, gender, activityLevel, goal, carbPercent;

                // è·å–è¾“å…¥å€¼
                if (isMetric) {
                    weightKg = parseFloat(document.getElementById('weight-kg').value) || 0;
                } else {
                    weightKg = parseFloat(document.getElementById('weight-lbs').value) * 0.453592 || 0; // è½¬æ¢ä¸ºåƒå…‹
                }
                
                age = parseFloat(document.getElementById('age').value) || 0;
                gender = document.querySelector('input[name="gender"]:checked').value;
                activityLevel = document.getElementById('activity-level').value;
                goal = document.getElementById('goal').value;
                carbPercent = parseFloat(document.getElementById('carb-percent').value) / 100 || 0;

                // è·å–ç»“æœå…ƒç´ 
                const carbsEl = document.getElementById('carbs-result');
                const caloriesEl = document.getElementById('calories-result');

                // éªŒè¯è¾“å…¥
                if (isNaN(weightKg) || isNaN(age) || 
                    weightKg <= 0 || age < 18 || age > 120) {
                    carbsEl.innerText = texts.err_invalid;
                    carbsEl.className = "text-2xl font-bold text-red-600";
                    caloriesEl.innerText = '--';
                    return;
                }

                // è®¡ç®—ç¢³æ°´åŒ–åˆç‰©éœ€æ±‚
                const bmr = CarbCalc.calculateBMR(weightKg, age, gender);
                const tdee = bmr * CarbCalc.getActivityFactor(activityLevel);
                const calories = Math.round(CarbCalc.adjustCaloriesForGoal(tdee, goal));
                
                // ç¢³æ°´åŒ–åˆç‰©æ¯å…‹æä¾›4å¡è·¯é‡Œ
                const carbsGrams = Math.round((calories * carbPercent) / 4);

                // æ˜¾ç¤ºç»“æœ
                carbsEl.className = "text-3xl font-bold text-yellow-800";
                carbsEl.innerText = `${carbsGrams} ${texts.grams}`;
                
                caloriesEl.innerText = `${calories} ${texts.calories_unit}`;
            }
        };

        document.addEventListener('DOMContentLoaded', CarbCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('carb-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    CarbCalc.changeLang();
                }
            }
        });
    </script>


    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>