<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Essential Tags & Metadata -->
    <meta name="category" content="math">
    <meta name="icon" content="üå≤">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forestry Toolkit Calculator</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/math/forestry-toolkit-calculator.html" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#166534', // Green for forestry
                        primaryDark: '#14532d',
                        wood: '#78350f',
                        slate: {
                            850: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap');

        body { font-family: 'Inter', 'Noto Sans SC', 'Noto Sans TC', sans-serif; }

        /* Glassmorphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.90);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .dark .glass-card {
            background: rgba(30, 41, 59, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        /* Interactive Elements */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            border-color: #166534;
        }
        
        .category-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        .category-btn.active {
            background: linear-gradient(135deg, #166534 0%, #15803d 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(22, 101, 52, 0.4);
            font-weight: 600;
        }
        .category-btn:not(.active):hover {
            background-color: rgba(241, 245, 249, 0.8);
            transform: translateX(4px);
        }
        .dark .category-btn:not(.active):hover {
            background-color: rgba(30, 41, 59, 0.8);
        }

        /* Inputs */
        .input-group label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #64748b;
            font-weight: 700;
            margin-bottom: 0.35rem;
            display: block;
        }
        .dark .input-group label { color: #94a3b8; }
        
        .input-wrapper input, .input-wrapper select {
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border: 1px solid #cbd5e1;
            background-color: #f8fafc;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
            font-size: 0.95rem;
        }
        .dark .input-wrapper input, .dark .input-wrapper select {
            background-color: #0f172a;
            border-color: #334155;
            color: white;
        }
        .input-wrapper input:focus, .input-wrapper select:focus {
            border-color: #166534;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(22, 101, 52, 0.15);
        }
        .dark .input-wrapper input:focus, .dark .input-wrapper select:focus {
            background-color: #1e293b;
        }

        /* Background */
        .bg-pattern {
            background-color: #fcfdfc;
            background-image: radial-gradient(#166534 0.5px, transparent 0.5px), radial-gradient(#166534 0.5px, #fcfdfc 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            opacity: 0.03;
        }
        .dark .bg-pattern { opacity: 0.05; background-image: radial-gradient(#ffffff 0.5px, transparent 0.5px), radial-gradient(#ffffff 0.5px, #020617 0.5px); background-color: #020617; }

        .bg-gradient-header {
            background: linear-gradient(180deg, rgba(22, 101, 52, 0.1) 0%, rgba(255,255,255,0) 100%);
        }
        .dark .bg-gradient-header {
            background: linear-gradient(180deg, rgba(20, 83, 45, 0.3) 0%, rgba(15, 23, 42, 0) 100%);
        }
        
        /* Modal */
        #shareModal { backdrop-filter: blur(8px); transition: opacity 0.3s ease; }
        
        /* Language Dropdown */
        .lang-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }

        .hidden { display: none; }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-stone-50 text-slate-800 font-sans leading-relaxed dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 min-h-screen flex flex-col selection:bg-green-200 dark:selection:bg-green-900">

    <div class="fixed inset-0 z-0 bg-pattern pointer-events-none"></div>

    <!-- Top Toolbar -->
    <div class="fixed top-4 right-4 z-50 flex items-center gap-2">
        <!-- Language Selector -->
        <div class="relative glass-card rounded-xl p-0.5">
            <select id="langSelector" onchange="changeLanguage(this.value)" class="lang-select bg-transparent border-none text-sm font-semibold text-slate-700 dark:text-slate-200 py-2 pl-3 rounded-lg focus:ring-0 cursor-pointer h-full">
                <option value="en">üá∫üá∏ English</option>
                <option value="zh-TW">üá®üá≥ ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="zh-CN">üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                <option value="es">üá™üá∏ Espa√±ol</option>
                <option value="hi">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                <option value="pl">üáµüá± Polski</option>
            </select>
        </div>

        <!-- Share Button -->
        <button onclick="openShareModal()" class="glass-card p-2.5 rounded-xl hover:bg-white dark:hover:bg-slate-800 transition-all text-green-700 dark:text-green-400 hover:scale-105 shadow-sm" title="Share">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>
        </button>

        <!-- Theme Toggle -->
        <button onclick="toggleTheme()" class="glass-card p-2.5 rounded-xl hover:bg-white dark:hover:bg-slate-800 transition-all hover:scale-105 shadow-sm" title="Toggle Theme">
            <svg id="theme-icon-sun" class="w-5 h-5 text-amber-500 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path></svg>
            <svg id="theme-icon-moon" class="w-5 h-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
        </button>
    </div>

    <!-- Header -->
    <header class="bg-gradient-header pt-24 pb-12 px-4 border-b border-stone-200 dark:border-slate-800 z-10 relative">
        <div class="max-w-6xl mx-auto text-center animate-fade-in">
            <div class="inline-block p-4 bg-white dark:bg-slate-800 rounded-2xl mb-6 shadow-lg transform rotate-3 hover:rotate-6 transition-transform">
                <span class="text-5xl drop-shadow-sm">üå≤</span>
            </div>
            <h1 id="app_title" class="text-4xl md:text-6xl font-black text-slate-800 dark:text-white mb-4 tracking-tight leading-tight">
                Forestry Toolkit
            </h1>
            <p id="app_desc" class="text-slate-600 dark:text-slate-400 max-w-2xl mx-auto text-lg leading-relaxed font-medium">
                Professional tools for board footage, tree volume, beam engineering, and more.
            </p>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 max-w-7xl mx-auto w-full px-4 py-10 grid grid-cols-1 lg:grid-cols-12 gap-8 z-10 relative">
        
        <!-- Sidebar Navigation -->
        <div class="lg:col-span-3 space-y-4">
            <div class="sticky top-24">
                <h3 id="label_tools" class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-1">
                    Calculators
                </h3>
                <nav class="flex lg:flex-col overflow-x-auto lg:overflow-visible gap-2 pb-4 lg:pb-0 scrollbar-hide" id="sidebarNav">
                    <!-- Dynamic Generation -->
                </nav>
            </div>
        </div>

        <!-- Calculator Area -->
        <div class="lg:col-span-9 space-y-8 min-h-[500px]">
            <div id="calculator-container" class="glass-card rounded-2xl p-1.5 shadow-xl animate-slide-up ring-1 ring-slate-900/5 dark:ring-white/10">
                <div class="bg-white/70 dark:bg-slate-900/70 rounded-xl p-6 md:p-10 backdrop-blur-xl">
                    <div id="calc-content">
                        <!-- Injected via JS -->
                    </div>
                </div>
            </div>
            
            <!-- Info Box -->
            <div class="bg-white/80 dark:bg-slate-800/80 backdrop-blur p-6 rounded-2xl border border-slate-200 dark:border-slate-700 mt-6 shadow-sm">
                <h3 id="label_about" class="font-bold text-lg mb-2">üí° About this tool</h3>
                <p id="calc-description" class="text-sm text-slate-600 dark:text-slate-400">Select a tool to begin.</p>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div id="shareModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm">
        <div class="bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden p-6 animate-slide-up border border-slate-100 dark:border-slate-700">
            <div class="flex justify-between items-center mb-6">
                <h3 id="modal_share_title" class="text-xl font-bold dark:text-white">Share this Tool</h3>
                <button onclick="closeShareModal()" class="w-8 h-8 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 hover:text-slate-800 dark:hover:text-white transition-colors">&times;</button>
            </div>
            
            <div class="space-y-6">
                <!-- URL Section -->
                <div>
                    <label id="modal_label_link" class="block text-xs font-bold text-slate-500 uppercase mb-2">Link</label>
                    <div class="flex gap-2">
                        <input type="text" id="shareUrl" readonly class="flex-1 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm p-3 rounded-lg text-slate-600 dark:text-slate-300 font-mono">
                        <button onclick="copyToClipboard('url')" class="bg-primary hover:bg-primaryDark text-white px-4 py-2 rounded-lg font-bold transition-colors shadow-lg shadow-green-900/20">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                        </button>
                    </div>
                </div>

                 <!-- Embed/HTML Section -->
                 <div>
                    <label id="modal_label_html" class="block text-xs font-bold text-slate-500 uppercase mb-2">HTML / Embed</label>
                    <div class="flex gap-2">
                        <input type="text" id="shareHtml" readonly class="flex-1 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm p-3 rounded-lg text-slate-600 dark:text-slate-300 font-mono text-xs">
                        <button onclick="copyToClipboard('html')" class="bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-lg font-bold transition-colors">
                             <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="copyNotice" class="mt-6 text-center text-white bg-slate-800 dark:bg-green-900 text-sm font-medium py-2 px-4 rounded-lg opacity-0 transition-opacity absolute bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-none shadow-xl">
                Copied to clipboard!
            </div>
        </div>
    </div>

    <script>
        // --- Translations ---
        const i18n = {
            en: {
                title: "Forestry Toolkit",
                desc: "Complete toolkit for board footage, tree volume, beam engineering, pulling force, and grading estimates.",
                label_tools: "Calculators",
                label_about: "üí° About this tool",
                modal_title: "Share this Tool",
                modal_link: "Link",
                modal_html: "HTML Link",
                copied: "Copied!",
                pass: "PASS",
                fail: "FAIL",
                tools: {
                    simple_bf: "Simple Board Foot",
                    deluxe_bf: "Deluxe Board Foot",
                    tree_val: "Tree Value Calc",
                    tree_val_comp: "Tree Value Compare",
                    whack_logs: "Whack o' Logs",
                    tree_vol: "Tree Volume",
                    saw_log_vol: "Saw Log Volume",
                    pulp_vol: "Pulpwood Volume",
                    log_weight: "Log Weight Est.",
                    pulp_acre: "Pulp Cords/Acre",
                    trees_acre: "Trees per Acre",
                    lumber_weight: "Lumber/Log Weight",
                    grade_calc: "Lumber Grade Calc",
                    value_comp: "Log Value Compare",
                    cant_size: "Cant Size Calc",
                    beam_wood: "Wood Beam Calc",
                    beam_steel: "Steel Beam Calc",
                    line_pull: "Line Pull Force"
                },
                labels: {
                    thickness: "Thickness", width: "Width", length: "Length", qty: "Pieces", packs: "Packs",
                    cust: "Customer", species: "Species", price: "Price", total_bf: "Total BF", total_price: "Total Price",
                    dbh: "DBH", logs: "Logs", form: "Form Class", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "Diameter", result_cords: "Cords", stick_len: "Stick Len", num_sticks: "Num Sticks",
                    sticks: "Sticks", plots: "Plots", result_per_acre: "Per Acre",
                    row_space: "Row Spacing", tree_space: "Tree Spacing", num_trees: "Num Trees",
                    grade: "Grade", subtotal: "Subtotal", total: "Total", cost: "Cost",
                    load_type: "Load Type", load: "Load", span: "Span", depth: "Depth",
                    fb: "Allowable Fb", e_mod: "E (M psi)", fv: "Allowable Fv",
                    act_fb: "Actual Fb", act_fv: "Actual Fv", defl: "Deflection",
                    trib_w: "Trib Width", yield: "Yield Str (KSI)", beam_sel: "Select Beam",
                    moment: "Max Moment", sx_req: "Sx Required",
                    cog_h: "COG Height", weight: "Weight", lean: "Lean Angle", rope_h: "Rope Height", pull_ang: "Pull Angle",
                    req_force: "Req. Force", min_log: "Min Log Dia",
                    cant_w: "Cant Width", cant_h: "Cant Height"
                },
                descs: {
                    simple_bf: "Calculate Board Footage (BF) for lumber. Enter thickness, width, length, and quantity. Formula: (T x W x L) / 12.",
                    deluxe_bf: "Generate lumber quotes with customer info. Calculates total Board Footage and total price based on price per MBF.",
                    tree_val: "Estimate standing tree value. Inputs: Species, Grade, DBH, Logs, and Cost/Price settings.",
                    tree_val_comp: "Compare standing tree value across Doyle, Scribner, and Intl scales simultaneously.",
                    whack_logs: "Batch log calculator. Add multiple logs to a list to calculate total volume and value.",
                    tree_vol: "Calculate standing tree volume (Board Feet) using DBH and Form Class for Doyle, Scribner, and Intl rules.",
                    saw_log_vol: "Calculate volume for a single felled log using Doyle, Scribner, and International 1/4\" rules.",
                    pulp_vol: "Estimate pulpwood volume in Cords. Requires stick diameter, length, and count.",
                    log_weight: "Estimate log weight based on species density and volume. Useful for transport planning.",
                    pulp_acre: "Calculate pulpwood cords per acre based on plot sampling (number of sticks and plots).",
                    trees_acre: "Calculate planting density (Trees Per Acre) based on row and tree spacing.",
                    lumber_weight: "Estimate total weight for lumber (BF) or pulpwood (Cords) shipments based on species.",
                    grade_calc: "Calculate the total value of a lumber load with mixed grades (FAS, Common, etc.) and prices.",
                    value_comp: "Compare a single log's volume and value across Doyle, Scribner, and International scales.",
                    cant_size: "Calculate the minimum log diameter required to saw a cant (beam) of a specific width and height.",
                    beam_wood: "Engineering check for wood beams. Calculates Actual Fb, Fv, and Deflection for Uniform, Center, or 2-Point loads.",
                    beam_steel: "Select steel I-beams. Calculates required Section Modulus (Sx) and Moment for uniform loads.",
                    line_pull: "Calculate winch line pull force required to move a log, accounting for slope, friction, and lift."
                }
            },
            'zh-TW': {
                title: "ÊûóÊ•≠Â∑•ÂÖ∑ÁÆ±Ë®àÁÆóÂô®",
                desc: "ÂåÖÂê´ÊùøÊùêÈù¢Á©ç„ÄÅÊ®πÊú®È´îÁ©ç„ÄÅÂ∑•Á®ãÊ©´Ê®ë„ÄÅÁâΩÂºïÂäõÂèäÁ≠âÁ¥ö‰º∞ÁÆóÁ≠âÂÖ®Â•óÊûóÊ•≠Ë®àÁÆóÂ∑•ÂÖ∑„ÄÇ",
                label_tools: "Ë®àÁÆóÂ∑•ÂÖ∑",
                label_about: "üí° ÈóúÊñºÊ≠§Â∑•ÂÖ∑",
                modal_title: "ÂàÜ‰∫´Ê≠§Â∑•ÂÖ∑",
                modal_link: "ÈÄ£Áµê",
                modal_html: "HTML ‰ª£Á¢º",
                copied: "Â∑≤Ë§áË£Ω!",
                pass: "ÈÄöÈÅé",
                fail: "Â§±Êïó",
                tools: {
                    simple_bf: "Á∞°ÊòìÊùøÊùêÈù¢Á©ç", deluxe_bf: "Ë±™ËèØÊùøÊùêÈù¢Á©ç", tree_val: "Ê®πÊú®ÂÉπÂÄºË®àÁÆó", tree_val_comp: "Ê®πÊú®ÂÉπÂÄºÊØîËºÉ",
                    whack_logs: "ÂéüÊú®ÊâπÊ¨°Ë®àÁÆó", tree_vol: "Ê®πÊú®È´îÁ©ç", saw_log_vol: "Èã∏ÊùêÈ´îÁ©ç", pulp_vol: "Á¥ôÊºøÊùêÈ´îÁ©ç",
                    log_weight: "Èã∏ÊùêÈáçÈáè‰º∞ÁÆó", pulp_acre: "ÊØèËã±ÁïùÁ¥ôÊºøÁπ©Êï∏", trees_acre: "ÊØèËã±ÁïùÊ®πÊú®Êï∏Èáè", lumber_weight: "Êú®Êùê/ÂéüÊú®ÈáçÈáè",
                    grade_calc: "Êú®ÊùêÁ≠âÁ¥öË®àÁÆó", value_comp: "Èã∏ÊùêÂÉπÂÄºÊØîËºÉ", cant_size: "Èã∏ÊùêÂ∞∫ÂØ∏Ë®àÁÆó",
                    beam_wood: "Êú®Ë£ΩÊ©´Ê®ëË®àÁÆó", beam_steel: "ÈãºÊ®ëË®àÁÆó", line_pull: "ÁâΩÂºïÂäõË®àÁÆó"
                },
                labels: {
                    thickness: "ÂéöÂ∫¶ (in)", width: "ÂØ¨Â∫¶ (in)", length: "Èï∑Â∫¶ (ft)", qty: "Êï∏Èáè", packs: "ÂåÖÊï∏",
                    cust: "ÂÆ¢Êà∂ÂêçÁ®±", species: "Ê®πÁ®Æ", price: "ÂñÆÂÉπ", total_bf: "Á∏ΩÈù¢Á©ç (BF)", total_price: "Á∏ΩÂÉπÊ†º",
                    dbh: "ËÉ∏Âæë DBH", logs: "ÊÆµÊï∏", form: "ÂΩ¢Êï∏", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "Áõ¥Âæë", result_cords: "Áπ©Êï∏", stick_len: "ÊÆµÈï∑", num_sticks: "ÊÆµÊï∏",
                    sticks: "Êú®ÊÆµÊï∏", plots: "Ê®£Âú∞Êï∏", result_per_acre: "ÊØèËã±Áïù",
                    row_space: "Ë°åË∑ù", tree_space: "Ê†™Ë∑ù", num_trees: "Ê®πÊú®Êï∏Èáè",
                    grade: "Á≠âÁ¥ö", subtotal: "Â∞èË®à", total: "Á∏ΩË®à", cost: "ÊàêÊú¨",
                    load_type: "Ë≤†ËºâÈ°ûÂûã", load: "Ë≤†Ëºâ (lbs)", span: "Ë∑®Â∫¶ (in)", depth: "Ê∑±Â∫¶ (in)",
                    fb: "ÂÖÅË®±ÂΩéÊõ≤ÊáâÂäõ Fb", e_mod: "ÂΩàÊÄßÊ®°Èáè E", fv: "ÂÖÅË®±Ââ™ÂàáÊáâÂäõ Fv",
                    act_fb: "ÂØ¶ÈöõÂΩéÊõ≤ÊáâÂäõ", act_fv: "ÂØ¶ÈöõÂâ™ÂàáÊáâÂäõ", defl: "ÊíìÂ∫¶",
                    trib_w: "ÊâøÈáçÂØ¨Â∫¶", yield: "Â±àÊúçÂº∑Â∫¶", beam_sel: "ÈÅ∏ÊìáÂ∑•Â≠óÊ®ë",
                    moment: "ÊúÄÂ§ßÂäõÁü©", sx_req: "ÊâÄÈúÄÊà™Èù¢Ê®°Èáè",
                    cog_h: "ÈáçÂøÉÈ´òÂ∫¶", weight: "ÈáçÈáè", lean: "ÂÇæËßí", rope_h: "Á≥ªÁπ©È´òÂ∫¶", pull_ang: "ÊãâÁπ©ËßíÂ∫¶",
                    req_force: "ÊâÄÈúÄÊãâÂäõ", min_log: "ÊúÄÂ∞èÂéüÊú®Áõ¥Âæë",
                    cant_w: "ÊñπÊùêÂØ¨Â∫¶", cant_h: "ÊñπÊùêÈ´òÂ∫¶"
                },
                descs: {
                    simple_bf: "Âü∫Á§éÊùøÊùêÊùêÁ©çË®àÁÆó (BF)„ÄÇËº∏ÂÖ•ÂéöÂ∫¶„ÄÅÂØ¨Â∫¶„ÄÅÈï∑Â∫¶ÂèäÊï∏Èáè„ÄÇÂÖ¨ÂºèÔºö(Âéö x ÂØ¨ x Èï∑) / 12„ÄÇ",
                    deluxe_bf: "ÈÄ≤ÈöéÊùøÊùê‰º∞ÂÉπÂ∑•ÂÖ∑„ÄÇÊîØÊè¥ÂÆ¢Êà∂Ë≥áË®ä„ÄÅÊ®πÁ®Æ„ÄÅÂåÖÊï∏ÂèäÂñÆÂÉπË®≠ÂÆöÔºåË®àÁÆóÁ∏ΩÊùêÁ©çËàáÁ∏ΩÈáëÈ°ç„ÄÇ",
                    tree_val: "Á´ãÊú®ÂÉπÂÄº‰º∞ÁÆó„ÄÇÊ†πÊìöÊ®πÁ®Æ„ÄÅÂéüÊú®Á≠âÁ¥ö„ÄÅËÉ∏Âæë (DBH)„ÄÅÊÆµÊï∏ÂèäÊàêÊú¨Ë®àÁÆóÊ®πÊú®Ê∑®ÂÄº„ÄÇ",
                    tree_val_comp: "Á´ãÊú®ÂÉπÂÄºÊØîËºÉ„ÄÇÂêåÊôÇÈ°ØÁ§∫ Doyle„ÄÅScribner Âíå International ‰∏âÁ®ÆÊ™¢Â∞∫Ë¶èÂâá‰∏ãÁöÑÂÉπÂÄº„ÄÇ",
                    whack_logs: "ÂéüÊú®ÊâπÊ¨°Ê∏ÖÂñÆ„ÄÇÂª∫Á´ãÂ§öÊ†πÂéüÊú®ÁöÑÊ∏ÖÂñÆÔºåËá™ÂãïÂä†Á∏ΩÊùêÁ©çËàáÁ∏ΩÂÉπÂÄºÔºåÈÅ©ÂêàÊâπÊ¨°‰ΩúÊ•≠„ÄÇ",
                    tree_vol: "Á´ãÊú®ÊùêÁ©çË®àÁÆó„ÄÇ‰ΩøÁî®ËÉ∏Âæë (DBH)„ÄÅÂéüÊú®ÊÆµÊï∏ËàáÂΩ¢Êï∏ÔºåË®àÁÆó‰∏âÁ®ÆË¶èÂâá‰∏ãÁöÑÊùøÊùêÁ©ç„ÄÇ",
                    saw_log_vol: "Èã∏ÊùêÂéüÊú®ÊùêÁ©ç„ÄÇË®àÁÆóÂñÆÊ†πÂ∑≤‰ºêÂÄíÂéüÊú®Âú® Doyle„ÄÅScribner Âèä Intl Ë¶èÂâá‰∏ãÁöÑÊùêÁ©ç„ÄÇ",
                    pulp_vol: "Á¥ôÊºøÊùêÊùêÁ©ç„ÄÇÊ†πÊìöÊú®ÊÆµÁõ¥Âæë„ÄÅÈï∑Â∫¶ÂèäÊï∏ÈáèÔºå‰º∞ÁÆóÁ¥ôÊºøÊùêÁöÑÁπ©Êï∏ (Cords)„ÄÇ",
                    log_weight: "ÂéüÊú®ÈáçÈáè‰º∞ÁÆó„ÄÇ‰æùÊìöÊ®πÁ®ÆÂØÜÂ∫¶ËàáÂ∞∫ÂØ∏Ë®àÁÆóÈ†ê‰º∞ÈáçÈáèÔºå‰æøÊñºÈÅãËº∏Ë¶èÂäÉ„ÄÇ",
                    pulp_acre: "ÂñÆ‰ΩçÁî¢ÈáèË®àÁÆó„ÄÇÊ†πÊìöÊ®£ÂçÄÂÖßÁöÑÊú®ÊÆµÊï∏ËàáÊ®£ÂçÄÊï∏ÈáèÔºåÊé®ÁÆóÊØèËã±ÁïùÁöÑÁ¥ôÊºøÊùêÁπ©Êï∏„ÄÇ",
                    trees_acre: "Á®ÆÊ§çÂØÜÂ∫¶Ë®àÁÆó„ÄÇÊ†πÊìöË°åË∑ùËàáÊ†™Ë∑ùÔºåË®àÁÆóÊØèËã±ÁïùÁöÑÊ®πÊú®Á®ÆÊ§çÊï∏Èáè„ÄÇ",
                    lumber_weight: "Êú®ÊùêÈáçÈáè‰º∞ÁÆó„ÄÇË®àÁÆóÊùøÊùê (BF) ÊàñÁ¥ôÊºøÊùê (Cords) ÁöÑÁ∏ΩÈáçÈáèÔºåÊîØÊè¥Â§öÁ®ÆÊ®πÁ®Æ„ÄÇ",
                    grade_calc: "Á≠âÁ¥öÂÉπÂÄºË®àÁÆó„ÄÇÈáùÂ∞ç‰∏çÂêåÁ≠âÁ¥ö (FAS, Common Á≠â) Ë®≠ÂÆöÊï∏ÈáèËàáÂñÆÂÉπÔºåË®àÁÆóÊï¥ÊâπÊú®ÊùêÁ∏ΩÂÄº„ÄÇ",
                    value_comp: "ÂéüÊú®ÂÉπÂÄºÊØîËºÉ„ÄÇÂàÜÊûêÂñÆÊ†πÂéüÊú®Âú®‰∏çÂêåÊ™¢Â∞∫Ë¶èÂâá‰∏ãÁöÑÊùêÁ©çËàáÂÉπÂÄºÂ∑ÆÁï∞„ÄÇ",
                    cant_size: "ÊñπÊùêÂ∞∫ÂØ∏ÂèçÊé®„ÄÇË®àÁÆóÈã∏Âá∫ÁâπÂÆöÂØ¨È´òÊñπÊùê (Cant) ÊâÄÈúÄÁöÑÊúÄÂ∞èÂéüÊú®Áõ¥Âæë„ÄÇ",
                    beam_wood: "Êú®Ê®ëÂèóÂäõÂàÜÊûê„ÄÇËº∏ÂÖ•Ë≤†ËºâËàáË∑®Â∫¶ÔºåÊ™¢Êü•ÂΩéÊõ≤ (Fb)„ÄÅÂâ™Âàá (Fv) ÂèäÊíìÂ∫¶ÊòØÂê¶Á¨¶ÂêàÂÆâÂÖ®Ê®ôÊ∫ñ„ÄÇ",
                    beam_steel: "ÈãºÊ®ëË¶èÊ†ºÈÅ∏Êìá„ÄÇË®àÁÆóÂùáÂ∏ÉË≤†Ëºâ‰∏ãÁöÑÊúÄÂ§ßÂΩéÁü©ËàáÊâÄÈúÄÊà™Èù¢Ê®°Èáè (Sx)ÔºåËºîÂä©ÈÅ∏Áî® W ÂûãÈãº„ÄÇ",
                    line_pull: "ÁâΩÂºïÂäõË®àÁÆó„ÄÇËÄÉÊÖÆÂú∞ÂΩ¢Âù°Â∫¶„ÄÅÂú∞Èù¢Êë©Êì¶ËàáÊãâÁπ©ËßíÂ∫¶ÔºåË®àÁÆóÊãñÊõ≥ÂéüÊú®ÊâÄÈúÄÁöÑÁµûÁõ§ÊãâÂäõ„ÄÇ"
                }
            },
            'zh-CN': {
                title: "Êûó‰∏öÂ∑•ÂÖ∑ÁÆ±ËÆ°ÁÆóÂô®",
                desc: "ÂåÖÂê´ÊùøÊùêÈù¢ÁßØ„ÄÅÊ†ëÊú®‰ΩìÁßØ„ÄÅÂ∑•Á®ãÊ®™Ê¢Å„ÄÅÁâµÂºïÂäõÂèäÁ≠âÁ∫ß‰º∞ÁÆóÁ≠âÂÖ®Â•óÊûó‰∏öËÆ°ÁÆóÂ∑•ÂÖ∑„ÄÇ",
                label_tools: "ËÆ°ÁÆóÂ∑•ÂÖ∑",
                label_about: "üí° ÂÖ≥‰∫éÊ≠§Â∑•ÂÖ∑",
                modal_title: "ÂàÜ‰∫´Ê≠§Â∑•ÂÖ∑",
                modal_link: "ÈìæÊé•",
                modal_html: "HTML ‰ª£Á†Å",
                copied: "Â∑≤Â§çÂà∂!",
                pass: "ÈÄöËøá",
                fail: "Â§±Ë¥•",
                tools: {
                    simple_bf: "ÁÆÄÊòìÊùøÊùêÈù¢ÁßØ", deluxe_bf: "Ë±™ÂçéÊùøÊùêÈù¢ÁßØ", tree_val: "Ê†ëÊú®‰ª∑ÂÄºËÆ°ÁÆó", tree_val_comp: "Ê†ëÊú®‰ª∑ÂÄºÊØîËæÉ",
                    whack_logs: "ÂéüÊú®ÊâπÊ¨°ËÆ°ÁÆó", tree_vol: "Ê†ëÊú®‰ΩìÁßØ", saw_log_vol: "ÈîØÊùê‰ΩìÁßØ", pulp_vol: "Á∫∏ÊµÜÊùê‰ΩìÁßØ",
                    log_weight: "ÈîØÊùêÈáçÈáè‰º∞ÁÆó", pulp_acre: "ÊØèËã±‰∫©Á∫∏ÊµÜÁª≥Êï∞", trees_acre: "ÊØèËã±‰∫©Ê†ëÊú®Êï∞Èáè", lumber_weight: "Êú®Êùê/ÂéüÊú®ÈáçÈáè",
                    grade_calc: "Êú®ÊùêÁ≠âÁ∫ßËÆ°ÁÆó", value_comp: "ÈîØÊùê‰ª∑ÂÄºÊØîËæÉ", cant_size: "ÈîØÊùêÂ∞∫ÂØ∏ËÆ°ÁÆó",
                    beam_wood: "Êú®Âà∂Ê®™Ê¢ÅËÆ°ÁÆó", beam_steel: "Èí¢Ê¢ÅËÆ°ÁÆó", line_pull: "ÁâµÂºïÂäõËÆ°ÁÆó"
                },
                labels: {
                    thickness: "ÂéöÂ∫¶ (in)", width: "ÂÆΩÂ∫¶ (in)", length: "ÈïøÂ∫¶ (ft)", qty: "Êï∞Èáè", packs: "ÂåÖÊï∞",
                    cust: "ÂÆ¢Êà∑ÂêçÁß∞", species: "Ê†ëÁßç", price: "Âçï‰ª∑", total_bf: "ÊÄªÈù¢ÁßØ (BF)", total_price: "ÊÄª‰ª∑Ê†º",
                    dbh: "ËÉ∏ÂæÑ DBH", logs: "ÊÆµÊï∞", form: "ÂΩ¢Êï∞", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "Áõ¥ÂæÑ", result_cords: "Áª≥Êï∞", stick_len: "ÊÆµÈïø", num_sticks: "ÊÆµÊï∞",
                    sticks: "Êú®ÊÆµÊï∞", plots: "Ê†∑Âú∞Êï∞", result_per_acre: "ÊØèËã±‰∫©",
                    row_space: "Ë°åË∑ù", tree_space: "Ê†™Ë∑ù", num_trees: "Ê†ëÊú®Êï∞Èáè",
                    grade: "Á≠âÁ∫ß", subtotal: "Â∞èËÆ°", total: "ÊÄªËÆ°", cost: "ÊàêÊú¨",
                    load_type: "Ë¥üËΩΩÁ±ªÂûã", load: "Ë¥üËΩΩ (lbs)", span: "Ë∑®Â∫¶ (in)", depth: "Ê∑±Â∫¶ (in)",
                    fb: "ÂÖÅËÆ∏ÂºØÊõ≤Â∫îÂäõ Fb", e_mod: "ÂºπÊÄßÊ®°Èáè E", fv: "ÂÖÅËÆ∏Ââ™ÂàáÂ∫îÂäõ Fv",
                    act_fb: "ÂÆûÈôÖÂºØÊõ≤Â∫îÂäõ", act_fv: "ÂÆûÈôÖÂâ™ÂàáÂ∫îÂäõ", defl: "Êå†Â∫¶",
                    trib_w: "ÊâøÈáçÂÆΩÂ∫¶", yield: "Â±àÊúçÂº∫Â∫¶", beam_sel: "ÈÄâÊã©Â∑•Â≠óÊ¢Å",
                    moment: "ÊúÄÂ§ßÂäõÁü©", sx_req: "ÊâÄÈúÄÊà™Èù¢Ê®°Èáè",
                    cog_h: "ÈáçÂøÉÈ´òÂ∫¶", weight: "ÈáçÈáè", lean: "ÂÄæËßí", rope_h: "Á≥ªÁª≥È´òÂ∫¶", pull_ang: "ÊãâÁª≥ËßíÂ∫¶",
                    req_force: "ÊâÄÈúÄÊãâÂäõ", min_log: "ÊúÄÂ∞èÂéüÊú®Áõ¥ÂæÑ",
                    cant_w: "ÊñπÊùêÂÆΩÂ∫¶", cant_h: "ÊñπÊùêÈ´òÂ∫¶"
                },
                descs: {
                    simple_bf: "Âü∫Á°ÄÊùøÊùêÊùêÁßØËÆ°ÁÆó (BF)„ÄÇËæìÂÖ•ÂéöÂ∫¶„ÄÅÂÆΩÂ∫¶„ÄÅÈïøÂ∫¶ÂèäÊï∞Èáè„ÄÇÂÖ¨ÂºèÔºö(Âéö x ÂÆΩ x Èïø) / 12„ÄÇ",
                    deluxe_bf: "ËøõÈò∂ÊùøÊùê‰º∞‰ª∑Â∑•ÂÖ∑„ÄÇÊîØÊåÅÂÆ¢Êà∑‰ø°ÊÅØ„ÄÅÊ†ëÁßç„ÄÅÂåÖÊï∞ÂèäÂçï‰ª∑ËÆæÁΩÆÔºåËÆ°ÁÆóÊÄªÊùêÁßØ‰∏éÊÄªÈáëÈ¢ù„ÄÇ",
                    tree_val: "Á´ãÊú®‰ª∑ÂÄº‰º∞ÁÆó„ÄÇÊ†πÊçÆÊ†ëÁßç„ÄÅÂéüÊú®Á≠âÁ∫ß„ÄÅËÉ∏ÂæÑ (DBH)„ÄÅÊÆµÊï∞ÂèäÊàêÊú¨ËÆ°ÁÆóÊ†ëÊú®ÂáÄÂÄº„ÄÇ",
                    tree_val_comp: "Á´ãÊú®‰ª∑ÂÄºÊØîËæÉ„ÄÇÂêåÊó∂ÊòæÁ§∫ Doyle„ÄÅScribner Âíå International ‰∏âÁßçÊ£ÄÂ∞∫ËßÑÂàô‰∏ãÁöÑ‰ª∑ÂÄº„ÄÇ",
                    whack_logs: "ÂéüÊú®ÊâπÊ¨°Ê∏ÖÂçï„ÄÇÂª∫Á´ãÂ§öÊ†πÂéüÊú®ÁöÑÊ∏ÖÂçïÔºåËá™Âä®Âä†ÊÄªÊùêÁßØ‰∏éÊÄª‰ª∑ÂÄºÔºåÈÄÇÂêàÊâπÊ¨°‰Ωú‰∏ö„ÄÇ",
                    tree_vol: "Á´ãÊú®ÊùêÁßØËÆ°ÁÆó„ÄÇ‰ΩøÁî®ËÉ∏ÂæÑ (DBH)„ÄÅÂéüÊú®ÊÆµÊï∞‰∏éÂΩ¢Êï∞ÔºåËÆ°ÁÆó‰∏âÁßçËßÑÂàô‰∏ãÁöÑÊùøÊùêÁßØ„ÄÇ",
                    saw_log_vol: "ÈîØÊùêÂéüÊú®ÊùêÁßØ„ÄÇËÆ°ÁÆóÂçïÊ†πÂ∑≤‰ºêÂÄíÂéüÊú®Âú® Doyle„ÄÅScribner Âèä Intl ËßÑÂàô‰∏ãÁöÑÊùêÁßØ„ÄÇ",
                    pulp_vol: "Á∫∏ÊµÜÊùêÊùêÁßØ„ÄÇÊ†πÊçÆÊú®ÊÆµÁõ¥ÂæÑ„ÄÅÈïøÂ∫¶ÂèäÊï∞ÈáèÔºå‰º∞ÁÆóÁ∫∏ÊµÜÊùêÁöÑÁª≥Êï∞ (Cords)„ÄÇ",
                    log_weight: "ÂéüÊú®ÈáçÈáè‰º∞ÁÆó„ÄÇ‰æùÊçÆÊ†ëÁßçÂØÜÂ∫¶‰∏éÂ∞∫ÂØ∏ËÆ°ÁÆóÈ¢Ñ‰º∞ÈáçÈáèÔºå‰æø‰∫éËøêËæìËßÑÂàí„ÄÇ",
                    pulp_acre: "Âçï‰Ωç‰∫ßÈáèËÆ°ÁÆó„ÄÇÊ†πÊçÆÊ†∑Âå∫ÂÜÖÁöÑÊú®ÊÆµÊï∞‰∏éÊ†∑Âå∫Êï∞ÈáèÔºåÊé®ÁÆóÊØèËã±‰∫©ÁöÑÁ∫∏ÊµÜÊùêÁª≥Êï∞„ÄÇ",
                    trees_acre: "ÁßçÊ§çÂØÜÂ∫¶ËÆ°ÁÆó„ÄÇÊ†πÊçÆË°åË∑ù‰∏éÊ†™Ë∑ùÔºåËÆ°ÁÆóÊØèËã±‰∫©ÁöÑÊ†ëÊú®ÁßçÊ§çÊï∞Èáè„ÄÇ",
                    lumber_weight: "Êú®ÊùêÈáçÈáè‰º∞ÁÆó„ÄÇËÆ°ÁÆóÊùøÊùê (BF) ÊàñÁ∫∏ÊµÜÊùê (Cords) ÁöÑÊÄªÈáçÈáèÔºåÊîØÊåÅÂ§öÁßçÊ†ëÁßç„ÄÇ",
                    grade_calc: "Á≠âÁ∫ß‰ª∑ÂÄºËÆ°ÁÆó„ÄÇÈíàÂØπ‰∏çÂêåÁ≠âÁ∫ß (FAS, Common Á≠â) ËÆæÁΩÆÊï∞Èáè‰∏éÂçï‰ª∑ÔºåËÆ°ÁÆóÊï¥ÊâπÊú®ÊùêÊÄªÂÄº„ÄÇ",
                    value_comp: "ÂéüÊú®‰ª∑ÂÄºÊØîËæÉ„ÄÇÂàÜÊûêÂçïÊ†πÂéüÊú®Âú®‰∏çÂêåÊ£ÄÂ∞∫ËßÑÂàô‰∏ãÁöÑÊùêÁßØ‰∏é‰ª∑ÂÄºÂ∑ÆÂºÇ„ÄÇ",
                    cant_size: "ÊñπÊùêÂ∞∫ÂØ∏ÂèçÊé®„ÄÇËÆ°ÁÆóÈîØÂá∫ÁâπÂÆöÂÆΩÈ´òÊñπÊùê (Cant) ÊâÄÈúÄÁöÑÊúÄÂ∞èÂéüÊú®Áõ¥ÂæÑ„ÄÇ",
                    beam_wood: "Êú®Ê¢ÅÂèóÂäõÂàÜÊûê„ÄÇËæìÂÖ•Ë¥üËΩΩ‰∏éË∑®Â∫¶ÔºåÊ£ÄÊü•ÂºØÊõ≤ (Fb)„ÄÅÂâ™Âàá (Fv) ÂèäÊå†Â∫¶ÊòØÂê¶Á¨¶ÂêàÂÆâÂÖ®Ê†áÂáÜ„ÄÇ",
                    beam_steel: "Èí¢Ê¢ÅËßÑÊ†ºÈÄâÊã©„ÄÇËÆ°ÁÆóÂùáÂ∏ÉË¥üËΩΩ‰∏ãÁöÑÊúÄÂ§ßÂºØÁü©‰∏éÊâÄÈúÄÊà™Èù¢Ê®°Èáè (Sx)ÔºåËæÖÂä©ÈÄâÁî® W ÂûãÈí¢„ÄÇ",
                    line_pull: "ÁâµÂºïÂäõËÆ°ÁÆó„ÄÇËÄÉËôëÂú∞ÂΩ¢Âù°Â∫¶„ÄÅÂú∞Èù¢Êë©Êì¶‰∏éÊãâÁª≥ËßíÂ∫¶ÔºåËÆ°ÁÆóÊãñÊõ≥ÂéüÊú®ÊâÄÈúÄÁöÑÁªûÁõòÊãâÂäõ„ÄÇ"
                }
            },
            ru: {
                title: "–õ–µ—Å–Ω–æ–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
                desc: "–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–∏–ª–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –æ–±—ä–µ–º–∞ –¥–µ—Ä–µ–≤—å–µ–≤, –±–∞–ª–æ–∫ –∏ —Ç—è–≥–æ–≤–æ–≥–æ —É—Å–∏–ª–∏—è.",
                label_tools: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
                label_about: "üí° –û–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ",
                modal_title: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è",
                modal_link: "–°—Å—ã–ª–∫–∞",
                modal_html: "HTML –ö–æ–¥",
                copied: "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!",
                pass: "–ü–†–û–®–ï–õ",
                fail: "–û–®–ò–ë–ö–ê",
                tools: {
                    simple_bf: "–ü—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—á–µ—Ç BF", deluxe_bf: "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π BF", tree_val: "–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–µ—Ä–µ–≤–∞",
                    tree_val_comp: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏", whack_logs: "–ü–∞–∫–µ—Ç –±—Ä–µ–≤–µ–Ω", tree_vol: "–û–±—ä–µ–º –¥–µ—Ä–µ–≤–∞",
                    saw_log_vol: "–û–±—ä–µ–º –±—Ä–µ–≤–Ω–∞", pulp_vol: "–û–±—ä–µ–º –±–∞–ª–∞–Ω—Å–∞", log_weight: "–í–µ—Å –±—Ä–µ–≤–Ω–∞",
                    pulp_acre: "–ë–∞–ª–∞–Ω—Å/–∞–∫—Ä", trees_acre: "–î–µ—Ä–µ–≤—å–µ–≤/–∞–∫—Ä", lumber_weight: "–í–µ—Å –ª–µ—Å–∞",
                    grade_calc: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ—Ä—Ç–∞", value_comp: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω", cant_size: "–†–∞–∑–º–µ—Ä –ª–∞—Ñ–µ—Ç–∞",
                    beam_wood: "–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è –±–∞–ª–∫–∞", beam_steel: "–°—Ç–∞–ª—å–Ω–∞—è –±–∞–ª–∫–∞", line_pull: "–¢—è–≥–æ–≤–æ–µ —É—Å–∏–ª–∏–µ"
                },
                labels: {
                    thickness: "–¢–æ–ª—â–∏–Ω–∞", width: "–®–∏—Ä–∏–Ω–∞", length: "–î–ª–∏–Ω–∞", qty: "–®—Ç—É–∫", packs: "–ü–∞—á–µ–∫",
                    cust: "–ö–ª–∏–µ–Ω—Ç", species: "–ü–æ—Ä–æ–¥–∞", price: "–¶–µ–Ω–∞", total_bf: "–í—Å–µ–≥–æ BF", total_price: "–ò—Ç–æ–≥–æ",
                    dbh: "–î–µ—Ä–µ–≤–æ DBH", logs: "–ë—Ä–µ–≤–µ–Ω", form: "–ö–ª–∞—Å—Å —Ñ–æ—Ä–º—ã", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "–î–∏–∞–º–µ—Ç—Ä", result_cords: "–ö–æ—Ä–¥—ã", stick_len: "–î–ª–∏–Ω–∞ –ø–∞–ª–∫–∏", num_sticks: "–ö–æ–ª-–≤–æ –ø–∞–ª–æ–∫",
                    sticks: "–ü–∞–ª–æ–∫", plots: "–£—á–∞—Å—Ç–∫–æ–≤", result_per_acre: "–ù–∞ –∞–∫—Ä",
                    row_space: "–ú–µ–∂–¥—É—Ä—è–¥—å–µ", tree_space: "–®–∞–≥ –ø–æ—Å–∞–¥–∫–∏", num_trees: "–ö–æ–ª-–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤",
                    grade: "–°–æ—Ä—Ç", subtotal: "–ü–æ–¥—ã—Ç–æ–≥", total: "–í—Å–µ–≥–æ", cost: "–ó–∞—Ç—Ä–∞—Ç—ã",
                    load_type: "–¢–∏–ø –Ω–∞–≥—Ä—É–∑–∫–∏", load: "–ù–∞–≥—Ä—É–∑–∫–∞", span: "–ü—Ä–æ–ª–µ—Ç", depth: "–ì–ª—É–±–∏–Ω–∞",
                    fb: "–î–æ–ø. –∏–∑–≥–∏–± Fb", e_mod: "–ú–æ–¥—É–ª—å E", fv: "–î–æ–ø. —Å–¥–≤–∏–≥ Fv",
                    act_fb: "–§–∞–∫—Ç. –∏–∑–≥–∏–±", act_fv: "–§–∞–∫—Ç. —Å–¥–≤–∏–≥", defl: "–ü—Ä–æ–≥–∏–±",
                    trib_w: "–ì—Ä—É–∑. —à–∏—Ä–∏–Ω–∞", yield: "–¢–µ–∫—É—á–µ—Å—Ç—å", beam_sel: "–í—ã–±–æ—Ä –±–∞–ª–∫–∏",
                    moment: "–ú–æ–º–µ–Ω—Ç", sx_req: "–¢—Ä–µ–±. Sx",
                    cog_h: "–í—ã—Å–æ—Ç–∞ –¶–¢", weight: "–í–µ—Å", lean: "–ù–∞–∫–ª–æ–Ω", rope_h: "–í—ã—Å–æ—Ç–∞ —Ç—Ä–æ—Å–∞", pull_ang: "–£–≥–æ–ª —Ç—è–≥–∏",
                    req_force: "–£—Å–∏–ª–∏–µ", min_log: "–ú–∏–Ω. –¥–∏–∞–º–µ—Ç—Ä",
                    cant_w: "–®–∏—Ä–∏–Ω–∞ –±—Ä—É—Å–∞", cant_h: "–í—ã—Å–æ—Ç–∞ –±—Ä—É—Å–∞"
                },
                descs: { simple_bf: "–†–∞—Å—á–µ—Ç –¥–æ—Å–∫–æ–≤—ã—Ö —Ñ—É—Ç–æ–≤ (BF). –§–æ—Ä–º—É–ª–∞: (T x W x L)/12 * –ö–æ–ª-–≤–æ." }
            },
            es: {
                title: "Calculadora Forestal",
                desc: "Kit de herramientas para pies tablares, volumen de √°rboles, ingenier√≠a de vigas y estimaciones.",
                label_tools: "Calculadoras",
                label_about: "üí° Acerca de",
                modal_title: "Compartir",
                modal_link: "Enlace",
                modal_html: "C√≥digo HTML",
                copied: "¬°Copiado!",
                pass: "APROBADO",
                fail: "FALLO",
                tools: {
                    simple_bf: "Pie Tablar Simple", deluxe_bf: "Pie Tablar Deluxe", tree_val: "Valor del √Årbol",
                    tree_val_comp: "Comparar Valor", whack_logs: "Lote de Troncos", tree_vol: "Volumen √Årbol",
                    saw_log_vol: "Volumen Tronco", pulp_vol: "Volumen Pulpa", log_weight: "Peso Tronco",
                    pulp_acre: "Pulpa/Acre", trees_acre: "√Årboles/Acre", lumber_weight: "Peso Madera",
                    grade_calc: "Calc. Grado", value_comp: "Comparar Valor", cant_size: "Tama√±o Viga",
                    beam_wood: "Viga Madera", beam_steel: "Viga Acero", line_pull: "Fuerza Tracci√≥n"
                },
                labels: {
                    thickness: "Grosor", width: "Ancho", length: "Largo", qty: "Piezas", packs: "Paquetes",
                    cust: "Cliente", species: "Especie", price: "Precio", total_bf: "Total PT", total_price: "Precio Total",
                    dbh: "DAP", logs: "Troncos", form: "Clase Forma", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "Di√°metro", result_cords: "Cuerdas", stick_len: "Largo Palo", num_sticks: "Num Palos",
                    sticks: "Palos", plots: "Parcelas", result_per_acre: "Por Acre",
                    row_space: "Esp. Hileras", tree_space: "Esp. √Årboles", num_trees: "Num √Årboles",
                    grade: "Grado", subtotal: "Subtotal", total: "Total", cost: "Costo",
                    load_type: "Tipo Carga", load: "Carga", span: "Luz", depth: "Profundidad",
                    fb: "Fb Admisible", e_mod: "M√≥dulo E", fv: "Fv Admisible",
                    act_fb: "Fb Real", act_fv: "Fv Real", defl: "Deflexi√≥n",
                    trib_w: "Ancho Trib.", yield: "Fluencia", beam_sel: "Sel. Viga",
                    moment: "Momento Max", sx_req: "Sx Req",
                    cog_h: "Alt. CDG", weight: "Peso", lean: "Inclinaci√≥n", rope_h: "Alt. Cuerda", pull_ang: "√Ångulo Tracci√≥n",
                    req_force: "Fuerza Req", min_log: "Dia Min Tronco",
                    cant_w: "Ancho Viga", cant_h: "Alto Viga"
                },
                descs: { simple_bf: "Calcular pies tablares (PT). F√≥rmula: (T x A x L)/12 * Cant." }
            },
            hi: {
                title: "‡§µ‡§æ‡§®‡§ø‡§ï‡•Ä ‡§ü‡•Ç‡§≤‡§ï‡§ø‡§ü",
                desc: "‡§≤‡§ï‡§°‡§º‡•Ä ‡§ï‡•Ä ‡§Æ‡§æ‡§™, ‡§™‡•á‡§°‡§º ‡§ï‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ, ‡§¨‡•Ä‡§Æ ‡§á‡§Ç‡§ú‡•Ä‡§®‡§ø‡§Ø‡§∞‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§ó‡•ç‡§∞‡•á‡§°‡§ø‡§Ç‡§ó ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ü‡•Ç‡§≤‡§ï‡§ø‡§ü‡•§",
                label_tools: "‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞",
                label_about: "üí° ‡§á‡§∏ ‡§ü‡•Ç‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç",
                modal_title: "‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç",
                modal_link: "‡§≤‡§ø‡§Ç‡§ï",
                modal_html: "HTML ‡§ï‡•ã‡§°",
                copied: "‡§ï‡•â‡§™‡•Ä ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!",
                pass: "‡§∏‡§´‡§≤",
                fail: "‡§µ‡§ø‡§´‡§≤",
                tools: {
                    simple_bf: "‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§¨‡•ã‡§∞‡•ç‡§° ‡§´‡•Å‡§ü", deluxe_bf: "‡§°‡•Ä‡§≤‡§ï‡•ç‡§∏ ‡§¨‡•ã‡§∞‡•ç‡§° ‡§´‡•Å‡§ü", tree_val: "‡§™‡•á‡§°‡§º ‡§ï‡§æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø",
                    tree_val_comp: "‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§§‡•Å‡§≤‡§®‡§æ", whack_logs: "‡§≤‡•â‡§ó‡•ç‡§∏ ‡§ï‡§æ ‡§¨‡•à‡§ö", tree_vol: "‡§™‡•á‡§°‡§º ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§®",
                    saw_log_vol: "‡§≤‡•â‡§ó ‡§Ü‡§Ø‡§§‡§®", pulp_vol: "‡§™‡§≤‡•ç‡§™ ‡§Ü‡§Ø‡§§‡§®", log_weight: "‡§≤‡•â‡§ó ‡§µ‡§ú‡§®",
                    pulp_acre: "‡§™‡§≤‡•ç‡§™/‡§è‡§ï‡§°‡§º", trees_acre: "‡§™‡•á‡§°‡§º/‡§è‡§ï‡§°‡§º", lumber_weight: "‡§≤‡§ï‡§°‡§º‡•Ä ‡§ï‡§æ ‡§µ‡§ú‡§®",
                    grade_calc: "‡§ó‡•ç‡§∞‡•á‡§° ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞", value_comp: "‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§§‡•Å‡§≤‡§®‡§æ", cant_size: "‡§ï‡•á‡§Ç‡§ü ‡§Ü‡§ï‡§æ‡§∞",
                    beam_wood: "‡§≤‡§ï‡§°‡§º‡•Ä ‡§ï‡§æ ‡§¨‡•Ä‡§Æ", beam_steel: "‡§∏‡•ç‡§ü‡•Ä‡§≤ ‡§¨‡•Ä‡§Æ", line_pull: "‡§ñ‡§ø‡§Ç‡§ö‡§æ‡§µ ‡§¨‡§≤"
                },
                labels: {
                    thickness: "‡§Æ‡•ã‡§ü‡§æ‡§à", width: "‡§ö‡•å‡§°‡§º‡§æ‡§à", length: "‡§≤‡§Ç‡§¨‡§æ‡§à", qty: "‡§ü‡•Å‡§ï‡§°‡§º‡•á", packs: "‡§™‡•à‡§ï‡•ç‡§∏",
                    cust: "‡§ó‡•ç‡§∞‡§æ‡§π‡§ï", species: "‡§™‡•ç‡§∞‡§ú‡§æ‡§§‡§ø", price: "‡§Æ‡•Ç‡§≤‡•ç‡§Ø", total_bf: "‡§ï‡•Å‡§≤ BF", total_price: "‡§ï‡•Å‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø",
                    dbh: "DBH", logs: "‡§≤‡•â‡§ó‡•ç‡§∏", form: "‡§´‡•â‡§∞‡•ç‡§Æ", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "‡§µ‡•ç‡§Ø‡§æ‡§∏", result_cords: "‡§∞‡§∏‡•ç‡§∏‡§ø‡§Ø‡§æ‡§Ç", stick_len: "‡§õ‡§°‡§º‡•Ä ‡§≤‡§Ç‡§¨‡§æ‡§à", num_sticks: "‡§õ‡§°‡§º‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ",
                    sticks: "‡§õ‡§°‡§º‡§ø‡§Ø‡§æ‡§Å", plots: "‡§™‡•ç‡§≤‡•â‡§ü‡•ç‡§∏", result_per_acre: "‡§™‡•ç‡§∞‡§§‡§ø ‡§è‡§ï‡§°‡§º",
                    row_space: "‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§∞‡§ø‡§ï‡•ç‡§§‡§ø", tree_space: "‡§™‡•á‡§°‡§º ‡§∞‡§ø‡§ï‡•ç‡§§‡§ø", num_trees: "‡§™‡•á‡§°‡§º ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ",
                    grade: "‡§ó‡•ç‡§∞‡•á‡§°", subtotal: "‡§â‡§™‡§Ø‡•ã‡§ó", total: "‡§ï‡•Å‡§≤", cost: "‡§≤‡§æ‡§ó‡§§",
                    load_type: "‡§≠‡§æ‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞", load: "‡§≠‡§æ‡§∞", span: "‡§´‡•à‡§≤‡§æ‡§µ", depth: "‡§ó‡§π‡§∞‡§æ‡§à",
                    fb: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•ç‡§Ø Fb", e_mod: "‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤‡§∏ E", fv: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•ç‡§Ø Fv",
                    act_fb: "‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï Fb", act_fv: "‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï Fv", defl: "‡§µ‡§ø‡§ö‡§≤",
                    trib_w: "‡§ü‡•ç‡§∞‡§ø‡§¨ ‡§ö‡•å‡§°‡§º‡§æ‡§à", yield: "‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø", beam_sel: "‡§¨‡•Ä‡§Æ ‡§ö‡•Å‡§®‡•á‡§Ç",
                    moment: "‡§ï‡•ç‡§∑‡§£", sx_req: "Sx ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï",
                    cog_h: "COG ‡§ä‡§Ç‡§ö‡§æ‡§à", weight: "‡§µ‡§ú‡§®", lean: "‡§ù‡•Å‡§ï‡§æ‡§µ", rope_h: "‡§∞‡§∏‡•ç‡§∏‡•Ä ‡§ä‡§Ç‡§ö‡§æ‡§à", pull_ang: "‡§ñ‡§ø‡§Ç‡§ö‡§æ‡§µ ‡§ï‡•ã‡§£",
                    req_force: "‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§¨‡§≤", min_log: "‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§≤‡•â‡§ó ‡§µ‡•ç‡§Ø‡§æ‡§∏",
                    cant_w: "‡§ï‡•á‡§Ç‡§ü ‡§ö‡•å‡§°‡§º‡§æ‡§à", cant_h: "‡§ï‡•á‡§Ç‡§ü ‡§ä‡§Ç‡§ö‡§æ‡§à"
                },
                descs: { simple_bf: "‡§¨‡•ã‡§∞‡•ç‡§° ‡§´‡•Å‡§ü‡•á‡§ú (BF) ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç‡•§" }
            },
            pl: {
                title: "Kalkulator Le≈õny",
                desc: "Zestaw narzƒôdzi do obliczania tarcicy, objƒôto≈õci drzew, belek i si≈Çy uciƒÖgu.",
                label_tools: "Kalkulatory",
                label_about: "üí° O narzƒôdziu",
                modal_title: "Udostƒôpnij",
                modal_link: "Link",
                modal_html: "Kod HTML",
                copied: "Skopiowano!",
                pass: "ZALICZONE",
                fail: "B≈ÅƒÑD",
                tools: {
                    simple_bf: "Prosty BF", deluxe_bf: "Deluxe BF", tree_val: "Warto≈õƒá Drzewa",
                    tree_val_comp: "Por√≥wnanie Warto≈õci", whack_logs: "Partia K≈Ç√≥d", tree_vol: "Objƒôto≈õƒá Drzewa",
                    saw_log_vol: "Obj. K≈Çody", pulp_vol: "Obj. Papier√≥wki", log_weight: "Waga K≈Çody",
                    pulp_acre: "Papier./Akr", trees_acre: "Drzew/Akr", lumber_weight: "Waga Drewna",
                    grade_calc: "Kalk. Klasy", value_comp: "Por√≥wnanie Cen", cant_size: "Rozmiar Kant√≥wki",
                    beam_wood: "Belka Drewn.", beam_steel: "Belka Stal.", line_pull: "Si≈Ça UciƒÖgu"
                },
                labels: {
                    thickness: "Grubo≈õƒá", width: "Szeroko≈õƒá", length: "D≈Çugo≈õƒá", qty: "Sztuk", packs: "Paczki",
                    cust: "Klient", species: "Gatunek", price: "Cena", total_bf: "Razem BF", total_price: "Cena Razem",
                    dbh: "Pier≈õnica", logs: "K≈Çody", form: "Klasa Formy", result_doyle: "Doyle", result_scrib: "Scribner", result_intl: "International",
                    dia: "≈örednica", result_cords: "SƒÖgi", stick_len: "D≈Ç. Wa≈Çka", num_sticks: "Liczba Wa≈Çk√≥w",
                    sticks: "Wa≈Çki", plots: "Pr√≥by", result_per_acre: "Na Akr",
                    row_space: "Rozst. Rzƒôd√≥w", tree_space: "Rozst. Drzew", num_trees: "Liczba Drzew",
                    grade: "Klasa", subtotal: "Suma CzƒÖst.", total: "Razem", cost: "Koszt",
                    load_type: "Typ ObciƒÖ≈º.", load: "ObciƒÖ≈ºenie", span: "Rozpiƒôto≈õƒá", depth: "G≈Çƒôboko≈õƒá",
                    fb: "Dop. Zginanie", e_mod: "Modu≈Ç E", fv: "Dop. ≈öcinanie",
                    act_fb: "Rzecz. Zginanie", act_fv: "Rzecz. ≈öcinanie", defl: "Ugiƒôcie",
                    trib_w: "Szer. ObciƒÖ≈º.", yield: "Gran. Plast.", beam_sel: "Wybierz Belkƒô",
                    moment: "Moment", sx_req: "Wym. Sx",
                    cog_h: "Wys. ≈ör. Ciƒô≈º.", weight: "Waga", lean: "Pochylenie", rope_h: "Wys. Liny", pull_ang: "KƒÖt CiƒÖgniƒôcia",
                    req_force: "Si≈Ça", min_log: "Min. ≈örednica",
                    cant_w: "Szer. Kant.", cant_h: "Wys. Kant."
                },
                descs: { simple_bf: "Obliczanie st√≥p deskowych (BF). Wz√≥r: (T x W x L)/12 * Ilo≈õƒá." }
            }
        };

        // --- Data & Constants ---
        const speciesData = {
            "Alder, Red": { density: 46, mbf: 3500 }, "Ash, White": { density: 48, mbf: 4000 },
            "Aspen": { density: 42, mbf: 3300 }, "Basswood": { density: 32, mbf: 2500 },
            "Beech": { density: 54, mbf: 4500 }, "Birch, Yellow": { density: 55, mbf: 4600 },
            "Cherry, Black": { density: 45, mbf: 3800 }, "Cottonwood": { density: 49, mbf: 3900 },
            "Elm, American": { density: 54, mbf: 4400 }, "Fir, Douglas": { density: 38, mbf: 3200 },
            "Hickory": { density: 64, mbf: 5200 }, "Maple, Hard": { density: 56, mbf: 4700 },
            "Maple, Soft": { density: 47, mbf: 3900 }, "Oak, Red": { density: 64, mbf: 5300 },
            "Oak, White": { density: 63, mbf: 5200 }, "Pine, White": { density: 36, mbf: 2800 },
            "Pine, Yellow": { density: 45, mbf: 3800 }, "Poplar, Yellow": { density: 38, mbf: 3200 },
            "Walnut, Black": { density: 58, mbf: 4500 }
        };

        const tools = [
            { id: "simple_bf", icon: "ü™µ" },
            { id: "deluxe_bf", icon: "üìê" },
            { id: "tree_val", icon: "üí∞" },
            { id: "tree_val_comp", icon: "‚öñÔ∏è" },
            { id: "whack_logs", icon: "üìù" },
            { id: "tree_vol", icon: "üå≥" },
            { id: "saw_log_vol", icon: "ü™ö" },
            { id: "pulp_vol", icon: "üìÑ" },
            { id: "log_weight", icon: "‚öñÔ∏è" },
            { id: "pulp_acre", icon: "üèûÔ∏è" },
            { id: "trees_acre", icon: "üå±" },
            { id: "lumber_weight", icon: "üöõ" },
            { id: "grade_calc", icon: "üèÖ" },
            { id: "value_comp", icon: "üí≤" },
            { id: "cant_size", icon: "‚èπÔ∏è" },
            { id: "beam_wood", icon: "üèóÔ∏è" },
            { id: "beam_steel", icon: "üèóÔ∏è" },
            { id: "line_pull", icon: "üîó" }
        ];

        let currentTool = "simple_bf";
        let currentLang = "en";
        let logList = []; 

        // --- Init ---
        function init() {
            // Read URL Param for Language
            const urlParams = new URLSearchParams(window.location.search);
            const langParam = urlParams.get('lang');
            if (langParam && i18n[langParam]) {
                currentLang = langParam;
            } else {
                currentLang = 'en'; // Default
            }
            document.getElementById('langSelector').value = currentLang;

            // Theme Check
            if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            }
            updateThemeIcons();

            updateLanguageUI();
            renderSidebar();
            renderCalculator(currentTool);
        }

        function changeLanguage(lang) {
            currentLang = lang;
            
            // Update URL without reload if possible
            try {
                const url = new URL(window.location);
                url.searchParams.set('lang', lang);
                window.history.pushState({}, '', url);
            } catch (e) {
                console.log("Could not update URL history (likely due to sandbox environment):", e);
            }

            updateLanguageUI();
            renderSidebar();
            renderCalculator(currentTool); // Re-render to update labels
        }

        // Helper to get translation
        function t(key, subKey) {
            const langObj = i18n[currentLang] || i18n['en'];
            if (subKey) {
                // e.g. t('tools', 'simple_bf')
                return langObj[key]?.[subKey] || i18n['en'][key]?.[subKey] || subKey;
            }
            return langObj[key] || i18n['en'][key] || key;
        }

        function updateLanguageUI() {
            document.getElementById('app_title').innerText = t('title');
            document.getElementById('app_desc').innerText = t('desc');
            document.getElementById('label_tools').innerText = t('label_tools');
            document.getElementById('label_about').innerText = t('label_about');
            document.getElementById('modal_share_title').innerText = t('modal_title');
            document.getElementById('modal_label_link').innerText = t('modal_link');
            document.getElementById('modal_label_html').innerText = t('modal_html');
            
            // Update HTML Lang Attribute
            document.documentElement.lang = currentLang;
        }

        function renderSidebar() {
            const nav = document.getElementById('sidebarNav');
            nav.innerHTML = tools.map(item => `
                <button onclick="switchTool('${item.id}')" 
                    class="category-btn w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left text-sm font-medium transition-all ${item.id === currentTool ? 'active' : 'text-slate-600 dark:text-slate-400'}">
                    <span class="text-xl filter drop-shadow-sm">${item.icon}</span>
                    <span class="whitespace-nowrap">${t('tools', item.id)}</span>
                </button>
            `).join('');
        }

        function switchTool(id) {
            currentTool = id;
            renderSidebar();
            renderCalculator(id);
        }

        // --- Render Calculator Interface ---
        function renderCalculator(id) {
            const container = document.getElementById('calc-content');
            const desc = document.getElementById('calc-description');
            let html = "";
            let description = t('descs', id) || t('tools', id); // Fallback to title if no desc

            // Components
            const lbl = (key) => t('labels', key);
            
            const createInput = (labelKey, id, type='number', val='', suffix='') => `
                <div class="input-group">
                    <label>${lbl(labelKey) || labelKey}</label>
                    <div class="input-wrapper relative">
                        <input type="${type}" id="${id}" value="${val}" class="w-full font-mono text-sm" oninput="calculate('${id.split('_')[0]}')">
                        ${suffix ? `<span class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold pointer-events-none">${suffix}</span>` : ''}
                    </div>
                </div>`;
            
            const createSelect = (labelKey, id, options) => `
                <div class="input-group">
                    <label>${lbl(labelKey) || labelKey}</label>
                    <div class="input-wrapper">
                        <select id="${id}" onchange="calculate('${id.split('_')[0]}')">
                            ${options.map(o => `<option value="${o.val}">${o.text}</option>`).join('')}
                        </select>
                    </div>
                </div>`;

            const speciesOptions = Object.keys(speciesData).map(s => ({val: s, text: s}));

            // Structure Gen
            switch(id) {
                case "simple_bf":
                    html = `
                        <h2 class="text-2xl font-bold mb-8 text-green-800 dark:text-green-400 flex items-center gap-3"><span class="text-3xl">ü™µ</span> ${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${createInput("thickness", "bf_thick", "number", "1")}
                            ${createInput("width", "bf_width", "number", "6")}
                            ${createInput("length", "bf_len", "number", "10")}
                            ${createInput("qty", "bf_pieces", "number", "1")}
                            ${createInput("packs", "bf_packs", "number", "1")}
                        </div>
                        <div class="mt-8 p-6 bg-green-50 dark:bg-slate-800 rounded-2xl text-center border border-green-100 dark:border-green-900/30">
                            <div class="text-xs text-green-600 dark:text-green-500 uppercase font-bold tracking-widest mb-2">${lbl('total_bf')}</div>
                            <div id="res_bf_total" class="text-5xl font-mono font-bold text-green-700 dark:text-green-400">0</div>
                        </div>`;
                    break;
                
                case "deluxe_bf":
                    html = `<h2 class="text-2xl font-bold mb-8 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            ${createInput("cust", "dbf_cust", "text")}
                            ${createSelect("species", "dbf_species", speciesOptions)}
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                            ${createInput("thickness", "dbf_thick", "number", "1")}
                            ${createInput("width", "dbf_width", "number", "6")}
                            ${createInput("length", "dbf_len", "number", "10")}
                            ${createInput("qty", "dbf_pieces", "number", "1")}
                            ${createInput("packs", "dbf_packs", "number", "1")}
                            ${createInput("price", "dbf_price", "number", "0")}
                        </div>
                        <div class="mt-8 grid grid-cols-2 gap-4">
                            <div class="p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center border border-green-100 dark:border-slate-700">
                                <div class="text-xs text-slate-500 font-bold">${lbl('total_bf')}</div>
                                <div id="res_dbf_total" class="text-2xl font-mono text-green-700 font-bold mt-1">0</div>
                            </div>
                            <div class="p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center border border-green-100 dark:border-slate-700">
                                <div class="text-xs text-slate-500 font-bold">${lbl('total_price')} ($)</div>
                                <div id="res_dbf_price" class="text-2xl font-mono text-green-700 font-bold mt-1">$0.00</div>
                            </div>
                        </div>`;
                    break;

                case "tree_vol":
                    html = `<h2 class="text-2xl font-bold mb-8 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            ${createInput("dbh", "tv_dbh", "number", "16", "in")}
                            ${createInput("logs", "tv_logs", "number", "2", "16ft")}
                            ${createInput("form", "tv_form", "number", "78", "%")}
                        </div>
                        <div class="mt-8 space-y-3">
                            <div class="flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-xl">
                                <span class="text-sm font-bold text-slate-500">${lbl('result_doyle')}</span>
                                <span id="res_tv_doyle" class="font-mono font-bold text-xl text-slate-700 dark:text-slate-200">0</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-xl">
                                <span class="text-sm font-bold text-slate-500">${lbl('result_scrib')}</span>
                                <span id="res_tv_scrib" class="font-mono font-bold text-xl text-slate-700 dark:text-slate-200">0</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-xl">
                                <span class="text-sm font-bold text-slate-500">${lbl('result_intl')}</span>
                                <span id="res_tv_intl" class="font-mono font-bold text-xl text-slate-700 dark:text-slate-200">0</span>
                            </div>
                        </div>`;
                    break;
                
                case "saw_log_vol":
                     html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">${createInput("dia", "sl_dia", "number", "10")}${createInput("length", "sl_len", "number", "10")}</div>
                     <div class="mt-8 space-y-3">
                        <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>${lbl('result_doyle')}</span> <span id="res_sl_doyle" class="font-mono font-bold">0</span></div>
                        <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>${lbl('result_scrib')}</span> <span id="res_sl_scrib" class="font-mono font-bold">0</span></div>
                        <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>${lbl('result_intl')}</span> <span id="res_sl_intl" class="font-mono font-bold">0</span></div>
                     </div>`; 
                     break;

                case "pulp_vol": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-6">${createInput("stick_len", "pv_len", "number", "4")}${createInput("num_sticks", "pv_num", "number", "10")}${createInput("dia", "pv_dia", "number", "8")}</div><div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center"><div class="text-sm text-slate-500 font-bold">${lbl('result_cords')}</div><div id="res_pv_cords" class="text-4xl font-mono text-green-700 dark:text-green-400 mt-2">0.00</div></div>`; break;
                
                case "log_weight": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6">${createInput("dia", "lw_dia", "number", "12")}${createInput("length", "lw_len", "number", "12")}${createSelect("species", "lw_species", speciesOptions)}</div><div class="mt-8 grid grid-cols-2 gap-4"><div class="p-4 bg-slate-50 dark:bg-slate-800 rounded-xl text-center"><div class="text-xs text-slate-500 font-bold">${lbl('weight')}</div><div id="res_lw_weight" class="text-2xl font-mono text-green-700">0</div></div><div class="p-4 bg-slate-50 dark:bg-slate-800 rounded-xl text-center"><div class="text-xs text-slate-500 font-bold">Vol (cu ft)</div><div id="res_lw_vol" class="text-2xl font-mono text-green-700">0.00</div></div></div>`; break;
                
                case "pulp_acre": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6">${createInput("sticks", "pa_sticks", "number", "0")}${createInput("plots", "pa_plots", "number", "1")}</div><div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center"><div class="text-sm text-slate-500 font-bold">${lbl('result_per_acre')}</div><div id="res_pa_result" class="text-4xl font-mono text-green-700 mt-2">0.00</div></div>`; break;
                
                case "trees_acre": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6">${createInput("row_space", "ta_row", "number", "10")}${createInput("tree_space", "ta_tree", "number", "10")}</div><div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center"><div class="text-sm text-slate-500 font-bold">${lbl('num_trees')}</div><div id="res_ta_count" class="text-4xl font-mono text-green-700 mt-2">0</div></div>`; break;
                
                case "lumber_weight": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="mb-6">${createSelect("species", "lb_species", speciesOptions)}</div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div>${createInput("total_bf", "lb_bf", "number", "1000")}<div class="mt-2 text-right font-mono font-bold text-green-600" id="res_lb_bf_weight">0 lbs</div></div><div>${createInput("result_cords", "lb_cords", "number", "1")}<div class="mt-2 text-right font-mono font-bold text-green-600" id="res_lb_cord_weight">0 lbs</div></div></div>`; break;

                case "grade_calc": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-xs font-bold text-slate-500"><div>${lbl('grade')}</div><div>$/Mbf</div><div>BF</div><div>${lbl('subtotal')}</div></div><div id="grade_rows">${['FAS', 'Selects', '1 Common', '2 Common'].map((g, i) => `<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-3 items-center"><div class="font-medium text-sm">${g}</div><input type="number" id="gc_price_${i}" class="p-2 border rounded w-full dark:bg-slate-900 dark:border-slate-700" placeholder="${lbl('price')}" oninput="calculate('grade_calc')"><input type="number" id="gc_qty_${i}" class="p-2 border rounded w-full dark:bg-slate-900 dark:border-slate-700" placeholder="BF" oninput="calculate('grade_calc')"><div id="gc_sub_${i}" class="text-right font-mono text-sm">$0</div></div>`).join('')}</div><div class="mt-6 border-t pt-4 flex justify-between items-center"><span class="font-bold">${lbl('total')}:</span><span id="res_gc_total" class="text-2xl font-mono text-green-700">$0.00</span></div>`; break;

                case "value_comp": html = `<h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">${createInput("price", "vc_price", "number", "500")}${createInput("dia", "vc_dia", "number", "16")}${createInput("length", "vc_len", "number", "16")}</div><div class="space-y-4 text-sm"><div class="flex justify-between items-center p-3 border-b border-dashed dark:border-slate-700"><span>Doyle:</span> <span class="font-mono"><span id="res_vc_doyle_vol">0</span> BF / <span id="res_vc_doyle_val" class="font-bold text-green-600">$0</span></span></div><div class="flex justify-between items-center p-3 border-b border-dashed dark:border-slate-700"><span>Scribner:</span> <span class="font-mono"><span id="res_vc_scrib_vol">0</span> BF / <span id="res_vc_scrib_val" class="font-bold text-green-600">$0</span></span></div><div class="flex justify-between items-center p-3"><span>International:</span> <span class="font-mono"><span id="res_vc_intl_vol">0</span> BF / <span id="res_vc_intl_val" class="font-bold text-green-600">$0</span></span></div></div>`; break;

                case "tree_val":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            ${createSelect("species", "tval_species", speciesOptions)}
                            ${createSelect("grade", "tval_grade", [{val:1,text:"Grade 1"},{val:2,text:"Grade 2"},{val:3,text:"Grade 3"}])}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            ${createInput("price", "tval_price", "number", "500", "$/Mbf")}
                            ${createInput("cost", "tval_cost", "number", "150", "$/Mbf")}
                            ${createInput("form", "tval_fc", "number", "78")}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${createInput("dbh", "tval_dbh", "number", "16")}
                            ${createInput("logs", "tval_logs", "number", "2")}
                        </div>
                        <div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center">
                            <div class="text-sm text-slate-500 uppercase font-bold">Net Value ($)</div>
                            <div id="res_tval_value" class="text-4xl font-mono font-bold text-green-700 dark:text-green-400 mt-2">$0.00</div>
                        </div>`;
                    break;

                case "tree_val_comp":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            ${createInput("Doyle ($)", "tvc_p_d", "number", "500")}
                            ${createInput("Scribner ($)", "tvc_p_s", "number", "500")}
                            ${createInput("Intl ($)", "tvc_p_i", "number", "500")}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            ${createInput("dbh", "tvc_dbh", "number", "16")}
                            ${createInput("logs", "tvc_logs", "number", "2")}
                            ${createInput("form", "tvc_fc", "number", "78")}
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>Doyle:</span> <span id="res_tvc_d" class="font-mono font-bold text-green-600">$0.00</span></div>
                            <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>Scribner:</span> <span id="res_tvc_s" class="font-mono font-bold text-green-600">$0.00</span></div>
                            <div class="flex justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg"><span>International:</span> <span id="res_tvc_i" class="font-mono font-bold text-green-600">$0.00</span></div>
                        </div>`;
                    break;

                case "whack_logs":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            ${createSelect("species", "wl_species", speciesOptions)}
                            ${createInput("dia", "wl_dia", "number", "12")}
                            ${createInput("length", "wl_len", "number", "10")}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            ${createInput("price", "wl_price", "number", "500")}
                            ${createSelect("load_type", "wl_scale", [{val:'d',text:'Doyle'},{val:'s',text:'Scribner'},{val:'i',text:'International'}])}
                            <button onclick="addLog()" class="bg-primary hover:bg-primaryDark text-white rounded-lg font-bold transition-colors h-11 mt-auto shadow-lg shadow-green-900/10">Add Log</button>
                        </div>
                        <div class="mb-4 max-h-40 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-100 dark:bg-slate-700 sticky top-0 text-slate-500"><tr><th class="p-2">${lbl('species')}</th><th class="p-2">${lbl('width')}</th><th class="p-2">Vol</th><th class="p-2">${lbl('price')}</th></tr></thead>
                                <tbody id="wl_list_body"></tbody>
                            </table>
                        </div>
                        <div class="grid grid-cols-3 gap-4 bg-slate-50 dark:bg-slate-800 p-4 rounded-xl text-center">
                            <div><div class="text-xs text-slate-500">Count</div><div id="wl_count" class="font-bold">0</div></div>
                            <div><div class="text-xs text-slate-500">BF</div><div id="wl_total_bf" class="font-bold">0</div></div>
                            <div><div class="text-xs text-slate-500">Value</div><div id="wl_total_val" class="font-bold text-green-600">$0</div></div>
                        </div>`;
                    break;

                case "cant_size":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${createInput("cant_w", "cs_w", "number", "6")}
                            ${createInput("cant_h", "cs_h", "number", "6")}
                        </div>
                        <div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center">
                            <div class="text-sm text-slate-500 uppercase font-bold">${lbl('min_log')}</div>
                            <div id="res_cs_dia" class="text-4xl font-mono font-bold text-green-700 dark:text-green-400 mt-2">0.00"</div>
                        </div>`;
                    break;

                case "beam_wood":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="mb-4">${createSelect("load_type", "bw_type", [
                            {val:'uniform', text:'Uniform'},
                            {val:'center', text:'Center Point'},
                            {val:'twopoint', text:'Two Point (1/3)'}
                        ])}</div>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            ${createInput("load", "bw_load", "number", "1000")}
                            ${createInput("span", "bw_span", "number", "120")}
                            ${createInput("width", "bw_w", "number", "3.5")}
                            ${createInput("depth", "bw_d", "number", "9.25")}
                        </div>
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            ${createInput("fb", "bw_fb", "number", "1000")}
                            ${createInput("e_mod", "bw_e", "number", "1.6")}
                            ${createInput("fv", "bw_fv", "number", "180")}
                        </div>
                        <div class="space-y-2 text-sm bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl">
                            <div class="flex justify-between"><span>${lbl('act_fb')}:</span> <span id="res_bw_fb" class="font-bold">0</span></div>
                            <div class="flex justify-between"><span>${lbl('act_fv')}:</span> <span id="res_bw_fv" class="font-bold">0</span></div>
                            <div class="flex justify-between"><span>${lbl('defl')}:</span> <span id="res_bw_defl" class="font-bold">0</span></div>
                            <div class="mt-2 p-2 rounded text-center font-bold text-white transition-colors" id="res_bw_status">...</div>
                        </div>`;
                    break;

                case "beam_steel":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            ${createInput("span", "bs_span", "number", "240")}
                            ${createInput("trib_w", "bs_tw", "number", "120")}
                            ${createInput("load", "bs_load", "number", "40", "PSF")}
                            ${createInput("yield", "bs_fy", "number", "36")}
                        </div>
                        <div class="mb-6">
                            ${createSelect("beam_sel", "bs_beam", [
                                {val:'12.4', text:'W8 x 10 (Sx=7.81, Ix=30.8)'},
                                {val:'16.3', text:'W8 x 13 (Sx=9.91, Ix=39.6)'},
                                {val:'27.9', text:'W10 x 12 (Sx=10.9, Ix=53.8)'}
                            ])}
                        </div>
                        <div class="p-4 bg-green-50 dark:bg-slate-800 rounded-xl">
                            <div class="flex justify-between mb-2"><span>${lbl('moment')}:</span> <span id="res_bs_moment" class="font-bold">0</span></div>
                            <div class="flex justify-between"><span>${lbl('sx_req')}:</span> <span id="res_bs_sx" class="font-bold">0</span></div>
                        </div>`;
                    break;

                case "line_pull":
                    html = `
                        <h2 class="text-2xl font-bold mb-6 text-green-800 dark:text-green-400">${t('tools', id)}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${createInput("cog_h", "lp_l", "number", "30", "ft")}
                            ${createInput("weight", "lp_w", "number", "2000", "lbs")}
                            ${createInput("lean", "lp_theta", "number", "85", "deg")}
                            ${createInput("rope_h", "lp_h", "number", "20", "ft")}
                            ${createInput("pull_ang", "lp_alpha", "number", "45", "deg")}
                        </div>
                        <div class="mt-8 p-4 bg-green-50 dark:bg-slate-800 rounded-xl text-center">
                            <div class="text-sm text-slate-500 uppercase font-bold">${lbl('req_force')}</div>
                            <div id="res_lp_force" class="text-4xl font-mono font-bold text-green-700 dark:text-green-400 mt-2">0</div>
                        </div>`;
                    break;
            }

            container.innerHTML = html;
            desc.innerText = description;
            setTimeout(() => calculate(id.split('_')[0]), 0);
        }

        // --- Core Calculation Logic (Preserved) ---
        function calculate(prefix) {
            const val = (id) => parseFloat(document.getElementById(id)?.value) || 0;
            const setTxt = (id, txt) => { 
                const el = document.getElementById(id); 
                if(el) el.innerText = txt; 
            };

            const doyleLog = (d, l) => Math.max(0, Math.pow(d - 4, 2) * l / 16);
            const scribnerLog = (d, l) => Math.max(0, (0.79 * d * d - 2 * d - 4) * l / 16);
            const intlLog = (d, l) => Math.max(0, (0.22 * d * d - 0.71 * d) * (l / 4));

            const calcTreeVols = (dbh, logs, fc) => {
                let d_ib = dbh * (fc / 100);
                let vD=0, vS=0, vI=0;
                for(let i=0; i<logs; i++) {
                    let logDia = d_ib - (i * 2);
                    if(logDia < 4) break; 
                    vD += doyleLog(logDia, 16);
                    vS += scribnerLog(logDia, 16);
                    vI += intlLog(logDia, 16);
                }
                return {d:Math.round(vD), s:Math.round(vS), i:Math.round(vI)};
            };

            if (currentTool === 'simple_bf') {
                const bf = (val('bf_thick') * val('bf_width') * val('bf_len') * val('bf_pieces') * (val('bf_packs') || 1)) / 12;
                setTxt('res_bf_total', bf.toFixed(2));
            } else if (currentTool === 'deluxe_bf') {
                const dbf = (val('dbf_thick') * val('dbf_width') * val('dbf_len') * val('dbf_pieces') * (val('dbf_packs') || 1)) / 12;
                const price = dbf * (val('dbf_price') / 1000);
                setTxt('res_dbf_total', dbf.toFixed(2));
                setTxt('res_dbf_price', '$' + price.toFixed(2));
            } else if (currentTool === 'tree_vol') {
                const vols = calcTreeVols(val('tv_dbh'), val('tv_logs'), val('tv_form'));
                setTxt('res_tv_doyle', vols.d); setTxt('res_tv_scrib', vols.s); setTxt('res_tv_intl', vols.i);
            } else if (currentTool === 'saw_log_vol') {
                const d = val('sl_dia'), l = val('sl_len');
                setTxt('res_sl_doyle', Math.round(doyleLog(d, l)));
                setTxt('res_sl_scrib', Math.round(scribnerLog(d, l)));
                setTxt('res_sl_intl', Math.round(intlLog(d, l)));
            } else if (currentTool === 'pulp_vol') {
                const p_vol = val('pv_num') * (0.005454 * Math.pow(val('pv_dia'), 2) * val('pv_len'));
                setTxt('res_pv_cords', (p_vol / 90).toFixed(2));
            } else if (currentTool === 'log_weight') {
                const lw_vol = 0.005454 * Math.pow(val('lw_dia'), 2) * val('lw_len');
                const den = speciesData[document.getElementById('lw_species').value].density;
                setTxt('res_lw_vol', lw_vol.toFixed(2));
                setTxt('res_lw_weight', Math.round(lw_vol * den));
            } else if (currentTool === 'pulp_acre') {
                setTxt('res_pa_result', ((val('pa_sticks') / (val('pa_plots')||1)) / 2).toFixed(2));
            } else if (currentTool === 'trees_acre') {
                const row = val('ta_row'), tree = val('ta_tree');
                if(row>0 && tree>0) setTxt('res_ta_count', Math.round(43560 / (row * tree)));
            } else if (currentTool === 'lumber_weight') {
                const spec = document.getElementById('lb_species').value;
                const mbfW = speciesData[spec].mbf;
                const cordW = speciesData[spec].density * 85; 
                setTxt('res_lb_bf_weight', Math.round((val('lb_bf') / 1000) * mbfW) + ' lbs');
                setTxt('res_lb_cord_weight', Math.round(val('lb_cords') * cordW) + ' lbs');
            } else if (currentTool === 'grade_calc') {
                let total = 0;
                for(let i=0; i<4; i++) {
                    const sub = (val(`gc_qty_${i}`) * val(`gc_price_${i}`)) / 1000;
                    total += sub;
                    setTxt(`gc_sub_${i}`, '$' + sub.toFixed(2));
                }
                setTxt('res_gc_total', '$' + total.toFixed(2));
            } else if (currentTool === 'value_comp') {
                const d = val('vc_dia'), l = val('vc_len'), p = val('vc_price');
                const vD = doyleLog(d, l), vS = scribnerLog(d, l), vI = intlLog(d, l);
                setTxt('res_vc_doyle_vol', Math.round(vD)); setTxt('res_vc_doyle_val', '$' + (vD * p / 1000).toFixed(2));
                setTxt('res_vc_scrib_vol', Math.round(vS)); setTxt('res_vc_scrib_val', '$' + (vS * p / 1000).toFixed(2));
                setTxt('res_vc_intl_vol', Math.round(vI)); setTxt('res_vc_intl_val', '$' + (vI * p / 1000).toFixed(2));
            } else if (currentTool === 'tree_val') {
                const vols = calcTreeVols(val('tval_dbh'), val('tval_logs'), val('tval_fc'));
                const netPrice = val('tval_price') - val('tval_cost');
                const grades = {1: 1.0, 2: 0.8, 3: 0.6};
                const gFactor = grades[val('tval_grade')] || 1.0;
                const value = (vols.d / 1000) * netPrice * gFactor;
                setTxt('res_tval_value', '$' + Math.max(0, value).toFixed(2));
            } else if (currentTool === 'tree_val_comp') {
                const vols = calcTreeVols(val('tvc_dbh'), val('tvc_logs'), val('tvc_fc'));
                setTxt('res_tvc_d', '$' + ((vols.d/1000) * val('tvc_p_d')).toFixed(2));
                setTxt('res_tvc_s', '$' + ((vols.s/1000) * val('tvc_p_s')).toFixed(2));
                setTxt('res_tvc_i', '$' + ((vols.i/1000) * val('tvc_p_i')).toFixed(2));
            } else if (currentTool === 'cant_size') {
                const w = val('cs_w'), h = val('cs_h');
                setTxt('res_cs_dia', Math.sqrt(w*w + h*h).toFixed(2) + '"');
            } else if (currentTool === 'line_pull') {
                const l = val('lp_l'), w = val('lp_w'), h = val('lp_h');
                const th = val('lp_theta') * (Math.PI/180);
                const al = val('lp_alpha') * (Math.PI/180);
                if (h > 0 && Math.sin(al) !== 0) {
                    const t = (l * w * Math.cos(th)) / (h * Math.sin(al));
                    setTxt('res_lp_force', Math.round(Math.abs(t)) + ' lbs');
                }
            } else if (currentTool === 'beam_wood') {
                const type = document.getElementById('bw_type').value;
                const P = val('bw_load'), L = val('bw_span'), b = val('bw_w'), d = val('bw_d');
                const Fb = val('bw_fb'), E = val('bw_e') * 1000000, Fv = val('bw_fv');
                const S = (b * d * d) / 6; const I = (b * d * d * d) / 12; const Area = b * d;
                let M = 0, V = 0, Def = 0;
                if (type === 'uniform') { M = (P * L) / 8; V = P / 2; Def = (5 * P * Math.pow(L, 3)) / (384 * E * I); }
                else if (type === 'center') { M = (P * L) / 4; V = P / 2; Def = (P * Math.pow(L, 3)) / (48 * E * I); }
                else if (type === 'twopoint') { M = (P * L) / 6; V = P / 2; const a = L/3; const p_point = P/2; Def = (p_point * a * (3*L*L - 4*a*a)) / (24 * E * I); }
                const act_Fb = M / S; const act_Fv = (1.5 * V) / Area;
                setTxt('res_bw_fb', Math.round(act_Fb));
                setTxt('res_bw_fv', Math.round(act_Fv));
                setTxt('res_bw_defl', Def.toFixed(3));
                const pass = (act_Fb <= Fb && act_Fv <= Fv && Def <= L/360);
                const status = document.getElementById('res_bw_status');
                status.innerText = pass ? t('pass') : t('fail');
                status.className = pass ? "mt-2 p-2 bg-green-500 text-white rounded text-center font-bold" : "mt-2 p-2 bg-red-500 text-white rounded text-center font-bold";
            } else if (currentTool === 'beam_steel') {
                const span = val('bs_span'); const trib = val('bs_tw'); const psf = val('bs_load');
                const beamProps = { '12.4': {Sx: 7.81, I: 30.8}, '16.3': {Sx: 9.91, I: 39.6}, '27.9': {Sx: 10.9, I: 53.8} };
                const props = beamProps[document.getElementById('bs_beam').value] || {Sx: 1, I: 1};
                const w_plf = psf * (trib / 12); const w_pli = w_plf / 12; 
                const M_max = (w_pli * span * span) / 8; const M_ftlbs = M_max / 12;
                const Fy = val('bs_fy') * 1000; const Fb = 0.66 * Fy; const S_req = M_max / Fb;
                setTxt('res_bs_moment', Math.round(M_ftlbs));
                setTxt('res_bs_sx', S_req.toFixed(2));
            }
        }

        // Whack o Logs Helper
        function addLog() {
            const spec = document.getElementById('wl_species').value;
            const dia = parseFloat(document.getElementById('wl_dia').value) || 0;
            const len = parseFloat(document.getElementById('wl_len').value) || 0;
            const price = parseFloat(document.getElementById('wl_price').value) || 0;
            const scale = document.getElementById('wl_scale').value;
            let vol = 0;
            if(scale === 'd') vol = Math.max(0, Math.pow(dia - 4, 2) * len / 16);
            if(scale === 's') vol = Math.max(0, (0.79 * dia * dia - 2 * dia - 4) * len / 16);
            if(scale === 'i') vol = Math.max(0, (0.22 * dia * dia - 0.71 * dia) * (len / 4));
            vol = Math.round(vol);
            const val = (vol * price / 1000);
            logList.push({ spec, dia, len, vol, val });
            updateLogList();
        }

        function updateLogList() {
            const tbody = document.getElementById('wl_list_body');
            tbody.innerHTML = logList.map(l => `
                <tr class="border-b dark:border-slate-700">
                    <td class="p-2">${l.spec}</td>
                    <td class="p-2">${l.dia}" x ${l.len}'</td>
                    <td class="p-2">${l.vol}</td>
                    <td class="p-2">$${l.val.toFixed(2)}</td>
                </tr>
            `).join('');
            const totalVol = logList.reduce((a,b) => a + b.vol, 0);
            const totalVal = logList.reduce((a,b) => a + b.val, 0);
            document.getElementById('wl_count').innerText = logList.length;
            document.getElementById('wl_total_bf').innerText = totalVol;
            document.getElementById('wl_total_val').innerText = '$' + totalVal.toFixed(2);
        }

        // --- Utility ---
        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcons();
        }

        function updateThemeIcons() {
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
                document.getElementById('theme-icon-sun').classList.remove('hidden');
                document.getElementById('theme-icon-moon').classList.add('hidden');
            } else {
                document.getElementById('theme-icon-sun').classList.add('hidden');
                document.getElementById('theme-icon-moon').classList.remove('hidden');
            }
        }

        function openShareModal() {
            const url = window.location.href;
            document.getElementById('shareUrl').value = url;
            document.getElementById('shareHtml').value = `<a href="${url}">${t('title')}</a>`;
            document.getElementById('shareModal').classList.remove('hidden');
        }

        function closeShareModal() {
            document.getElementById('shareModal').classList.add('hidden');
        }
        
        function copyToClipboard(type) {
            const id = type === 'html' ? 'shareHtml' : 'shareUrl';
            const input = document.getElementById(id);
            input.select();
            document.execCommand('copy');
            const notice = document.getElementById('copyNotice');
            notice.innerText = t('copied');
            notice.style.opacity = '1';
            setTimeout(() => notice.style.opacity = '0', 2000);
        }

        window.onload = init;
    </script>
</body>
</html>