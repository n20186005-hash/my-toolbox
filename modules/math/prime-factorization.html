<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prime Factorization</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="prime_factorization">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ”§">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Prime Factorization">
    <meta name="description" content="Factorize a number into its prime factors.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="åˆ†è§£è´¨å› æ•°">
    <meta name="lang-description-zh-CN" content="å°†ä¸€ä¸ªæ•°å­—åˆ†è§£ä¸ºå…¶è´¨å› æ•°ã€‚">
    
    <meta name="lang-title-zh-TW" content="åˆ†è§£è³ªå› æ•¸">
    <meta name="lang-description-zh-TW" content="å°‡ä¸€å€‹æ•¸å­—åˆ†è§£ç‚ºå…¶è³ªå› æ•¸ã€‚">
    
    <meta name="lang-title-ja" content="ç´ å› æ•°åˆ†è§£">
    <meta name="lang-description-ja" content="æ•°å€¤ã‚’ãã®ç´ å› æ•°ã«åˆ†è§£ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ">
    <meta name="lang-description-ru" content="Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·ÑƒĞ¹Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ½Ğ° Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğµ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»Ğ¸.">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ä½¿ç”¨ Tailwind CSS */
        .input-group {
            @apply flex flex-col sm:flex-row items-stretch sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-8;
        }
        .input-field {
            @apply flex-grow p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500;
        }
        .action-button {
            @apply w-full sm:w-auto px-6 py-3 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 ease-in-out;
        }
        .result-box {
            @apply bg-indigo-50 p-6 rounded-xl shadow-inner mb-6;
        }
        .step-box {
            @apply bg-white p-4 rounded-lg shadow-md max-h-64 overflow-y-auto;
        }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/prime-factorization.html" />
</head>
<!-- è°ƒæ•´: ä¸»èƒŒæ™¯é¢œè‰²ä» bg-gray-50 å˜ä¸º bg-gray-100 -->
<body class="p-4 sm:p-8 bg-gray-100 min-h-screen">
    <div class="max-w-4xl mx-auto" data-id="prime_factorization">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-6" data-i18n="title">ğŸ”§ Prime Factorization</h1>

        <!-- è¯­è¨€é€‰æ‹© -->
        <div class="mb-6 flex justify-end items-center">
            <label for="factor-lang" class="text-sm font-medium text-gray-700 mr-2">Language:</label>
            <select id="factor-lang" onchange="FactorTool.changeLang()" class="p-2 border border-gray-300 rounded-lg shadow-sm">
                <option value="en">English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl">
            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="input-group">
                <label for="number-to-factor" class="sr-only" data-i18n="number_label">Number to factorize</label>
                <input type="number" id="number-to-factor" placeholder="Enter a number (e.g., 120)" value="120" class="input-field text-xl" oninput="FactorTool.factorize()">
                <button onclick="FactorTool.factorize()" class="action-button" data-i18n="btn_factorize">Factorize</button>
            </div>

            <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
            <div class="result-box">
                <p class="text-center text-sm font-medium text-indigo-600 mb-2">
                    <span id="factor-number" class="text-xl font-mono text-indigo-800">120</span> <span data-i18n="res_label">Prime Factors of 120</span>:
                </p>
                <!-- ç»“æœå’Œé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                <div id="factor-result" class="text-2xl font-bold text-indigo-800 text-center mb-4">
                    <!-- Initial result will be set by JS -->
                </div>
            </div>

            <!-- æ­¥éª¤è¯´æ˜åŒºåŸŸ -->
            <div class="step-box">
                <h3 class="text-lg font-semibold text-gray-800 mb-3" data-i18n="explanation">Factorization Steps:</h3>
                <!-- è°ƒæ•´: æ­¥éª¤æ–‡å­—é¢œè‰²ä» text-gray-600 å˜ä¸º text-gray-800 -->
                <pre id="factor-steps" class="whitespace-pre-wrap text-sm text-gray-800 font-mono"></pre>
            </div>
        </div>
    </div>

    <script>
        const FactorTool = {
            i18n: {
                'en': {
                    title: 'ğŸ”§ Prime Factorization',
                    number_label: 'Number to factorize',
                    btn_factorize: 'Factorize',
                    // %s å ä½ç¬¦ç”¨äº numberEl çš„å†…å®¹
                    res_label: 'Prime Factors of %s', 
                    err_invalid: 'Please enter a valid number (â‰¥ 2)',
                    explanation: 'Factorization Steps:',
                    is_prime: '%s is a prime number',
                    result_intro: 'Final Result: ',
                    step_line: 'Step %s: %s Ã· %s = %s'
                },
                'zh-CN': {
                    title: 'ğŸ”§ åˆ†è§£è´¨å› æ•°',
                    number_label: 'è¦åˆ†è§£çš„æ•°å­—',
                    btn_factorize: 'åˆ†è§£',
                    res_label: '%sçš„è´¨å› æ•°',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼ˆâ‰¥ 2ï¼‰',
                    explanation: 'åˆ†è§£æ­¥éª¤ï¼š',
                    is_prime: '%sæ˜¯ä¸€ä¸ªè´¨æ•°',
                    result_intro: 'æœ€ç»ˆç»“æœï¼š',
                    step_line: 'æ­¥éª¤ %s: %s Ã· %s = %s'
                },
                'zh-TW': {
                    title: 'ğŸ”§ åˆ†è§£è³ªå› æ•¸',
                    number_label: 'è¦åˆ†è§£çš„æ•¸å­—',
                    btn_factorize: 'åˆ†è§£',
                    res_label: '%sçš„è³ªå› æ•¸',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—ï¼ˆâ‰¥ 2ï¼‰',
                    explanation: 'åˆ†è§£æ­¥é©Ÿï¼š',
                    is_prime: '%sæ˜¯ä¸€å€‹è³ªæ•¸',
                    result_intro: 'æœ€çµ‚çµæœï¼š',
                    step_line: 'æ­¥é©Ÿ %s: %s Ã· %s = %s'
                },
                'ja': {
                    title: 'ğŸ”§ ç´ å› æ•°åˆ†è§£',
                    number_label: 'å› æ•°åˆ†è§£ã™ã‚‹æ•°',
                    btn_factorize: 'å› æ•°åˆ†è§£',
                    res_label: '%sã®ç´ å› æ•°',
                    err_invalid: 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆâ‰¥ 2ï¼‰',
                    explanation: 'å› æ•°åˆ†è§£æ‰‹é †ï¼š',
                    is_prime: '%sã¯ç´ æ•°ã§ã™',
                    result_intro: 'æœ€çµ‚çµæœï¼š',
                    step_line: 'ã‚¹ãƒ†ãƒƒãƒ— %s: %s Ã· %s = %s'
                },
                'ru': {
                    title: 'ğŸ”§ ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ',
                    number_label: 'Ğ§Ğ¸ÑĞ»Ğ¾ Ğ´Ğ»Ñ Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸',
                    btn_factorize: 'Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
                    res_label: 'ĞŸÑ€Ğ¾ÑÑ‚Ñ‹Ğµ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»Ğ¸ %s',
                    err_invalid: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ (â‰¥ 2)',
                    explanation: 'Ğ¨Ğ°Ğ³Ğ¸ Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:',
                    is_prime: '%s ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğ¼ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼',
                    result_intro: 'ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:',
                    step_line: 'Ğ¨Ğ°Ğ³ %s: %s Ã· %s = %s'
                }
            },

            // ä¿®å¤: changeLang ç°åœ¨ä¼šè°ƒç”¨ factorize æ¥æ›´æ–°æ‰€æœ‰è¯­è¨€ä¾èµ–çš„æ–‡æœ¬å’Œç»“æœã€‚
            changeLang: () => {
                const lang = document.getElementById('factor-lang').value;
                const texts = FactorTool.i18n[lang];
                // ä»…é€‰æ‹©å½“å‰å·¥å…·å®¹å™¨å†…çš„ data-i18n å…ƒç´ 
                const elements = document.querySelectorAll('[data-id="prime_factorization"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // è¯­è¨€åˆ‡æ¢åï¼Œé‡æ–°æ‰§è¡Œä¸€æ¬¡è®¡ç®—ï¼Œä»¥æ›´æ–°ç»“æœåŒºåŸŸä¸­ä¾èµ–è¯­è¨€çš„æ–‡æœ¬
                FactorTool.factorize(); 
            },

            isPrime: (n) => {
                if (n <= 1) return false;
                if (n <= 3) return true;
                if (n % 2 === 0 || n % 3 === 0) return false;
                
                let i = 5;
                while (i * i <= n) {
                    if (n % i === 0 || n % (i + 2) === 0) return false;
                    i += 6;
                }
                return true;
            },

            factorize: () => {
                const inputEl = document.getElementById('number-to-factor');
                const num = parseInt(inputEl.value);

                const lang = document.getElementById('factor-lang').value;
                const texts = FactorTool.i18n[lang];
                
                const resultEl = document.getElementById('factor-result');
                const stepsEl = document.getElementById('factor-steps');
                const numberEl = document.getElementById('factor-number');
                const resLabelEl = document.querySelector('[data-i18n="res_label"]');
                
                // æ€»æ˜¯æ ¹æ®å½“å‰è¾“å…¥å€¼æ›´æ–°æ•°å­—æ˜¾ç¤º
                numberEl.innerText = inputEl.value;

                // éªŒè¯è¾“å…¥
                if (isNaN(num) || num < 2) {
                    resultEl.innerText = texts.err_invalid;
                    resultEl.className = "text-xl font-bold text-red-600 text-center mb-4";
                    stepsEl.innerText = "";
                    // ä¿®å¤ï¼šæ›´æ–°ç»“æœæ ‡é¢˜ä¸ºé€šç”¨æç¤º
                    resLabelEl.innerText = "Error:";
                    return;
                }
                
                // ä¿®å¤ï¼šæ›´æ–°ç»“æœæ ‡é¢˜
                resLabelEl.innerText = texts.res_label.replace('%s', num);
                
                // æ£€æŸ¥æ˜¯å¦ä¸ºè´¨æ•°
                if (FactorTool.isPrime(num)) {
                    resultEl.className = "text-2xl font-bold text-indigo-800 text-center mb-4";
                    resultEl.innerText = num;
                    stepsEl.innerText = texts.is_prime.replace('%s', num);
                    return;
                }

                // åˆ†è§£è´¨å› æ•°
                let n = num;
                const factors = [];
                const steps = [];
                let stepCount = 1;

                // å¤„ç†2çš„æƒ…å†µ
                while (n % 2 === 0) {
                    factors.push(2);
                    steps.push(texts.step_line.replace('%s', stepCount).replace('%s', n).replace('%s', 2).replace('%s', n / 2));
                    n = n / 2;
                    stepCount++;
                }

                // å¤„ç†å¥‡æ•°æƒ…å†µ
                let i = 3;
                while (i * i <= n) {
                    while (n % i === 0) {
                        factors.push(i);
                        steps.push(texts.step_line.replace('%s', stepCount).replace('%s', n).replace('%s', i).replace('%s', n / i));
                        n = n / i;
                        stepCount++;
                    }
                    i += 2;
                }

                // å¦‚æœå‰©ä¸‹çš„næ˜¯ä¸€ä¸ªè´¨æ•°
                if (n > 1) { // å¿…é¡»å¤§äº 1
                    factors.push(n);
                    steps.push(texts.result_intro + n);
                }

                // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
                resultEl.className = "text-2xl font-bold text-indigo-800 text-center mb-4";
                resultEl.innerText = factors.join(' Ã— ');
                stepsEl.innerText = steps.join('\n');
            }
        };

        // ä¿®å¤: ç¡®ä¿åœ¨ DOMContentLoaded æ—¶æ‰§è¡Œè¯­è¨€åŒ¹é…å’Œåˆå§‹åŒ–æ¸²æŸ“
        document.addEventListener('DOMContentLoaded', () => {
            // 1. è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            const langSelect = document.getElementById('factor-lang');
            if(langSelect) {
                // ç¡®ä¿è¯­è¨€é€‰æ‹©å™¨è®¾ç½®ä¸ºåŒ¹é…çš„è¯­è¨€
                // åªæœ‰å½“åŒ¹é…çš„è¯­è¨€åœ¨é€‰é¡¹ä¸­æ—¶æ‰è®¾ç½®
                const options = Array.from(langSelect.options).map(opt => opt.value);
                if (options.includes(targetLang)) {
                    langSelect.value = targetLang;
                } else {
                    langSelect.value = 'en'; // é»˜è®¤å›é€€åˆ°è‹±æ–‡
                }
                
                // 2. é¦–æ¬¡è°ƒç”¨ changeLang ä»¥åˆå§‹åŒ–å¤šè¯­è¨€æ–‡æœ¬å’Œè®¡ç®—
                FactorTool.changeLang(); 
            } else {
                // å¦‚æœæ²¡æœ‰è¯­è¨€é€‰æ‹©å™¨ï¼Œä»ç„¶æ‰§è¡Œä¸€æ¬¡è®¡ç®—ä»¥åˆå§‹åŒ–ç»“æœ
                FactorTool.factorize();
            }
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>

</html>
