<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Category Meta Tag -->
    <meta name="category" content="math">
    <meta name="icon" content="âŒ¨ï¸">
    <meta name="description" content="Online Logarithm and Antilogarithm Calculator - Calculate logs with base e, 10, 2 or custom base.">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>log</text></svg>">
    
    <title>Log Calculator Pro | Logarithm & Antilog Calculator</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/math/log-antilog-calculator.html" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Added Lucide Icons for more modern look -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: { DEFAULT: '#059669', hover: '#047857', light: '#34d399' }, /* Emerald */
                        secondary: { DEFAULT: '#0ea5e9', hover: '#0284c7' }, /* Sky */
                        bg: { light: '#f0fdf4', dark: '#0f172a' },
                        surface: { light: '#ffffff', dark: '#1e293b' }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(5, 150, 105, 0.3)',
                        'card': '0 10px 30px -5px rgba(0, 0, 0, 0.1)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .scrollbar-hide::-webkit-scrollbar { display: none; }
            .glass {
                @apply bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl border border-white/20 dark:border-slate-700/50 shadow-card;
            }
            .glass-strong {
                @apply bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-emerald-100 dark:border-slate-700 shadow-xl;
            }
            .input-field {
                @apply w-full px-4 py-3.5 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900/50 text-slate-800 dark:text-white focus:ring-4 focus:ring-primary/10 focus:border-primary outline-none transition-all text-lg font-mono placeholder:text-slate-400 font-medium;
            }
            .btn-primary {
                @apply bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold py-3.5 px-6 rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/40 transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 text-base;
            }
            .btn-secondary {
                @apply bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 font-medium py-3.5 px-6 rounded-xl transition-all text-base active:scale-[0.98];
            }
            .chip-btn {
                @apply px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 text-sm font-bold cursor-pointer hover:border-emerald-400 hover:text-emerald-600 transition-all flex-1 text-center shadow-sm;
            }
            .chip-btn.active {
                @apply bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-700 dark:text-emerald-400 ring-2 ring-emerald-500/20 shadow-md;
            }
            .mode-switch {
                @apply flex p-1.5 bg-slate-100 dark:bg-slate-900/80 rounded-2xl mb-6 shadow-inner;
            }
            .mode-btn {
                @apply flex-1 py-2.5 text-sm font-bold rounded-xl transition-all text-center text-slate-500 dark:text-slate-400 cursor-pointer flex items-center justify-center gap-2;
            }
            .mode-btn.active {
                @apply bg-white dark:bg-slate-700 text-emerald-600 dark:text-emerald-400 shadow-sm ring-1 ring-black/5 dark:ring-white/5;
            }
            .section-title {
                @apply text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-3 pb-4 border-b border-slate-100 dark:border-slate-700/50;
            }
            .promo-heading {
                @apply text-lg font-bold text-slate-800 dark:text-white mt-6 mb-3 flex items-center gap-2;
            }
            .promo-list {
                @apply list-none space-y-2 text-sm text-slate-600 dark:text-slate-300;
            }
            .promo-list li {
                @apply flex items-start gap-2;
            }
            .promo-list li::before {
                content: "â€¢";
                @apply text-emerald-500 font-bold;
            }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-bg-light dark:bg-bg-dark min-h-screen font-sans text-slate-800 dark:text-slate-200 transition-colors duration-300 overflow-x-hidden selection:bg-emerald-200 dark:selection:bg-emerald-900">

    <!-- Ambient Background -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-emerald-300/30 dark:bg-emerald-900/20 rounded-full blur-[120px] mix-blend-multiply dark:mix-blend-screen animate-pulse-slow"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-teal-400/30 dark:bg-teal-900/20 rounded-full blur-[100px] mix-blend-multiply dark:mix-blend-screen" style="animation-delay: 1.5s"></div>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-5xl relative z-10 flex flex-col min-h-screen">
        
        <!-- Header -->
        <header class="flex flex-col md:flex-row items-center justify-between gap-6 mb-10 animate-fade-in">
            <div class="flex items-center gap-4 group cursor-default">
                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white flex items-center justify-center text-2xl shadow-glow transform group-hover:scale-105 transition-transform duration-300 font-serif font-bold tracking-tight">
                    log
                </div>
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold tracking-tight text-slate-900 dark:text-white" data-i18n="title">Log/Antilog Calculator</h1>
                    <p class="text-sm text-slate-500 font-medium mt-1" data-i18n="subtitle">Advanced logarithmic calculation tool</p>
                </div>
            </div>

            <div class="flex items-center gap-3 bg-white/80 dark:bg-slate-800/80 p-2 rounded-2xl border border-white/50 dark:border-slate-700 shadow-sm backdrop-blur-md">
                 <div class="relative">
                     <i class="fa fa-globe absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs"></i>
                     <select id="lang-selector" class="bg-transparent text-sm font-semibold pl-8 pr-4 py-2 rounded-lg focus:outline-none cursor-pointer text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors appearance-none">
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                    </select>
                 </div>
                <div class="w-px h-6 bg-slate-200 dark:bg-slate-600"></div>
                <button id="mode-toggle" class="w-9 h-9 rounded-lg flex items-center justify-center text-slate-500 hover:text-yellow-500 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-all transform hover:rotate-12" aria-label="Toggle Theme">
                    <i class="fa fa-moon-o dark:hidden text-lg"></i>
                    <i class="fa fa-sun-o hidden dark:inline text-lg"></i>
                </button>
            </div>
        </header>

        <!-- Main Tool Area -->
        <div class="grid md:grid-cols-2 gap-8 mb-10 animate-slide-up">
            
            <!-- Input Section -->
            <div class="glass-strong rounded-3xl p-8 flex flex-col justify-center relative overflow-hidden group">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500"></div>
                
                <!-- Mode Switch -->
                <div class="mode-switch">
                    <div class="mode-btn active" id="mode-log" onclick="App.setMode('log')">
                        <i class="fa fa-superscript"></i> <span data-i18n="mode_log">Logarithm</span>
                    </div>
                    <div class="mode-btn" id="mode-antilog" onclick="App.setMode('antilog')">
                        <i class="fa fa-undo"></i> <span data-i18n="mode_antilog">Antilogarithm</span>
                    </div>
                </div>

                <div class="space-y-7">
                    <!-- Base Selection -->
                    <div>
                        <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-3 uppercase tracking-wider" data-i18n="lbl_base">Base (a)</label>
                        <div class="flex gap-3 mb-3">
                            <button class="chip-btn" onclick="App.setBase('e')" id="btn-base-e">e</button>
                            <button class="chip-btn active" onclick="App.setBase('10')" id="btn-base-10">10</button>
                            <button class="chip-btn" onclick="App.setBase('2')" id="btn-base-2">2</button>
                            <button class="chip-btn" onclick="App.setBase('custom')" id="btn-base-custom" data-i18n="btn_custom">Custom</button>
                        </div>
                        <div id="custom-base-wrapper" class="hidden animate-fade-in">
                            <input type="number" id="input-base-custom" class="input-field text-sm h-11" placeholder="Enter base value (e.g. 5)" oninput="App.calculate()">
                        </div>
                    </div>

                    <!-- Main Input -->
                    <div>
                        <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-3 uppercase tracking-wider" id="lbl-input-main">Argument (x)</label>
                        <div class="relative group/input">
                            <input type="number" id="input-val" class="input-field pl-5 pr-12" placeholder="Enter number..." oninput="App.calculate()">
                            <!-- Dynamic Symbol -->
                            <div class="absolute right-5 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none font-serif italic text-xl transition-colors group-focus-within/input:text-emerald-500" id="input-symbol">x</div>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="grid grid-cols-2 gap-4 pt-2">
                        <button onclick="App.calculate()" class="btn-primary">
                            <i class="fa fa-calculator"></i> <span data-i18n="btn_calc">Calculate</span>
                        </button>
                        <button onclick="App.clearInput()" class="btn-secondary text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 group/clear">
                            <i class="fa fa-trash-o group-hover/clear:rotate-12 transition-transform"></i> <span data-i18n="btn_clear">Clear</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Result Section -->
            <div class="glass-strong rounded-3xl p-8 flex flex-col justify-center items-center text-center relative overflow-hidden transition-all duration-300 border-t-0">
                <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-teal-400 to-cyan-500"></div>
                <div class="absolute -right-8 -top-8 text-[12rem] text-slate-100 dark:text-slate-800/50 opacity-50 rotate-12 pointer-events-none select-none font-serif">
                    f
                </div>
                
                <label class="block text-xs font-bold text-slate-500 dark:text-slate-400 mb-8 uppercase tracking-wider z-10" id="lbl-result">Result (n)</label>
                
                <div class="relative z-10 w-full py-2 mb-4 group cursor-pointer" onclick="App.copyResult()" title="Click to copy">
                    <div id="result-val" class="text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-300 font-mono break-all leading-tight min-h-[1.2em] tracking-tighter selection:bg-transparent transition-transform duration-200 group-hover:scale-105 group-active:scale-95">
                        -
                    </div>
                    <div class="absolute -bottom-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-emerald-500 font-medium pointer-events-none flex items-center gap-1">
                        <i class="fa fa-clone"></i> <span data-i18n="msg_copy">Click to Copy</span>
                    </div>
                    <div id="copy-feedback" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-4 py-2 rounded-lg text-sm font-bold opacity-0 transition-opacity pointer-events-none">Copied!</div>
                </div>
                
                <!-- Dynamic Formula Display -->
                <div class="bg-slate-50 dark:bg-slate-900/50 px-6 py-4 rounded-2xl border border-slate-100 dark:border-slate-700/50 mt-6 z-10 w-full max-w-sm shadow-inner mx-auto">
                    <div id="calc-formula" class="text-lg font-mono text-slate-600 dark:text-slate-300 overflow-x-auto whitespace-nowrap scrollbar-hide">
                        <span class="opacity-40 italic" data-i18n="msg_waiting">Waiting for input...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Description Section (About Logarithms) -->
        <section class="glass rounded-3xl p-8 md:p-10 shadow-lg mb-8 animate-slide-up" style="animation-delay: 0.1s;">
            <h2 class="section-title">
                <i class="lucide-book-open text-emerald-500"></i> <span data-i18n="desc_title">About Logarithms</span>
            </h2>
            
            <div class="prose dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 space-y-8 leading-relaxed">
                <!-- Definition -->
                <div class="bg-emerald-50/50 dark:bg-emerald-900/10 border-l-4 border-emerald-500 pl-6 py-2 rounded-r-xl">
                    <h3 class="font-bold text-emerald-900 dark:text-emerald-100 mb-3 text-sm uppercase tracking-wide" data-i18n="def_title">Definition</h3>
                    <p data-i18n="def_text" class="text-base text-emerald-800 dark:text-emerald-200/90">
                        If $a$ raised to the power of $n$ equals $x$ ($a>0$, and $a \ne 1$), then $n$ is called the <strong>logarithm</strong> of $x$ to base $a$, written as $n = \log_a x$.
                    </p>
                    <ul class="flex flex-wrap gap-4 text-xs mt-4 text-emerald-700 dark:text-emerald-400 font-mono bg-white/50 dark:bg-black/20 w-fit px-4 py-2 rounded-lg">
                        <li class="flex items-center gap-1"><span class="font-bold">a</span> : Base</li>
                        <li class="flex items-center gap-1"><span class="font-bold">x</span> : Argument</li>
                        <li class="flex items-center gap-1"><span class="font-bold">n</span> : Exponent</li>
                    </ul>
                </div>

                <!-- Special Logs -->
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="group hover:bg-white dark:hover:bg-slate-800/50 p-4 rounded-xl transition-colors border border-transparent hover:border-slate-100 dark:hover:border-slate-700">
                        <h4 class="font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2" data-i18n="term_common">
                            <span class="w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center text-xs font-mono">lg</span>
                            Common Logarithm
                        </h4>
                        <p class="text-sm text-slate-500 dark:text-slate-400" data-i18n="desc_common">
                            Logarithm with base 10, denoted as <strong>lg</strong> or $\log_{10}$. Widely used in science and engineering (e.g., pH, Decibels, Richter scale).
                        </p>
                    </div>
                    <div class="group hover:bg-white dark:hover:bg-slate-800/50 p-4 rounded-xl transition-colors border border-transparent hover:border-slate-100 dark:hover:border-slate-700">
                        <h4 class="font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2" data-i18n="term_natural">
                            <span class="w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center text-xs font-mono">ln</span>
                            Natural Logarithm
                        </h4>
                        <p class="text-sm text-slate-500 dark:text-slate-400" data-i18n="desc_natural">
                            Logarithm with base $e$ ($e \approx 2.718...$), denoted as <strong>ln</strong> or $\log_e$. Fundamental in calculus, compound interest, and growth models.
                        </p>
                    </div>
                </div>

                <p class="text-sm text-slate-500 border-t border-slate-200 dark:border-slate-700/50 pt-6 flex items-start gap-2" data-i18n="note_zero">
                    <i class="lucide-alert-circle text-orange-400 mt-0.5"></i>
                    <span><strong>Note:</strong> Logarithms of zero are undefined ($\log_a 0 \to -\infty$), and logarithms of negative numbers are undefined in the real number system.</span>
                </p>
            </div>
        </section>

        <!-- FAQ & User Guide -->
        <section class="glass rounded-3xl p-8 md:p-10 shadow-lg mb-8 animate-slide-up border-t-4 border-t-secondary" style="animation-delay: 0.2s;">
            <h2 class="section-title">
                <i class="lucide-help-circle text-secondary"></i> <span data-i18n="faq_title">FAQ & Guide</span>
            </h2>

            <div class="grid md:grid-cols-2 gap-8 text-slate-600 dark:text-slate-300">
                <!-- Q1 -->
                <div class="space-y-2">
                    <h3 class="font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2">
                        <span class="text-secondary opacity-70">Q.</span> <span data-i18n="faq_q1">How do I calculate log with a custom base?</span>
                    </h3>
                    <p class="text-sm leading-relaxed text-slate-500 dark:text-slate-400" data-i18n="faq_a1">
                        Select "Custom" (or "å…¶å®ƒ") in the Base options. An additional input box will appear. Enter your desired base (e.g., 5) there, then enter the value in the main input field.
                    </p>
                </div>
                <!-- Q2 -->
                <div class="space-y-2">
                    <h3 class="font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2">
                        <span class="text-secondary opacity-70">Q.</span> <span data-i18n="faq_q2">Why do I get "NaN" or "Error"?</span>
                    </h3>
                    <p class="text-sm leading-relaxed text-slate-500 dark:text-slate-400" data-i18n="faq_a2">
                        Logarithms are only defined for positive arguments ($x > 0$) and positive bases ($a > 0, a \ne 1$). If you enter a negative number or zero, the result is undefined in real numbers.
                    </p>
                </div>
                <!-- Q3 -->
                <div class="space-y-2">
                    <h3 class="font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2">
                        <span class="text-secondary opacity-70">Q.</span> <span data-i18n="faq_q3">What is the calculation accuracy?</span>
                    </h3>
                    <p class="text-sm leading-relaxed text-slate-500 dark:text-slate-400" data-i18n="faq_a3">
                        This tool uses standard double-precision floating-point arithmetic (IEEE 754). Results are precise up to approximately 15-17 decimal digits. We display up to 8 decimal places for readability.
                    </p>
                </div>
                <!-- Q4 -->
                <div class="space-y-2">
                    <h3 class="font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2">
                        <span class="text-secondary opacity-70">Q.</span> <span data-i18n="faq_q4">Difference between Log and Antilog?</span>
                    </h3>
                    <p class="text-sm leading-relaxed text-slate-500 dark:text-slate-400" data-i18n="faq_a4">
                        <strong>Log</strong> finds the exponent (what power creates this number?). <strong>Antilog</strong> reverses this (calculating the base raised to a power). For example, $\log_{10}(100) = 2$, and antilog of 2 (base 10) is $10^2 = 100$.
                    </p>
                </div>
            </div>
        </section>

        <!-- New Promotional Section (Bilingual Support) -->
        <section id="promo-section" class="glass rounded-3xl p-8 md:p-10 shadow-lg mb-12 animate-slide-up" style="animation-delay: 0.3s;">
            <!-- English Content (Default for SSR) -->
            <div id="promo-en">
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6">
                    ğŸš€ Math Nerds Rejoice! This Log/Antilog Calculator Slaps â€“ Even Newbies Can Crush It âœ¨
                </h2>
                <div class="prose dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 leading-relaxed">
                    <p class="mb-4">Yâ€™all know that pain when calc or engineering problems hit you with log math and youâ€™re over here fumbling with formulas? ğŸ˜­ Enter this chefâ€™s kiss tool: the Log/Antilog Calculator. Whether itâ€™s common logs, natural logs, or random bases, plug in a number and boom â€“ instant results. No more flipping through textbooks like a maniac ğŸ“š</p>
                    
                    <h3 class="promo-heading">ğŸ§  Quick 30-Second Crash Course (No Confusion Guaranteed)</h3>
                    <ul class="promo-list">
                        <li><strong>Whatâ€™s a log, anyway?</strong> If a<sup>n</sup> = x (a>0, aâ‰ 1), then n is the log base a of x (n = log<sub>a</sub> x). Itâ€™s just the <em>reverse of exponents</em> â€“ easy peasy.</li>
                        <li><strong>3 go-to use cases:</strong>
                            <br>âœ… Common log (lg/logâ‚â‚€): Base 10 â€“ engineers swear by this for decibels/scientific notation.
                            <br>âœ… Natural log (ln/logâ‚‘): Base e (~2.71828) â€“ calc nerds and finance folks use this for compound interest.
                            <br>âœ… Any base: Wanna use 2 or some random number? The toolâ€™s got you.</li>
                        <li><strong>Pro tip:</strong> 0 and negatives donâ€™t have logs (real numbers only)! Donâ€™t waste time typing those â€“ it wonâ€™t work âŒ</li>
                    </ul>

                    <h3 class="promo-heading">ğŸ“± 3-Step Playbook (Literally So Easy)</h3>
                    <ol class="list-decimal list-inside space-y-2 text-sm text-slate-600 dark:text-slate-300">
                        <li><strong>Hit the link:</strong> ğŸ‘‰ <a href="https://toolboxpro.top/modules/math/log-antilog-calculator?lang=zh-CN" class="text-emerald-500 hover:underline">Log Calculator Pro</a></li>
                        <li><strong>Pick your base:</strong> Tap â€œe/10/2/Otherâ€ â€“ like, use e for compound interest, duh.</li>
                        <li><strong>Plug in your number:</strong> Type a positive value (100, 2.5, whatever).</li>
                        <li><strong>Grab the result:</strong> It pops up automatically â€“ copy-paste to homework/reports. Zero hassle, 100% accuracy.</li>
                    </ol>

                    <h3 class="promo-heading">ğŸ¯ Who This Is For (Spoiler: Probably You)</h3>
                    <ul class="promo-list">
                        <li><strong>Students:</strong> Skip hand-calculating logs for math/physics homework â€“ no more dumb arithmetic errors.</li>
                        <li><strong>Engineers:</strong> Convert decibels/scientific notation in 2 secs â€“ less overtime, more chill.</li>
                        <li><strong>Finance bros:</strong> Crunch compound interest with natural logs â€“ figure out gains fast.</li>
                        <li><strong>Exam grinders:</strong> Save time on calc practice problems â€“ focus on the hard stuff, not busywork.</li>
                    </ul>

                    <h3 class="promo-heading">âœ¨ Why This Tool Slaps Harder Than Others</h3>
                    <ul class="promo-list">
                        <li>âœ… <strong>No fluff:</strong> No sign-ups, no downloads â€“ open it and go. Works on phone/laptop.</li>
                        <li>âœ… <strong>Dead accurate:</strong> No human error â€“ good enough for school/real jobs (itâ€™s data-backed, trust).</li>
                        <li>âœ… <strong>Ad-free:</strong> Zero pop-ups â€“ just pure, uninterrupted calculating bliss.</li>
                        <li>âœ… <strong>All-in-one:</strong> Covers common/any bases â€“ no switching between 5 different tools.</li>
                    </ul>

                    <h3 class="promo-heading">â“ FAQs (For The Confused Newbies)</h3>
                    <div class="space-y-3 text-sm">
                        <p><strong>Q: Whyâ€™s there no result when I type a number?</strong><br>A: Did you use 0 or a negative? Swap it for a positive â€“ logs hate non-positives.</p>
                        <p><strong>Q: Can I calculate antilogs?</strong><br>A: Antilogs are just exponents â€“ reverse the math. The toolâ€™s adding direct antilog support later, though.</p>
                        <p><strong>Q: Does this work on my phone?</strong><br>A: 100% â€“ itâ€™s mobile-friendly, so you can calculate on the go.</p>
                    </div>

                    <p class="mt-6 text-sm italic border-t border-slate-200 dark:border-slate-700 pt-4">
                        When log math hits, this toolâ€™s your new ride-or-die. Saves time, avoids headaches, and makes you look like a math genius (even if youâ€™re winging it). Save the link â€“ youâ€™ll thank me later. Share it with your homies so yâ€™all can skip the log struggle together ğŸš€
                    </p>
                    <div class="flex gap-2 mt-4 flex-wrap text-xs font-mono text-emerald-600 dark:text-emerald-400">
                        <span>#MathTool</span> <span>#StudyHacks</span> <span>#EngineeringEssentials</span> <span>#LogCalculator</span> <span>#ProductivityHacks</span>
                    </div>
                </div>
            </div>

            <!-- Chinese Content (Hidden by default, shown via JS) -->
            <div id="promo-zh" class="hidden">
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6">
                    ğŸ”¥ æ•°å­¦å…šç‹‚å–œï¼å¯¹æ•°åå¯¹æ•°è®¡ç®—å™¨ä¸€é”®å°ç¥âœ¨ å°ç™½ä¹Ÿèƒ½ç§’æ‡‚æ“ä½œï½
                </h2>
                <div class="prose dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 leading-relaxed">
                    <p class="mb-4">è°æ‡‚å•Šå®¶äººä»¬ï¼å­¦å¾®ç§¯åˆ†ã€åšå·¥ç¨‹é¢˜æ—¶è¢«å¯¹æ•°è¿ç®—è™åˆ°å´©æºƒğŸ˜« ç›´åˆ°æŒ–åˆ°è¿™ä¸ªå®è—å·¥å…·â€”â€”å¯¹æ•°/åå¯¹æ•°è®¡ç®—å™¨ï¼Œä¸ç®¡æ˜¯å¸¸ç”¨å¯¹æ•°ã€è‡ªç„¶å¯¹æ•°è¿˜æ˜¯ä»»æ„åº•æ•°ï¼Œè¾“å…¥æ•°å€¼ç›´æ¥å‡ºç»“æœï¼Œå†ä¹Ÿä¸ç”¨ç¿»å…¬å¼æœ¬æ­»ç£•å•¦ï¼ğŸ“š</p>
                    
                    <h3 class="promo-heading">ğŸ” å…ˆææ‡‚æ ¸å¿ƒæ¦‚å¿µï¼30ç§’å…¥é—¨ä¸æ‡µåœˆ</h3>
                    <ul class="promo-list">
                        <li><strong>å¯¹æ•°å®šä¹‰ï¼š</strong>å¦‚æœ a çš„ n æ¬¡æ–¹ç­‰äº xï¼ˆa>0 ä¸” aâ‰ 1ï¼‰ï¼Œé‚£ n å°±æ˜¯ä»¥ a ä¸ºåº• x çš„å¯¹æ•°ï¼Œè®°ä½œ n=logâ‚xï½ ç®€å•è¯´å°±æ˜¯â€œæ±‚æŒ‡æ•°çš„é€†è¿ç®—â€å‘€ï¼</li>
                        <li><strong>3ç§å¸¸ç”¨åœºæ™¯ï¼š</strong>
                            <br>âœ… å¸¸ç”¨å¯¹æ•°ï¼ˆlg/logâ‚â‚€ï¼‰ï¼šä»¥ 10 ä¸ºåº•ï¼Œå·¥ç¨‹å…šåšåˆ†è´ã€ç§‘å­¦è®¡æ•°æ³•å¿…ç”¨ï¼
                            <br>âœ… è‡ªç„¶å¯¹æ•°ï¼ˆln/logâ‚‘ï¼‰ï¼šä»¥ eâ‰ˆ2.71828 ä¸ºåº•ï¼Œå¾®ç§¯åˆ†ã€å¤åˆ©è®¡ç®—ç›´æ¥å†²ï½
                            <br>âœ… ä»»æ„åº•æ•°ï¼šæƒ³é€‰ 2 æˆ–å…¶ä»–æ•°å­—å½“åº•æ•°ï¼Ÿæ²¡é—®é¢˜ï¼å·¥å…·éƒ½æ”¯æŒï½</li>
                        <li><strong>é¿å‘æé†’ï¼š</strong>0 å’Œè´Ÿæ•°æ²¡æœ‰å¯¹æ•°å“¦ï¼å®æ•°èŒƒå›´å†…åˆ«çè¾“ï¼Œä¸ç„¶å‡ºä¸æ¥ç»“æœå‘€âŒ</li>
                    </ul>

                    <h3 class="promo-heading">ğŸ“± è¶…ç®€å•æ“ä½œæŒ‡å—ï¼3æ­¥æå®šè¿ç®—</h3>
                    <ol class="list-decimal list-inside space-y-2 text-sm text-slate-600 dark:text-slate-300">
                        <li><strong>æ‰“å¼€å·¥å…·ï¼š</strong>ç›´æ¥æˆ³é“¾æ¥ğŸ‘‰ <a href="https://toolboxpro.top/modules/math/log-antilog-calculator?lang=zh-CN" class="text-emerald-500 hover:underline">Log Calculator Pro</a></li>
                        <li><strong>é€‰åº•æ•°ï¼š</strong>ç‚¹å‡»â€œe/10/2/å…¶å®ƒâ€ï¼ŒæŒ‰éœ€é€‰æ‹©å¯¹åº”çš„åº•æ•°ï¼ˆæ¯”å¦‚ç®—å¤åˆ©å°±é€‰ eï¼ï¼‰</li>
                        <li><strong>è¾“çœŸæ•°ï¼š</strong>æŠŠè¦è®¡ç®—çš„æ•°å€¼ x å¡«è¿›å»ï¼ˆæ¯”å¦‚ 100ã€2.5 è¿™äº›æ­£æ•°ï¼‰</li>
                        <li><strong>ç­‰ç»“æœï¼š</strong>è‡ªåŠ¨ç”Ÿæˆå¯¹æ•° nï¼Œå¤åˆ¶ç²˜è´´åˆ°ä½œä¸š/æŠ¥è¡¨é‡Œå°±è¡Œï¼Œçœæ—¶åˆç²¾å‡†ï½</li>
                    </ol>

                    <h3 class="promo-heading">ğŸ’¥ ä¸åŒäººç¾¤é€‚ç”¨åœºæ™¯ï¼çœ‹çœ‹ä½ å±äºå“ªç±»</h3>
                    <ul class="promo-list">
                        <li><strong>å­¦ç”Ÿå…šï¼š</strong>åšæ•°å­¦ä½œä¸šã€ç‰©ç†é¢˜ï¼Œå¯¹æ•°è¿ç®—ä¸ç”¨æ‰‹ç®—ï¼Œé¿å…ç®—é”™æ‰£åˆ†ï¼</li>
                        <li><strong>å·¥ç¨‹äººï¼š</strong>åˆ†è´è®¡ç®—ã€ç§‘å­¦è®¡æ•°æ³•è½¬æ¢ï¼Œæ•ˆç‡ç¿»å€ï¼ŒåŠ ç­éƒ½å˜å°‘å•¦ï½</li>
                        <li><strong>é‡‘èerï¼š</strong>å¤åˆ©è®¡ç®—ç”¨è‡ªç„¶å¯¹æ•°ï¼Œå¿«é€Ÿç®—æ¸…æ”¶ç›Šï¼Œç†è´¢è§„åˆ’ä¸å¤´ç–¼ï¼</li>
                        <li><strong>è€ƒç ”å…šï¼š</strong>å¾®ç§¯åˆ†åˆ·é¢˜æ—¶ï¼Œå¤æ‚å¯¹æ•°ç›´æ¥å¥—å·¥å…·ï¼ŒèŠ‚çœåšé¢˜æ—¶é—´ï½</li>
                    </ul>

                    <h3 class="promo-heading">âœ¨ ä¸ºä»€ä¹ˆé€‰è¿™ä¸ªå·¥å…·ï¼Ÿ4å¤§ä¼˜åŠ¿ç¢¾å‹å…¶ä»–</h3>
                    <ul class="promo-list">
                        <li>âœ… <strong>æ“ä½œæç®€ï¼š</strong>ä¸ç”¨æ³¨å†Œç™»å½•ï¼Œæ‰“å¼€å°±èƒ½ç”¨ï¼Œæ‰‹æœºç”µè„‘éƒ½é€‚é…ï½</li>
                        <li>âœ… <strong>ç»“æœç²¾å‡†ï¼š</strong>ä¸ä¼šå‡ºç°æ‰‹ç®—è¯¯å·®ï¼Œå­¦æœ¯/å·¥ä½œç”¨éƒ½é è°±ï¼Œæœ‰æ•°æ®æ”¯æ’‘ï¼</li>
                        <li>âœ… <strong>å…è´¹æ— å¹¿å‘Šï¼š</strong>æ²¡æœ‰å¼¹çª—æ‰“æ‰°ï¼Œæ²‰æµ¸å¼è®¡ç®—è¶…çˆ½ï½</li>
                        <li>âœ… <strong>é€‚é…å¤šåœºæ™¯ï¼š</strong>å¸¸ç”¨åº•æ•°+ä»»æ„åº•æ•°å…¨è¦†ç›–ï¼Œä¸ç”¨æ¢å¤šä¸ªå·¥å…·åˆ‡æ¢ï½</li>
                    </ul>

                    <h3 class="promo-heading">â“ å¸¸è§ç–‘é—®è§£ç­”ï¼æ–°æ‰‹å¿…çœ‹</h3>
                    <div class="space-y-3 text-sm">
                        <p><strong>Qï¼šè¾“å…¥æ•°å­—åæ²¡ç»“æœï¼Ÿ</strong><br>Aï¼šæ£€æŸ¥æ˜¯ä¸æ˜¯è¾“äº† 0 æˆ–è´Ÿæ•°ï¼æ¢ä¸ªæ­£æ•°å†è¯•è¯•ï½</p>
                        <p><strong>Qï¼šæƒ³ç®—åå¯¹æ•°æ€ä¹ˆåŠï¼Ÿ</strong><br>Aï¼šæœ¬è´¨æ˜¯æŒ‡æ•°è¿ç®—ï¼Œåå‘æ¨å¯¼å°±è¡Œï¼Œå·¥å…·åç»­ä¹Ÿä¼šæ›´æ–°ç›´æ¥è®¡ç®—åŠŸèƒ½å“¦ï½</p>
                        <p><strong>Qï¼šæ‰‹æœºä¸Šèƒ½ç”¨å—ï¼Ÿ</strong><br>Aï¼šå®Œå…¨å¯ä»¥ï¼é¡µé¢ç§»åŠ¨é€‚é…è¶…æ£’ï¼Œå°å±ä¹Ÿèƒ½æ¸…æ™°æ“ä½œï½</p>
                    </div>

                    <p class="mt-6 text-sm italic border-t border-slate-200 dark:border-slate-700 pt-4">
                        ä¸ç®¡æ˜¯å­¦ä¹ è¿˜æ˜¯å·¥ä½œï¼Œé‡åˆ°å¯¹æ•°è¿ç®—ç›´æ¥å†²è¿™ä¸ªå·¥å…·å°±å¯¹å•¦ï¼çœæ—¶çœåŠ›è¿˜ç²¾å‡†ï¼Œæ•°å­¦å°ç™½ä¹Ÿèƒ½ç§’å˜å¤§ç¥ï½ èµ¶ç´§æ”¶è—é“¾æ¥ï¼Œä¸‹æ¬¡ç”¨çš„æ—¶å€™ç›´æ¥æ‰¾ï¼è§‰å¾—æœ‰ç”¨å°±åˆ†äº«ç»™åŒå­¦/åŒäº‹ï¼Œä¸€èµ·å‘Šåˆ«è¿ç®—çƒ¦æ¼å‘€ğŸŒŸ
                    </p>
                    <div class="flex gap-2 mt-4 flex-wrap text-xs font-mono text-emerald-600 dark:text-emerald-400">
                        <span>#æ•°å­¦å·¥å…·</span> <span>#å­¦ä¹ ç¥å™¨</span> <span>#å·¥ç¨‹å¿…å¤‡</span> <span>#å¯¹æ•°è®¡ç®—å™¨</span> <span>#å­¦ç”Ÿå…šå¥½ç‰©</span> <span>#æ•ˆç‡å·¥å…·</span>
                    </div>
                </div>
            </div>
        </section>
        
        <footer class="text-center text-xs text-slate-400 py-8 mt-auto border-t border-slate-200/50 dark:border-slate-800">
            <p>&copy; <span id="year"></span> Log Calculator Pro. Generated for Educational Purposes.</p>
        </footer>
    </div>

    <!-- Lucide Icons Init -->
    <script>
        lucide.createIcons();
    </script>

    <script>
        // --- Localization Data ---
        // Enhanced SSR: Keys map to the default English content (so if JS fails, English remains).
        // zh-CN keys provide the translation.
        const i18nData = {
            'zh-CN': {
                title: "å¯¹æ•°/åå¯¹æ•°è®¡ç®—å™¨", subtitle: "ä¸“ä¸šçº§ä»»æ„åº•æ•°å¯¹æ•°è¿ç®—å·¥å…·",
                mode_log: "å¯¹æ•° (Logarithm)", mode_antilog: "åå¯¹æ•° (Antilog)",
                lbl_base: "åº•æ•° (Base a)", btn_custom: "å…¶å®ƒ",
                lbl_input_log: "çœŸæ•° (Value x)", lbl_input_antilog: "æŒ‡æ•° (Exponent n)",
                btn_calc: "è®¡ç®—", btn_clear: "æ¸…é™¤",
                lbl_result: "è®¡ç®—ç»“æœï¼š",
                msg_waiting: "ç­‰å¾…è¾“å…¥...", msg_error: "æ— æ•ˆè¾“å…¥", msg_copy: "ç‚¹å‡»å¤åˆ¶",
                desc_title: "å…³äºå¯¹æ•°",
                def_title: "å®šä¹‰",
                def_text: "å¦‚æœ a çš„ n æ¬¡æ–¹ç­‰äº x (a>0ï¼Œä¸” aâ‰ 1)ï¼Œé‚£ä¹ˆæ•° n å«åšä»¥ a ä¸ºåº• x çš„å¯¹æ•° (logarithm)ï¼Œè®°ä½œ n = logâ‚ xã€‚",
                term_common: "å¸¸ç”¨å¯¹æ•° (Common Logarithm)",
                desc_common: "ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ï¼Œè®°ä½œ lg æˆ– logâ‚â‚€ã€‚å¹¿æ³›åº”ç”¨äºç§‘å­¦ä¸å·¥ç¨‹é¢†åŸŸï¼ˆå¦‚ pH å€¼ã€åˆ†è´ã€é‡Œæ°éœ‡çº§ï¼‰ã€‚",
                term_natural: "è‡ªç„¶å¯¹æ•° (Natural Logarithm)",
                desc_natural: "ä»¥æ— ç†æ•° e (e â‰ˆ 2.718...) ä¸ºåº•çš„å¯¹æ•°ï¼Œè®°ä½œ ln æˆ– logâ‚‘ã€‚æ˜¯å¾®ç§¯åˆ†ã€å¤åˆ©è®¡ç®—åŠå¢é•¿æ¨¡å‹çš„åŸºç¡€ã€‚",
                note_zero: "æ³¨æ„ï¼šé›¶æ²¡æœ‰å¯¹æ•°ï¼ˆlog 0 è¶‹å‘ -âˆï¼‰ï¼Œè´Ÿæ•°åœ¨å®æ•°èŒƒå›´å†…ä¹Ÿæ²¡æœ‰å¯¹æ•°ã€‚",
                // FAQ Translations
                faq_title: "å¸¸è§é—®é¢˜ä¸æŒ‡å—",
                faq_q1: "å¦‚ä½•è®¡ç®—è‡ªå®šä¹‰åº•æ•°çš„å¯¹æ•°ï¼Ÿ",
                faq_a1: "åœ¨åº•æ•°é€‰é¡¹ä¸­é€‰æ‹©â€œå…¶å®ƒâ€(Custom)ã€‚å°†ä¼šå‡ºç°ä¸€ä¸ªæ–°çš„è¾“å…¥æ¡†ã€‚åœ¨æ­¤è¾“å…¥æ‚¨æƒ³è¦çš„åº•æ•°ï¼ˆä¾‹å¦‚ 5ï¼‰ï¼Œç„¶ååœ¨ä¸»è¾“å…¥æ¡†ä¸­è¾“å…¥æ•°å€¼å³å¯ã€‚",
                faq_q2: "ä¸ºä»€ä¹ˆæ˜¾ç¤º â€œNaNâ€ æˆ– â€œErrorâ€ï¼Ÿ",
                faq_a2: "å¯¹æ•°çš„å®šä¹‰åŸŸè¦æ±‚çœŸæ•°å¤§äº 0 ($x > 0$) ä¸”åº•æ•°å¤§äº 0 ä¸”ä¸ç­‰äº 1ã€‚å¦‚æœæ‚¨è¾“å…¥äº†è´Ÿæ•°æˆ–é›¶ï¼Œç»“æœåœ¨å®æ•°èŒƒå›´å†…æ˜¯æœªå®šä¹‰çš„ã€‚",
                faq_q3: "è®¡ç®—ç²¾åº¦æ˜¯å¤šå°‘ï¼Ÿ",
                faq_a3: "æœ¬å·¥å…·ä½¿ç”¨æ ‡å‡†åŒç²¾åº¦æµ®ç‚¹è¿ç®— (IEEE 754)ã€‚ç»“æœç²¾åº¦çº¦ä¸º 15-17 ä½æœ‰æ•ˆæ•°å­—ã€‚ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œæˆ‘ä»¬æ˜¾ç¤ºæœ€å¤š 8 ä½å°æ•°ã€‚",
                faq_q4: "å¯¹æ•°å’Œåå¯¹æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",
                faq_a4: "<strong>å¯¹æ•°</strong>ç”¨äºå¯»æ‰¾æŒ‡æ•°ï¼ˆå³ï¼šåº•æ•°çš„å¤šå°‘æ¬¡æ–¹ç­‰äºè¯¥æ•°ï¼Ÿï¼‰ã€‚<strong>åå¯¹æ•°</strong>æ˜¯å…¶é€†è¿ç®—ï¼ˆè®¡ç®—åº•æ•°çš„æŸæ¬¡æ–¹ï¼‰ã€‚ä¾‹å¦‚ï¼šlogâ‚â‚€(100) = 2ï¼Œè€Œ 2 çš„åå¯¹æ•°ï¼ˆåº•æ•° 10ï¼‰æ˜¯ 10Â² = 100ã€‚"
            },
            'en': {
                title: "Log/Antilog Calculator", subtitle: "Advanced logarithmic calculation tool",
                mode_log: "Logarithm", mode_antilog: "Antilogarithm",
                lbl_base: "Base (a)", btn_custom: "Custom",
                lbl_input_log: "Argument (x)", lbl_input_antilog: "Exponent (n)",
                btn_calc: "Calculate", btn_clear: "Clear",
                lbl_result: "Result (n)",
                msg_waiting: "Waiting for input...", msg_error: "Invalid Input", msg_copy: "Click to Copy",
                desc_title: "About Logarithms",
                def_title: "Definition",
                def_text: "If a raised to the power of n equals x (a>0, and aâ‰ 1), then n is called the logarithm of x to base a, written as n = logâ‚ x.",
                term_common: "Common Logarithm",
                desc_common: "Logarithm with base 10, denoted as lg or logâ‚â‚€. Widely used in science and engineering (e.g., pH, Decibels, Richter scale).",
                term_natural: "Natural Logarithm",
                desc_natural: "Logarithm with base e (e â‰ˆ 2.718...), denoted as ln or logâ‚‘. Fundamental in calculus, compound interest, and growth models.",
                note_zero: "Note: Logarithms of zero are undefined (log 0 â†’ -âˆ), and logarithms of negative numbers are undefined in the real number system.",
                // FAQ
                faq_title: "FAQ & Guide",
                faq_q1: "How do I calculate log with a custom base?",
                faq_a1: "Select \"Custom\" in the Base options. An additional input box will appear. Enter your desired base (e.g., 5) there, then enter the value in the main input field.",
                faq_q2: "Why do I get \"NaN\" or \"Error\"?",
                faq_a2: "Logarithms are only defined for positive arguments (x > 0) and positive bases (a > 0, a â‰  1). If you enter a negative number or zero, the result is undefined in real numbers.",
                faq_q3: "What is the calculation accuracy?",
                faq_a3: "This tool uses standard double-precision floating-point arithmetic (IEEE 754). Results are precise up to approximately 15-17 decimal digits. We display up to 8 decimal places for readability.",
                faq_q4: "Difference between Log and Antilog?",
                faq_a4: "<strong>Log</strong> finds the exponent (what power creates this number?). <strong>Antilog</strong> reverses this (calculating the base raised to a power). For example, logâ‚â‚€(100) = 2, and antilog of 2 (base 10) is 10Â² = 100."
            }
        };

        const App = {
            currentLang: 'en', // Default English for SSR compliance
            mode: 'log',
            baseType: '10',
            
            init() {
                const urlParams = new URLSearchParams(window.location.search);
                // Check localstorage or URL, default to 'en' if not found
                this.currentLang = urlParams.get('lang') || localStorage.getItem('lang') || 'en';
                
                const langSelector = document.getElementById('lang-selector');
                if(langSelector) {
                    langSelector.value = this.currentLang;
                    langSelector.addEventListener('change', (e) => {
                        this.currentLang = e.target.value;
                        localStorage.setItem('lang', this.currentLang);
                        this.updateUrl(this.currentLang);
                        this.translateUI(this.currentLang);
                        this.updateLabels();
                        this.calculate();
                    });
                }
                
                // If the URL has no lang param, we don't force push it unless user changes it, 
                // to keep URLs clean, but here we honor the user's intent.
                if (urlParams.has('lang')) {
                    this.translateUI(this.currentLang);
                } else if (this.currentLang === 'zh-CN') {
                    // If localstorage says Chinese, apply it
                    this.translateUI('zh-CN');
                }

                this.updateLabels();
                this.handleTheme();
                this.updateYear();
                
                this.calculate();
            },

            updateUrl(lang) {
                try {
                    const newUrl = new URL(window.location);
                    newUrl.searchParams.set('lang', lang);
                    window.history.pushState({}, '', newUrl);
                } catch (e) { console.log(e); }
            },

            translateUI(lang) {
                const data = i18nData[lang];
                if (!data) return;
                
                document.documentElement.lang = lang;
                
                // Translate standard elements
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(data[key]) el.innerHTML = data[key];
                });

                // Toggle Promo Section based on Language
                const enPromo = document.getElementById('promo-en');
                const zhPromo = document.getElementById('promo-zh');
                if (enPromo && zhPromo) {
                    if (lang === 'zh-CN') {
                        enPromo.classList.add('hidden');
                        zhPromo.classList.remove('hidden');
                    } else {
                        zhPromo.classList.add('hidden');
                        enPromo.classList.remove('hidden');
                    }
                }
            },

            updateYear() {
                document.getElementById('year').textContent = new Date().getFullYear();
            },

            setMode(m) {
                this.mode = m;
                document.getElementById('mode-log').className = `mode-btn ${m === 'log' ? 'active' : ''}`;
                document.getElementById('mode-antilog').className = `mode-btn ${m === 'antilog' ? 'active' : ''}`;
                this.updateLabels();
                this.calculate();
            },

            setBase(b) {
                this.baseType = b;
                ['e', '10', '2', 'custom'].forEach(t => {
                    document.getElementById(`btn-base-${t}`).className = `chip-btn ${b === t ? 'active' : ''}`;
                });
                
                const customWrapper = document.getElementById('custom-base-wrapper');
                if (b === 'custom') {
                    customWrapper.classList.remove('hidden');
                    setTimeout(() => document.getElementById('input-base-custom').focus(), 100);
                } else {
                    customWrapper.classList.add('hidden');
                }
                this.calculate();
            },

            updateLabels() {
                const langData = i18nData[this.currentLang];
                const lblInput = document.getElementById('lbl-input-main');
                const symInput = document.getElementById('input-symbol');
                const lblResult = document.getElementById('lbl-result');

                if (this.mode === 'log') {
                    lblInput.textContent = langData.lbl_input_log;
                    symInput.textContent = 'x';
                    lblResult.textContent = langData.lbl_result || (this.currentLang === 'zh-CN' ? "è®¡ç®—ç»“æœï¼š" : "Result (n)");
                } else {
                    lblInput.textContent = langData.lbl_input_antilog;
                    symInput.textContent = 'n';
                    lblResult.textContent = this.currentLang === 'zh-CN' ? "è®¡ç®—ç»“æœ (x)ï¼š" : "Result (x)";
                }
            },

            calculate() {
                const inputVal = document.getElementById('input-val').value;
                const resultEl = document.getElementById('result-val');
                const formulaEl = document.getElementById('calc-formula');
                
                if (inputVal === '') {
                    resultEl.textContent = '-';
                    formulaEl.innerHTML = `<span class="opacity-40 italic">${i18nData[this.currentLang].msg_waiting}</span>`;
                    return;
                }

                const val = parseFloat(inputVal);
                let base = 10;

                if (this.baseType === 'e') base = Math.E;
                else if (this.baseType === '10') base = 10;
                else if (this.baseType === '2') base = 2;
                else {
                    const customBaseVal = document.getElementById('input-base-custom').value;
                    if (customBaseVal === '') return;
                    base = parseFloat(customBaseVal);
                }

                if (isNaN(base) || base <= 0 || base === 1) {
                    resultEl.innerHTML = `<span class="text-3xl text-red-400">Error</span>`;
                    formulaEl.innerHTML = `<span class="text-red-400 text-sm">Base must be > 0 and â‰  1</span>`;
                    return;
                }

                let result = 0;
                let formulaHtml = '';

                if (this.mode === 'log') {
                    if (val <= 0) {
                        resultEl.innerHTML = `<span class="text-3xl text-red-400">NaN / -âˆ</span>`;
                        formulaEl.innerHTML = `<span class="text-red-400 text-sm">Argument must be > 0</span>`;
                        return;
                    }
                    result = Math.log(val) / Math.log(base);
                    
                    const baseStr = this.baseType === 'e' ? 'e' : parseFloat(base.toFixed(4));
                    const logSymbol = this.baseType === 'e' ? 'ln' : (this.baseType === '10' ? 'lg' : `log<sub>${baseStr}</sub>`);
                    formulaHtml = `${logSymbol}(${val}) = ${this.formatNumber(result)}`;

                } else {
                    result = Math.pow(base, val);
                    const baseStr = this.baseType === 'e' ? 'e' : parseFloat(base.toFixed(4));
                    formulaHtml = `${baseStr}<sup>${val}</sup> = ${this.formatNumber(result)}`;
                }

                resultEl.textContent = this.formatNumber(result);
                formulaEl.innerHTML = formulaHtml;
            },

            formatNumber(num) {
                if (Math.abs(num) < 1e-10 && num !== 0) return '0';
                let s = num.toLocaleString(undefined, {maximumFractionDigits: 8});
                if (Math.abs(num) > 1e12 || (Math.abs(num) < 1e-6 && num !== 0)) {
                    s = num.toPrecision(6).replace('+', '');
                } else if (s.length > 12) {
                    s = parseFloat(num.toFixed(8));
                }
                return s;
            },

            clearInput() {
                document.getElementById('input-val').value = '';
                document.getElementById('input-base-custom').value = '';
                this.calculate();
                document.getElementById('input-val').focus();
            },
            
            async copyResult() {
                const val = document.getElementById('result-val').textContent;
                if (val === '-' || val.includes('Error') || val.includes('NaN')) return;
                
                try {
                    // Try modern API
                    await navigator.clipboard.writeText(val);
                } catch (err) {
                    // Fallback
                    const textArea = document.createElement("textarea");
                    textArea.value = val;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                }
                
                // Feedback animation
                const feedback = document.getElementById('copy-feedback');
                feedback.style.opacity = '1';
                setTimeout(() => feedback.style.opacity = '0', 1500);
            },

            handleTheme() {
                const toggle = document.getElementById('mode-toggle');
                const html = document.documentElement;
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    html.classList.add('dark');
                }
                toggle.addEventListener('click', () => {
                    html.classList.toggle('dark');
                    localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
                });
            }
        };

        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
     <!--  ç»“å°¾å¿…é¡»åŒ…å«çš„ä»£ç  -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>
