<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Category Meta Tag -->
    <meta name="category" content="date-time">
    <meta name="icon" content="ğŸ—¿">
    <meta name="description" content="Maya Calendar Calculator - Convert Gregorian dates to Mayan Long Count, Tzolkin, Haab, and Lord of the Night.">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>ğŸ—¿</text></svg>">
    
    <title>ç›é›…æ—¥å†è®¡ç®—å™¨ | Maya Calendar Calc</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        maya: { 
                            gold: '#d4af37', 
                            stone: '#5d6d7e', 
                            jungle: '#1e5128', 
                            dark: '#1a202c',
                            accent: '#c0392b'
                        },
                        bg: { light: '#fdfbf7', dark: '#0f172a' }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Cinzel', 'serif'], // Ancient looking font
                        mono: ['monospace']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .glass {
                @apply bg-white/90 dark:bg-slate-800/95 backdrop-blur-lg border border-stone-300 dark:border-stone-700;
            }
            .select-field {
                @apply w-full px-4 py-3 rounded-lg border-2 border-stone-200 dark:border-stone-600 bg-stone-50 dark:bg-slate-900 text-stone-700 dark:text-stone-200 focus:ring-2 focus:ring-maya-gold focus:border-maya-gold outline-none transition-all text-lg font-bold text-center appearance-none cursor-pointer;
            }
            .stone-card {
                @apply bg-stone-100 dark:bg-slate-700/50 rounded-xl p-4 border border-stone-200 dark:border-slate-600 flex flex-col items-center justify-center text-center shadow-sm min-h-[140px];
            }
            .stone-label {
                @apply text-xs font-bold text-stone-500 dark:text-stone-400 uppercase tracking-widest mb-1;
            }
            .stone-value {
                @apply text-xl md:text-2xl font-serif font-bold text-maya-jungle dark:text-emerald-400;
            }
            .glyph-icon {
                @apply text-3xl mb-2 opacity-80;
            }
            .qa-item {
                @apply bg-stone-50 dark:bg-slate-700/30 p-4 rounded-lg border border-stone-200 dark:border-slate-600;
            }
            .qa-q {
                @apply font-bold text-stone-800 dark:text-stone-200 text-sm mb-2 flex items-start gap-2;
            }
            .qa-a {
                @apply text-xs md:text-sm text-stone-600 dark:text-stone-400 leading-relaxed pl-6;
            }
            
            /* Custom Scrollbar */
            ::-webkit-scrollbar { width: 8px; }
            ::-webkit-scrollbar-track { background: #f1f1f1; }
            ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
            ::-webkit-scrollbar-thumb:hover { background: #555; }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-stone-200 dark:bg-slate-900 min-h-screen font-sans text-stone-800 dark:text-stone-200 transition-colors duration-300 overflow-x-hidden bg-[url('https://www.transparenttextures.com/patterns/concrete-wall.png')]">

    <!-- Header -->
    <header class="bg-white/95 dark:bg-slate-800/95 border-b-4 border-maya-gold sticky top-0 z-50 shadow-md">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded bg-maya-jungle text-maya-gold flex items-center justify-center font-bold text-2xl shadow border-2 border-maya-gold">
                    ğŸ—¿
                </div>
                <div>
                    <h1 class="text-xl font-serif font-bold text-stone-800 dark:text-white leading-tight tracking-wide" data-i18n="title">ç›é›…æ—¥å†è®¡ç®—å™¨</h1>
                    <p class="text-[10px] text-stone-500 font-bold uppercase tracking-widest">Maya Calendar Calculator</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2">
                <select id="lang-selector" class="bg-stone-100 dark:bg-slate-700 text-xs font-bold px-2 py-2 rounded-lg border-none focus:ring-0 cursor-pointer text-stone-600 dark:text-stone-300 outline-none">
                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                    <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                    <option value="en">English</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                    <option value="pl">Polski</option>
                </select>
                <button id="mode-toggle" class="w-9 h-9 rounded-full bg-stone-100 dark:bg-slate-700 flex items-center justify-center text-stone-600 dark:text-stone-300 hover:text-maya-gold transition-colors">
                    <i class="fa fa-moon-o dark:hidden"></i>
                    <i class="fa fa-sun-o hidden dark:inline"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 max-w-4xl">

        <!-- Main Card -->
        <div class="glass rounded-none md:rounded-lg shadow-2xl overflow-hidden mb-8 border-t-8 border-t-maya-jungle relative">
            <!-- Decorative Corners -->
            <div class="absolute top-0 left-0 w-4 h-4 border-l-4 border-t-4 border-maya-gold z-10"></div>
            <div class="absolute top-0 right-0 w-4 h-4 border-r-4 border-t-4 border-maya-gold z-10"></div>

            <div class="p-6 md:p-10">
                
                <!-- Inputs -->
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    
                    <!-- Date Selection -->
                    <div class="space-y-4">
                        <label class="block text-sm font-bold text-stone-500 uppercase tracking-widest text-center md:text-left">
                            <i class="fa fa-calendar-o mr-1"></i> <span data-i18n="lbl_date">é€‰æ‹©æ—¥æœŸ</span>
                        </label>
                        <div class="flex gap-2">
                            <div class="relative w-24 flex-none">
                                <select id="sel-year" class="select-field" onchange="App.updateDays()">
                                    <!-- JS Populated -->
                                </select>
                            </div>
                            <div class="relative flex-1">
                                <select id="sel-month" class="select-field" onchange="App.updateDays()">
                                    <!-- JS Populated -->
                                </select>
                            </div>
                            <div class="relative w-20 flex-none">
                                <select id="sel-day" class="select-field" onchange="App.calc()">
                                    <!-- JS Populated -->
                                </select>
                            </div>
                        </div>
                        <div class="text-center md:text-left">
                            <button onclick="App.setToday()" class="text-xs font-bold text-maya-jungle hover:underline uppercase" data-i18n="btn_today">å›åˆ°ä»Šå¤©</button>
                        </div>
                    </div>

                    <!-- Correlation Constant -->
                    <div class="space-y-4">
                        <label class="block text-sm font-bold text-stone-500 uppercase tracking-widest text-center md:text-left">
                            <i class="fa fa-cogs mr-1"></i> <span data-i18n="lbl_corr">ç›¸å…³æ•°å­—</span>
                        </label>
                        <div class="relative">
                            <select id="sel-correlation" class="select-field text-stone-600" onchange="App.calc()">
                                <option value="584283">584,283 (GMT - Standard)</option>
                                <option value="584285">584,285 (Astronomical)</option>
                            </select>
                            <i class="fa fa-caret-down absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none"></i>
                        </div>
                        <p class="text-[10px] text-stone-400 leading-tight" data-i18n="info_corr">
                            "ç›¸å…³æ•°å­—"ç”¨äºå°†ç›é›…å¤©æ•°ä¸å…¬å†å„’ç•¥æ—¥å¯¹é½ã€‚æœ€å¸¸ç”¨çš„æ˜¯ GMT (584,283)ã€‚
                        </p>
                    </div>
                </div>

                <hr class="border-stone-200 dark:border-stone-700 mb-8">

                <!-- Results -->
                <div class="space-y-8">
                    
                    <!-- Long Count Display -->
                    <div class="text-center">
                        <h2 class="text-xs font-bold text-stone-400 uppercase tracking-[0.2em] mb-3" data-i18n="h_long">Long Count (é•¿è®¡å†)</h2>
                        <div class="inline-block bg-stone-800 text-maya-gold px-8 py-4 rounded-lg shadow-inner border-2 border-maya-gold/30">
                            <span id="res-long-count" class="text-3xl md:text-5xl font-mono font-bold tracking-widest">0.0.0.0.0</span>
                        </div>
                        <div class="flex justify-center gap-4 mt-2 text-[10px] text-stone-400 font-mono uppercase">
                            <span>Baktun</span><span>Katun</span><span>Tun</span><span>Winal</span><span>Kin</span>
                        </div>
                    </div>

                    <!-- Calendar Round Grid -->
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        
                        <!-- Tzolkin -->
                        <div class="stone-card border-t-4 border-t-emerald-600">
                            <div class="glyph-icon">ğŸŒ</div>
                            <span class="stone-label" data-i18n="h_tzolkin">Tzolkin (å“å°”é‡‘å†)</span>
                            <div id="res-tzolkin" class="stone-value">-</div>
                            <div id="res-tzolkin-en" class="text-xs text-stone-500 mt-1 italic">-</div>
                        </div>

                        <!-- Haab -->
                        <div class="stone-card border-t-4 border-t-amber-600">
                            <div class="glyph-icon">ğŸŒ½</div>
                            <span class="stone-label" data-i18n="h_haab">Haab (å“ˆå¸ƒå†)</span>
                            <div id="res-haab" class="stone-value">-</div>
                            <div id="res-haab-en" class="text-xs text-stone-500 mt-1 italic">-</div>
                        </div>

                        <!-- Lord of the Night -->
                        <div class="stone-card border-t-4 border-t-indigo-600 col-span-2 md:col-span-1">
                            <div class="glyph-icon">ğŸŒš</div>
                            <span class="stone-label" data-i18n="h_lord">Lord of the Night</span>
                            <div id="res-lord" class="stone-value">-</div>
                            <div class="text-xs text-stone-500 mt-1" data-i18n="lbl_lord_sub">å¤œç¥ (G1-G9)</div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- Detailed Info & FAQ Section (New) -->
        <section id="guide-faq" class="glass rounded-lg p-6 md:p-8 border-l-4 border-maya-gold space-y-8">
            
            <!-- Guide -->
            <div>
                <h3 class="font-serif font-bold text-xl text-stone-800 dark:text-white mb-4 flex items-center gap-2">
                    <i class="fa fa-map-o text-maya-gold"></i> <span data-i18n="guide_title">ä½¿ç”¨æŒ‡å—</span>
                </h3>
                <ul class="space-y-3 text-sm text-stone-600 dark:text-stone-300">
                    <li class="flex items-start gap-3">
                        <span class="w-6 h-6 rounded-full bg-maya-jungle text-white flex items-center justify-center text-xs font-bold flex-none">1</span>
                        <span data-i18n="guide_step1">é€‰æ‹©æ—¥æœŸï¼šåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©æ‚¨æƒ³è¦è½¬æ¢çš„å…¬å†æ—¥æœŸã€‚</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-6 h-6 rounded-full bg-maya-jungle text-white flex items-center justify-center text-xs font-bold flex-none">2</span>
                        <span data-i18n="guide_step2">è°ƒæ•´ç›¸å…³æ•°å­—ï¼ˆå¯é€‰ï¼‰ï¼šé€šå¸¸ä½¿ç”¨é»˜è®¤çš„ GMT (584,283)ã€‚</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-6 h-6 rounded-full bg-maya-jungle text-white flex items-center justify-center text-xs font-bold flex-none">3</span>
                        <span data-i18n="guide_step3">æŸ¥çœ‹ç»“æœï¼šä¸‹æ–¹ä¼šè‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”çš„é•¿è®¡å†ã€å“å°”é‡‘å†ç­‰ã€‚</span>
                    </li>
                </ul>
            </div>

            <hr class="border-stone-200 dark:border-stone-700">

            <!-- FAQ -->
            <div>
                <h3 class="font-serif font-bold text-xl text-stone-800 dark:text-white mb-4 flex items-center gap-2">
                    <i class="fa fa-question-circle text-maya-gold"></i> <span data-i18n="faq_title">å¸¸è§é—®é¢˜</span>
                </h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="qa-item">
                        <div class="qa-q"><i class="fa fa-info-circle text-maya-gold"></i> <span data-i18n="faq_q1">ä»€ä¹ˆæ˜¯é•¿è®¡å†ï¼Ÿ</span></div>
                        <div class="qa-a" data-i18n="faq_a1">é•¿è®¡å†æ˜¯ç›é›…äººç”¨äºè®°å½•é•¿æ—¶é—´è·¨åº¦çš„çº¿æ€§å†æ³•ï¼Œæ ¼å¼ä¸º Baktun.Katun.Tun.Winal.Kinã€‚</div>
                    </div>
                    <div class="qa-item">
                        <div class="qa-q"><i class="fa fa-calendar-check-o text-maya-gold"></i> <span data-i18n="faq_q3">å“å°”é‡‘å† vs å“ˆå¸ƒå†ï¼Ÿ</span></div>
                        <div class="qa-a" data-i18n="faq_a3">å“å°”é‡‘å†æ˜¯260å¤©çš„ç¥å†ï¼›å“ˆå¸ƒå†æ˜¯365å¤©çš„æ°‘å†ã€‚</div>
                    </div>
                    <div class="qa-item md:col-span-2">
                        <div class="qa-q"><i class="fa fa-exclamation-triangle text-maya-gold"></i> <span data-i18n="faq_q2">2012å¹´æ˜¯ä¸–ç•Œæœ«æ—¥å—ï¼Ÿ</span></div>
                        <div class="qa-a" data-i18n="faq_a2">ä¸æ˜¯ã€‚2012å¹´12æœˆ21æ—¥ï¼ˆ13.0.0.0.0ï¼‰åªæ˜¯ä¸€ä¸ªå¤§å‘¨æœŸçš„ç»“æŸå’Œæ–°å‘¨æœŸçš„å¼€å§‹ï¼Œå°±åƒæˆ‘ä»¬çš„æ—¥å†ç¿»è¿‡12æœˆ31æ—¥ä¸€æ ·ã€‚</div>
                    </div>
                </div>
            </div>

            <!-- Footer Quote -->
            <div class="bg-stone-100 dark:bg-slate-800 p-4 rounded border border-stone-200 dark:border-slate-700 italic text-xs text-stone-500 text-center" data-i18n="info_quote">
                â€œ2012å¹´ç¾å›½è€ƒå¤å­¦å®¶åœ¨å±åœ°é©¬æ‹‰ç›é›…æ–‡åŒ–é—å€ä¸­å‘ç°äº†æœ€å¤è€çš„ç›é›…å¤©è±¡è¡¨...æ¨ç¿»äº†â€˜2012å¹´ä¸–ç•Œæœ«æ—¥è¯´â€™ã€‚â€
            </div>
        </section>

        <footer class="text-center text-xs text-stone-400 py-8 font-serif">
            <p>&copy; <span id="cur-year"></span> Maya Calendar Calculator. Educational Purpose Only.</p>
        </footer>

    </div>

    <script>
        const i18nData = {
            'zh-CN': {
                title: "ç›é›…æ—¥å†è®¡ç®—å™¨", lbl_date: "é€‰æ‹©æ—¥æœŸ", btn_today: "å›åˆ°ä»Šå¤©",
                lbl_corr: "ç›¸å…³æ•°å­— (Correlation)", 
                info_corr: "\"ç›¸å…³æ•°å­—\"ç”¨äºå°†ç›é›…å¤©æ•°ä¸å…¬å†å„’ç•¥æ—¥å¯¹é½ã€‚æœ€å¸¸ç”¨çš„æ˜¯ GMT (584,283)ã€‚",
                h_long: "Long Count (é•¿è®¡å†)", h_tzolkin: "Tzolkin (å“å°”é‡‘å†)", h_haab: "Haab (å“ˆå¸ƒå†)", h_lord: "Lord of the Night", lbl_lord_sub: "å¤œç¥ (G1-G9)",
                // Guide & FAQ
                guide_title: "ä½¿ç”¨æŒ‡å—",
                guide_step1: "é€‰æ‹©æ—¥æœŸï¼šåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©æ‚¨æƒ³è¦è½¬æ¢çš„å…¬å†æ—¥æœŸã€‚",
                guide_step2: "è°ƒæ•´ç›¸å…³æ•°å­—ï¼ˆå¯é€‰ï¼‰ï¼šé€šå¸¸ä½¿ç”¨é»˜è®¤çš„ GMT (584,283)ã€‚",
                guide_step3: "æŸ¥çœ‹ç»“æœï¼šä¸‹æ–¹ä¼šè‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”çš„é•¿è®¡å†ã€å“å°”é‡‘å†ç­‰ã€‚",
                faq_title: "å¸¸è§é—®é¢˜ä¸çŸ¥è¯†",
                faq_q1: "ä»€ä¹ˆæ˜¯é•¿è®¡å† (Long Count)ï¼Ÿ",
                faq_a1: "é•¿è®¡å†æ˜¯ç›é›…äººç”¨äºè®°å½•é•¿æ—¶é—´è·¨åº¦çš„çº¿æ€§å†æ³•ï¼Œæ ¼å¼ä¸º Baktun.Katun.Tun.Winal.Kinã€‚å®ƒæ˜¯è®¡ç®—è·ç¦»â€œåˆ›ä¸–æ—¥â€å¤©æ•°çš„æ–¹æ³•ã€‚",
                faq_q2: "2012å¹´æ˜¯ä¸–ç•Œæœ«æ—¥å—ï¼Ÿ",
                faq_a2: "ä¸æ˜¯ã€‚ç›é›…å†æ³•çš„ 13.0.0.0.0 (2012å¹´12æœˆ21æ—¥) åªæ˜¯ä¸€ä¸ªå¤§å‘¨æœŸçš„ç»“æŸï¼Œæ„å‘³ç€æ–°å‘¨æœŸçš„å¼€å§‹ï¼Œå°±åƒæˆ‘ä»¬çš„æ—¥å†ç¿»è¿‡12æœˆ31æ—¥ä¸€æ ·ã€‚è€ƒå¤å‘ç°ä¹Ÿè¯å®äº†å†æ³•åœ¨2012å¹´åä»åœ¨å»¶ç»­ã€‚",
                faq_q3: "å“å°”é‡‘å†å’Œå“ˆå¸ƒå†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",
                faq_a3: "å“å°”é‡‘å†æ˜¯260å¤©çš„ç¥å†ï¼Œç”¨äºå®—æ•™å åœï¼›å“ˆå¸ƒå†æ˜¯365å¤©çš„æ°‘å†ï¼Œç”¨äºå†œä¸šå’Œæ—¥å¸¸ç”Ÿæ´»ã€‚ä¸¤è€…ç»“åˆå½¢æˆ52å¹´çš„â€œå†æ³•å¾ªç¯â€ã€‚",
                info_quote: "â€œ2012å¹´ç¾å›½è€ƒå¤å­¦å®¶åœ¨å±åœ°é©¬æ‹‰ç›é›…æ–‡åŒ–é—å€ä¸­å‘ç°äº†æœ€å¤è€çš„ç›é›…å¤©è±¡è¡¨ï¼Œè®°å½•ç€å¤©è±¡å’Œæ—¥å†ã€‚æ—¥å†å»¶ç»­è‡³ä»Šå7000ä½™å¹´ï¼Œæ¨ç¿»äº†â€˜2012å¹´ä¸–ç•Œæœ«æ—¥è¯´â€™ã€‚â€",
                unit_year: "å¹´", unit_month: "æœˆ"
            },
            'zh-TW': {
                title: "ç‘ªé›…æ—¥æ›†è¨ˆç®—å™¨", lbl_date: "é¸æ“‡æ—¥æœŸ", btn_today: "å›åˆ°ä»Šå¤©",
                lbl_corr: "ç›¸é—œæ•¸å­— (Correlation)", 
                info_corr: "\"ç›¸é—œæ•¸å­—\"ç”¨æ–¼å°‡ç‘ªé›…å¤©æ•¸èˆ‡å…¬æ›†å„’ç•¥æ—¥å°é½Šã€‚æœ€å¸¸ç”¨çš„æ˜¯ GMT (584,283)ã€‚",
                h_long: "Long Count (é•·è¨ˆæ›†)", h_tzolkin: "Tzolkin (å“çˆ¾é‡‘æ›†)", h_haab: "Haab (å“ˆå¸ƒæ›†)", h_lord: "Lord of the Night", lbl_lord_sub: "å¤œç¥ (G1-G9)",
                // Guide & FAQ
                guide_title: "ä½¿ç”¨æŒ‡å—",
                guide_step1: "é¸æ“‡æ—¥æœŸï¼šåœ¨ä¸‹æ‹‰èœå–®ä¸­é¸æ“‡æ‚¨æƒ³è¦è½‰æ›çš„å…¬æ›†æ—¥æœŸã€‚",
                guide_step2: "èª¿æ•´ç›¸é—œæ•¸å­—ï¼ˆå¯é¸ï¼‰ï¼šé€šå¸¸ä½¿ç”¨é»˜èªçš„ GMT (584,283)ã€‚",
                guide_step3: "æŸ¥çœ‹çµæœï¼šä¸‹æ–¹æœƒè‡ªå‹•é¡¯ç¤ºå°æ‡‰çš„é•·è¨ˆæ›†ã€å“çˆ¾é‡‘æ›†ç­‰ã€‚",
                faq_title: "å¸¸è¦‹å•é¡Œèˆ‡çŸ¥è­˜",
                faq_q1: "ä»€éº¼æ˜¯é•·è¨ˆæ›† (Long Count)ï¼Ÿ",
                faq_a1: "é•·è¨ˆæ›†æ˜¯ç‘ªé›…äººç”¨æ–¼è¨˜éŒ„é•·æ™‚é–“è·¨åº¦çš„ç·šæ€§æ›†æ³•ï¼Œæ ¼å¼ç‚º Baktun.Katun.Tun.Winal.Kinã€‚",
                faq_q2: "2012å¹´æ˜¯ä¸–ç•Œæœ«æ—¥å—ï¼Ÿ",
                faq_a2: "ä¸æ˜¯ã€‚ç‘ªé›…æ›†æ³•çš„ 13.0.0.0.0 (2012å¹´12æœˆ21æ—¥) åªæ˜¯ä¸€å€‹å¤§é€±æœŸçš„çµæŸï¼Œæ„å‘³è‘—æ–°é€±æœŸçš„é–‹å§‹ã€‚è€ƒå¤ç™¼ç¾è­‰å¯¦æ›†æ³•åœ¨2012å¹´å¾Œä»åœ¨å»¶çºŒã€‚",
                faq_q3: "å“çˆ¾é‡‘æ›†å’Œå“ˆå¸ƒæ›†æœ‰ä»€éº¼å€åˆ¥ï¼Ÿ",
                faq_a3: "å“çˆ¾é‡‘æ›†æ˜¯260å¤©çš„ç¥æ›†ï¼Œç”¨æ–¼å®—æ•™å åœï¼›å“ˆå¸ƒæ›†æ˜¯365å¤©çš„æ°‘æ›†ï¼Œç”¨æ–¼è¾²æ¥­å’Œæ—¥å¸¸ç”Ÿæ´»ã€‚",
                info_quote: "â€œ2012å¹´ç¾åœ‹è€ƒå¤å­¸å®¶åœ¨ç“œåœ°é¦¬æ‹‰ç‘ªé›…æ–‡åŒ–éºå€ä¸­ç™¼ç¾äº†æœ€å¤è€çš„ç‘ªé›…å¤©è±¡è¡¨...æ¨ç¿»äº†â€˜2012å¹´ä¸–ç•Œæœ«æ—¥èªªâ€™ã€‚â€",
                unit_year: "å¹´", unit_month: "æœˆ"
            },
            'en': {
                title: "Maya Calendar Calculator", lbl_date: "Select Date", btn_today: "Today",
                lbl_corr: "Correlation", 
                info_corr: "Aligns Mayan days with Julian Day Number. GMT (584,283) is standard.",
                h_long: "Long Count", h_tzolkin: "Tzolkin", h_haab: "Haab", h_lord: "Lord of the Night", lbl_lord_sub: "Night Lord (G1-G9)",
                // Guide & FAQ
                guide_title: "How to Use",
                guide_step1: "Select Date: Choose the Gregorian date to convert.",
                guide_step2: "Correlation (Optional): Default is GMT (584,283).",
                guide_step3: "View Results: The Long Count, Tzolkin, and Haab appear below.",
                faq_title: "FAQ & Facts",
                faq_q1: "What is the Long Count?",
                faq_a1: "A linear calendar tracking long periods of time, formatted as Baktun.Katun.Tun.Winal.Kin.",
                faq_q2: "Was 2012 the end of the world?",
                faq_a2: "No. Dec 21, 2012 marked the end of a major cycle and the start of a new one, not the apocalypse.",
                faq_q3: "Tzolkin vs Haab?",
                faq_a3: "Tzolkin is the 260-day sacred calendar; Haab is the 365-day civil calendar. Together they form a 52-year cycle.",
                info_quote: "\"In 2012, archaeologists found ancient tables in Guatemala, debunking the '2012 Doomsday' myth.\"",
                unit_year: "", unit_month: ""
            },
            'es': {
                title: "Calculadora Calendario Maya", lbl_date: "Seleccionar Fecha", btn_today: "Hoy",
                lbl_corr: "CorrelaciÃ³n", 
                info_corr: "Alinea la cuenta maya con el DÃ­a Juliano. GMT (584,283) es estÃ¡ndar.",
                h_long: "Cuenta Larga", h_tzolkin: "Tzolkin", h_haab: "Haab", h_lord: "SeÃ±or de la Noche", lbl_lord_sub: "SeÃ±or (G1-G9)",
                // Guide & FAQ
                guide_title: "GuÃ­a de Uso",
                guide_step1: "Seleccionar Fecha: Elija la fecha gregoriana.",
                guide_step2: "CorrelaciÃ³n (Opcional): El valor predeterminado es GMT.",
                guide_step3: "Ver Resultados: La Cuenta Larga, Tzolkin y Haab aparecen abajo.",
                faq_title: "Preguntas Frecuentes",
                faq_q1: "Â¿QuÃ© es la Cuenta Larga?",
                faq_a1: "Un calendario lineal para rastrear largos perÃ­odos (Baktun.Katun.Tun.Winal.Kin).",
                faq_q2: "Â¿Fue 2012 el fin del mundo?",
                faq_a2: "No. Solo marcÃ³ el fin de un ciclo mayor y el comienzo de uno nuevo.",
                faq_q3: "Â¿Diferencia entre Tzolkin y Haab?",
                faq_a3: "Tzolkin es el calendario sagrado (260 dÃ­as); Haab es el civil (365 dÃ­as).",
                info_quote: "\"Hallazgos arqueolÃ³gicos en Guatemala desmintieron el mito del 'Fin del Mundo 2012'.\"",
                unit_year: "", unit_month: ""
            },
            'ru': {
                title: "ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞœĞ°Ğ¹Ñ", lbl_date: "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ´Ğ°Ñ‚Ñƒ", btn_today: "Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ",
                lbl_corr: "ĞšĞ¾Ñ€Ñ€ĞµĞ»ÑÑ†Ğ¸Ñ", 
                info_corr: "Ğ’Ñ‹Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°ĞµÑ‚ ÑÑ‡ĞµÑ‚ Ğ¼Ğ°Ğ¹Ñ Ñ Ğ®Ğ»Ğ¸Ğ°Ğ½ÑĞºĞ¸Ğ¼ Ğ´Ğ½ĞµĞ¼. GMT (584,283) - ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚.",
                h_long: "Ğ”Ğ¾Ğ»Ğ³Ğ¸Ğ¹ ÑÑ‡ĞµÑ‚", h_tzolkin: "Ğ¦Ğ¾Ğ»ÑŒĞºĞ¸Ğ½", h_haab: "Ğ¥Ğ°Ğ°Ğ±", h_lord: "Ğ’Ğ»Ğ°Ğ´Ñ‹ĞºĞ° ĞĞ¾Ñ‡Ğ¸", lbl_lord_sub: "Ğ’Ğ»Ğ°Ğ´Ñ‹ĞºĞ° (G1-G9)",
                // Guide & FAQ
                guide_title: "ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ",
                guide_step1: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ´Ğ°Ñ‚Ñƒ: Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ³Ñ€Ğ¸Ğ³Ğ¾Ñ€Ğ¸Ğ°Ğ½ÑĞºÑƒÑ Ğ´Ğ°Ñ‚Ñƒ.",
                guide_step2: "ĞšĞ¾Ñ€Ñ€ĞµĞ»ÑÑ†Ğ¸Ñ (Ğ¾Ğ¿Ñ†.): ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ GMT (584,283).",
                guide_step3: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: Ğ”Ğ¾Ğ»Ğ³Ğ¸Ğ¹ ÑÑ‡ĞµÑ‚, Ğ¦Ğ¾Ğ»ÑŒĞºĞ¸Ğ½ Ğ¸ Ğ¥Ğ°Ğ°Ğ± Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ·ÑÑ‚ÑÑ Ğ½Ğ¸Ğ¶Ğµ.",
                faq_title: "Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹",
                faq_q1: "Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ğ”Ğ¾Ğ»Ğ³Ğ¸Ğ¹ ÑÑ‡ĞµÑ‚?",
                faq_a1: "Ğ›Ğ¸Ğ½ĞµĞ¹Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ Ğ´Ğ»Ñ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ¾Ğ² Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.",
                faq_q2: "Ğ‘Ñ‹Ğ» Ğ»Ğ¸ 2012 Ğ³Ğ¾Ğ´ ĞºĞ¾Ğ½Ñ†Ğ¾Ğ¼ ÑĞ²ĞµÑ‚Ğ°?",
                faq_a2: "ĞĞµÑ‚. Ğ­Ñ‚Ğ¾ Ğ±Ñ‹Ğ» Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ĞºĞ¾Ğ½ĞµÑ† Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ³Ğ¾ Ñ†Ğ¸ĞºĞ»Ğ° Ğ¸ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾.",
                faq_q3: "Ğ¦Ğ¾Ğ»ÑŒĞºĞ¸Ğ½ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ğ¥Ğ°Ğ°Ğ±?",
                faq_a3: "Ğ¦Ğ¾Ğ»ÑŒĞºĞ¸Ğ½ - ÑĞ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ (260 Ğ´Ğ½ĞµĞ¹), Ğ¥Ğ°Ğ°Ğ± - Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ğ¹ (365 Ğ´Ğ½ĞµĞ¹).",
                info_quote: "\"ĞÑ€Ñ…ĞµĞ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´ĞºĞ¸ Ğ¾Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ³Ğ»Ğ¸ Ğ¼Ğ¸Ñ„ Ğ¾ 'ĞšĞ¾Ğ½Ñ†Ğµ ÑĞ²ĞµÑ‚Ğ° 2012'.\"",
                unit_year: "Ğ³.", unit_month: ""
            },
            'hi': {
                title: "à¤®à¤¾à¤¯à¤¾ à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°", lbl_date: "à¤¤à¤¾à¤°à¥€à¤– à¤šà¥à¤¨à¥‡à¤‚", btn_today: "à¤†à¤œ",
                lbl_corr: "à¤¸à¤¹à¤¸à¤‚à¤¬à¤‚à¤§ (Correlation)", 
                info_corr: "à¤®à¤¾à¤¯à¤¾ à¤¦à¤¿à¤µà¤¸ à¤•à¥‹ à¤œà¥‚à¤²à¤¿à¤¯à¤¨ à¤¦à¤¿à¤µà¤¸ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¸à¤‚à¤°à¥‡à¤–à¤¿à¤¤ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤ GMT à¤®à¤¾à¤¨à¤• à¤¹à¥ˆà¥¤",
                h_long: "à¤²à¥‰à¤¨à¥à¤— à¤•à¤¾à¤‰à¤‚à¤Ÿ", h_tzolkin: "à¤œà¤¼à¥‹à¤²à¥à¤•à¤¿à¤¨", h_haab: "à¤¹à¤¾à¤¬", h_lord: "à¤°à¤¾à¤¤ à¤•à¤¾ à¤¸à¥à¤µà¤¾à¤®à¥€", lbl_lord_sub: "à¤¸à¥à¤µà¤¾à¤®à¥€ (G1-G9)",
                // Guide & FAQ
                guide_title: "à¤‰à¤ªà¤¯à¥‹à¤— à¤—à¤¾à¤‡à¤¡",
                guide_step1: "à¤¤à¤¾à¤°à¥€à¤– à¤šà¥à¤¨à¥‡à¤‚: à¤—à¥à¤°à¥‡à¤—à¥‹à¤°à¤¿à¤¯à¤¨ à¤¤à¤¾à¤°à¥€à¤– à¤šà¥à¤¨à¥‡à¤‚à¥¤",
                guide_step2: "à¤¸à¤¹à¤¸à¤‚à¤¬à¤‚à¤§ (à¤µà¥ˆà¤•à¤²à¥à¤ªà¤¿à¤•): à¤¡à¤¿à¤«à¤¼à¥‰à¤²à¥à¤Ÿ GMT (584,283) à¤¹à¥ˆà¥¤",
                guide_step3: "à¤ªà¤°à¤¿à¤£à¤¾à¤®: à¤²à¥‰à¤¨à¥à¤— à¤•à¤¾à¤‰à¤‚à¤Ÿ, à¤œà¤¼à¥‹à¤²à¥à¤•à¤¿à¤¨ à¤”à¤° à¤¹à¤¾à¤¬ à¤¨à¥€à¤šà¥‡ à¤¦à¤¿à¤–à¤¾à¤ˆ à¤¦à¥‡à¤‚à¤—à¥‡à¥¤",
                faq_title: "à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯ à¤ªà¥à¤°à¤¶à¥à¤¨",
                faq_q1: "à¤²à¥‰à¤¨à¥à¤— à¤•à¤¾à¤‰à¤‚à¤Ÿ à¤•à¥à¤¯à¤¾ à¤¹à¥ˆ?",
                faq_a1: "à¤²à¤‚à¤¬à¥‡ à¤¸à¤®à¤¯ à¤•à¥‹ à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤à¤• à¤°à¥ˆà¤–à¤¿à¤• à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤°à¥¤",
                faq_q2: "à¤•à¥à¤¯à¤¾ 2012 à¤¦à¥à¤¨à¤¿à¤¯à¤¾ à¤•à¤¾ à¤…à¤‚à¤¤ à¤¥à¤¾?",
                faq_a2: "à¤¨à¤¹à¥€à¤‚à¥¤ à¤¯à¤¹ à¤¸à¤¿à¤°à¥à¤« à¤à¤• à¤¬à¤¡à¤¼à¥‡ à¤šà¤•à¥à¤° à¤•à¤¾ à¤…à¤‚à¤¤ à¤”à¤° à¤¨à¤ à¤•à¥€ à¤¶à¥à¤°à¥à¤†à¤¤ à¤¥à¥€à¥¤",
                faq_q3: "à¤œà¤¼à¥‹à¤²à¥à¤•à¤¿à¤¨ à¤”à¤° à¤¹à¤¾à¤¬ à¤®à¥‡à¤‚ à¤…à¤‚à¤¤à¤°?",
                faq_a3: "à¤œà¤¼à¥‹à¤²à¥à¤•à¤¿à¤¨ à¤ªà¤µà¤¿à¤¤à¥à¤° à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° (260 à¤¦à¤¿à¤¨) à¤¹à¥ˆ; à¤¹à¤¾à¤¬ à¤¨à¤¾à¤—à¤°à¤¿à¤• à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° (365 à¤¦à¤¿à¤¨) à¤¹à¥ˆà¥¤",
                info_quote: "\"à¤ªà¥à¤°à¤¾à¤¤à¤¤à¥à¤µ à¤¸à¤‚à¤¬à¤‚à¤§à¥€ à¤–à¥‹à¤œà¥‹à¤‚ à¤¨à¥‡ '2012 à¤ªà¥à¤°à¤²à¤¯' à¤•à¥‡ à¤®à¤¿à¤¥à¤• à¤•à¥‹ à¤¤à¥‹à¤¡à¤¼ à¤¦à¤¿à¤¯à¤¾à¥¤\"",
                unit_year: "", unit_month: ""
            },
            'pl': {
                title: "Kalkulator Kalendarza MajÃ³w", lbl_date: "Wybierz datÄ™", btn_today: "Dzisiaj",
                lbl_corr: "Korelacja", 
                info_corr: "WyrÃ³wnuje dni MajÃ³w z datÄ… juliaÅ„skÄ…. Standard to GMT.",
                h_long: "DÅ‚uga Rachuba", h_tzolkin: "Tzolkin", h_haab: "Haab", h_lord: "WÅ‚adca Nocy", lbl_lord_sub: "WÅ‚adca (G1-G9)",
                // Guide & FAQ
                guide_title: "Jak uÅ¼ywaÄ‡",
                guide_step1: "Wybierz datÄ™: Wybierz datÄ™ gregoriaÅ„skÄ….",
                guide_step2: "Korelacja (opcjonalne): DomyÅ›lnie GMT (584,283).",
                guide_step3: "Wyniki: DÅ‚uga Rachuba, Tzolkin i Haab pojawiÄ… siÄ™ poniÅ¼ej.",
                faq_title: "CzÄ™ste pytania",
                faq_q1: "Czym jest DÅ‚uga Rachuba?",
                faq_a1: "Kalendarz liniowy do Å›ledzenia dÅ‚ugich okresÃ³w czasu.",
                faq_q2: "Czy rok 2012 byÅ‚ koÅ„cem Å›wiata?",
                faq_a2: "Nie. To byÅ‚ tylko koniec duÅ¼ego cyklu i poczÄ…tek nowego.",
                faq_q3: "RÃ³Å¼nica miÄ™dzy Tzolkin a Haab?",
                faq_a3: "Tzolkin to kalendarz Å›wiÄ™ty (260 dni), Haab to cywilny (365 dni).",
                info_quote: "\"Odkrycia archeologiczne obaliÅ‚y mit o 'KoÅ„cu Åšwiata 2012'.\"",
                unit_year: "r.", unit_month: ""
            }
        };

        const App = {
            lang: 'zh-CN',
            
            // Arrays for Tzolkin
            tzolkinDayNames: [
                "Imix (æµ·é¾™)", "Ik (é£)", "Akbal (å¤œ)", "Kan (ç‰ç±³)", "Chicchan (è›‡)", 
                "Cimi (æ­»)", "Manik (é¹¿)", "Lamat (å…”)", "Muluc (æ°´)", "Oc (ç‹—)", 
                "Chuen (çŒ´)", "Eb (è‰)", "Ben (èŠ¦è‹‡)", "Ix (è±¹)", "Men (é¹°)", 
                "Cib (é¹«)", "Caban (åœ°)", "Eznab (åˆ€)", "Cauac (æš´é›¨)", "Ahau (èŠ±/ä¸»)"
            ],
            
            // Arrays for Haab
            haabMonthNames: [
                "Pop", "Uo", "Zip", "Zotz", "Tzec", "Xul", "Yaxkin", "Mol", "Chen", 
                "Yax", "Zac", "Ceh", "Mac", "Kankin", "Muan", "Pax", "Kayab", "Cumku", "Uayeb"
            ],

            init() {
                this.setupTheme();
                this.setupLang();
                this.initSelectors();
                this.setToday();
                document.getElementById('cur-year').textContent = new Date().getFullYear();
            },

            setupTheme() {
                const toggle = document.getElementById('mode-toggle');
                const html = document.documentElement;
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    html.classList.add('dark');
                }
                toggle.addEventListener('click', () => {
                    html.classList.toggle('dark');
                    localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
                });
            },

            setupLang() {
                const sel = document.getElementById('lang-selector');
                const urlParams = new URLSearchParams(window.location.search);
                const queryLang = urlParams.get('lang');
                
                if (queryLang && i18nData[queryLang]) {
                    this.lang = queryLang;
                } else {
                    this.lang = 'zh-CN';
                }
                
                sel.value = this.lang;
                this.updateText();

                sel.addEventListener('change', (e) => {
                    this.lang = e.target.value;
                    try {
                        const newUrl = new URL(window.location);
                        newUrl.searchParams.set('lang', this.lang);
                        window.history.pushState({}, '', newUrl);
                    } catch (e) {}
                    
                    this.updateText();
                    this.initSelectors(); // Re-populate month names
                    this.calc();          // Re-calc
                });
            },

            updateText() {
                const dict = i18nData[this.lang];
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(dict[key]) {
                        el.textContent = dict[key];
                    }
                });
            },

            initSelectors() {
                const selYear = document.getElementById('sel-year');
                const selMonth = document.getElementById('sel-month');
                const dict = i18nData[this.lang];
                
                const curYear = selYear.value;
                const curMonth = selMonth.value;

                // Year: 1900 - 2100 (extended range)
                let yHtml = '';
                for(let y=1900; y<=2100; y++) {
                    const unit = dict.unit_year || "";
                    yHtml += `<option value="${y}">${y}${unit}</option>`;
                }
                selYear.innerHTML = yHtml;
                if(curYear) selYear.value = curYear;

                // Month: 1 - 12
                let mHtml = '';
                const monthsEn = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                const monthsZh = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ", "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];
                
                for(let i=0; i<12; i++) {
                    let mName;
                    if(this.lang.startsWith('zh')) {
                        mName = monthsZh[i];
                    } else if (this.lang === 'en') {
                        mName = monthsEn[i];
                    } else {
                        mName = `${i+1}`; // Generic for others
                    }
                    mHtml += `<option value="${i+1}">${mName}</option>`;
                }
                selMonth.innerHTML = mHtml;
                if(curMonth) selMonth.value = curMonth;

                this.updateDays();
            },

            setToday() {
                const today = new Date();
                document.getElementById('sel-year').value = today.getFullYear();
                document.getElementById('sel-month').value = today.getMonth() + 1;
                this.updateDays();
                document.getElementById('sel-day').value = today.getDate();
                this.calc();
            },

            updateDays() {
                const y = parseInt(document.getElementById('sel-year').value);
                const m = parseInt(document.getElementById('sel-month').value);
                const selDay = document.getElementById('sel-day');
                const currentDay = selDay.value;

                const daysInMonth = new Date(y, m, 0).getDate();
                let dHtml = '';
                for(let d=1; d<=daysInMonth; d++) {
                    dHtml += `<option value="${d}">${d}</option>`;
                }
                selDay.innerHTML = dHtml;

                if (currentDay && currentDay <= daysInMonth) {
                    selDay.value = currentDay;
                }
                this.calc();
            },

            // Gregorian to Julian Day Number
            getJDN(year, month, day) {
                let y = year;
                let m = month;
                if (m <= 2) {
                    y -= 1;
                    m += 12;
                }
                const A = Math.floor(y / 100);
                const B = 2 - A + Math.floor(A / 4);
                return Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + day + B - 1524.5;
            },

            calc() {
                const y = parseInt(document.getElementById('sel-year').value);
                const m = parseInt(document.getElementById('sel-month').value);
                const d = parseInt(document.getElementById('sel-day').value);
                const correlation = parseInt(document.getElementById('sel-correlation').value);

                const jdn = Math.floor(this.getJDN(y, m, d) + 0.5);
                const mayaDay = jdn - correlation;

                // Long Count
                let temp = mayaDay;
                const baktun = Math.floor(temp / 144000);
                temp %= 144000;
                const katun = Math.floor(temp / 7200);
                temp %= 7200;
                const tun = Math.floor(temp / 360);
                temp %= 360;
                const winal = Math.floor(temp / 20);
                const kin = temp % 20;

                // Tzolkin
                let tNum = (mayaDay + 4) % 13;
                if (tNum === 0) tNum = 13;
                if (tNum < 0) tNum += 13;

                let tNameIdx = (mayaDay + 19) % 20;
                if (tNameIdx < 0) tNameIdx += 20;

                // Clean up Tzolkin name for non-Chinese
                let tzolkinRaw = this.tzolkinDayNames[tNameIdx];
                let tzolkinStr, tzolkinEn;

                if (this.lang.startsWith('zh')) {
                     tzolkinStr = `${tNum} ${tzolkinRaw.split(' ')[0]}`; // 4 Imix
                     tzolkinEn = tzolkinRaw; // Full string with Chinese meaning
                } else {
                     // Remove Chinese part for other languages: "Imix (æµ·é¾™)" -> "Imix"
                     const onlyName = tzolkinRaw.split(' ')[0]; 
                     tzolkinStr = `${tNum} ${onlyName}`;
                     tzolkinEn = onlyName;
                }

                // Haab
                let haabDayOfYear = (mayaDay + 348) % 365;
                if (haabDayOfYear < 0) haabDayOfYear += 365;

                const haabMonthIdx = Math.floor(haabDayOfYear / 20); 
                const haabDay = haabDayOfYear % 20;
                const haabMonthName = this.haabMonthNames[haabMonthIdx];
                const haabStr = `${haabDay} ${haabMonthName}`;

                // Lord of the Night
                let lordNum = mayaDay % 9;
                if (lordNum === 0) lordNum = 9;
                if (lordNum < 0) lordNum += 9;
                const lordStr = `G${lordNum}`;

                // Update UI
                document.getElementById('res-long-count').textContent = `${baktun}.${katun}.${tun}.${winal}.${kin}`;
                
                document.getElementById('res-tzolkin').textContent = tzolkinStr;
                document.getElementById('res-tzolkin-en').textContent = tzolkinEn;
                
                document.getElementById('res-haab').textContent = haabStr;
                document.getElementById('res-haab-en').textContent = haabMonthName; 
                
                document.getElementById('res-lord').textContent = lordStr;
            }
        };

        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
     <!--  ç»“å°¾å¿…é¡»åŒ…å«çš„ä»£ç  -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>