<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Tax Calculator</title>

    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="sales_tax_calc">
    <meta name="category" content="finance">
    <meta name="icon" content="ğŸ›’">

    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Sales Tax Calculator">
    <meta name="description" content="Calculate the sales tax and total price for your purchases with this easy-to-use sales tax calculator.">

    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="é”€å”®ç¨è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="ä½¿ç”¨è¿™ä¸ªæ˜“äºä½¿ç”¨çš„é”€å”®ç¨è®¡ç®—å™¨è®¡ç®—æ‚¨è´­ä¹°ç‰©å“çš„é”€å”®ç¨å’Œæ€»ä»·ã€‚">

    <meta name="lang-title-zh-TW" content="éŠ·å”®ç¨…è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="ä½¿ç”¨é€™å€‹æ˜“æ–¼ä½¿ç”¨çš„éŠ·å”®ç¨…è¨ˆç®—å™¨è¨ˆç®—æ‚¨è³¼è²·ç‰©å“çš„éŠ·å”®ç¨…å’Œç¸½åƒ¹ã€‚">

    <meta name="lang-title-ja" content="æ¶ˆè²»ç¨è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ã“ã®ä½¿ã„ã‚„ã™ã„æ¶ˆè²»ç¨è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã§ã€è³¼å…¥å“ã®æ¶ˆè²»ç¨ã¨ç·é¡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">

    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ½Ñ‹Ñ… Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ²">
    <meta name="lang-description-ru" content="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ»Ğ¾Ğ³ Ğ¸ Ğ¾Ğ±Ñ‰ÑƒÑ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾ĞºÑƒĞ¿Ğ¾Ğº Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ² Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ½Ñ‹Ñ… Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ².">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-container { word-break: break-all; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: #e8f4f8; padding: 15px; border-radius: 8px; }
        .stat-label { font-size: 0.85rem; color: #4b5563; margin-bottom: 5px; }
        .stat-value { font-size: 1.1rem; font-weight: bold; color: #1e40af; }
        .form-group { margin-bottom: 15px; }
        .radio-group { display: flex; flex-wrap: wrap; gap: 15px; margin: 10px 0; }
        .radio-item { display: flex; align-items: center; gap: 5px; }
        .item-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
        .item-row input { flex: 1; }
        .item-row button { padding: 5px 10px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/sales-tax-calculator.html" />

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body>

    <div class="tool-module active"
         data-id="sales_tax_calc"
         data-category="finance"
         data-title="Sales Tax Calculator"
         data-icon="ğŸ›’">

        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="tax-lang" onchange="SalesTaxCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ›’ Sales Tax Calculator</h2>

        <div class="space-y-4 mb-6">
            <!-- ç¨ç‡è¾“å…¥ -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="tax_rate">Sales Tax Rate (%)</label>
                <input type="number" id="tax-rate" min="0" max="100" step="0.01" value="7.5" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>

            <!-- æŠ˜æ‰£è®¾ç½® -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="discount">Discount (%)</label>
                <input type="number" id="discount" min="0" max="100" step="0.01" value="0" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>

            <!-- å•†å“åˆ—è¡¨ -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="items">Items</label>
                <div id="items-container">
                    <div class="item-row">
                        <input type="text" placeholder="Item name" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" data-i18n-placeholder="item_name">
                        <input type="number" placeholder="0.00" min="0" step="0.01" value="100" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" data-i18n-placeholder="amount">
                        <button type="button" onclick="SalesTaxCalc.removeItem(this)" class="bg-red-500 text-white rounded hover:bg-red-600">-</button>
                    </div>
                </div>
                <button type="button" onclick="SalesTaxCalc.addItem()" class="mt-2 text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600" data-i18n="add_item">Add Another Item</button>
            </div>

            <!-- è®¡ç®—é€‰é¡¹ -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculate_option">Calculation Option</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" name="calc-option" id="tax-included" value="included" onchange="SalesTaxCalc.calc()">
                        <label for="tax-included" data-i18n="tax_included">Price includes tax (calculate pre-tax price)</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" name="calc-option" id="tax-excluded" value="excluded" checked onchange="SalesTaxCalc.calc()">
                        <label for="tax-excluded" data-i18n="tax_excluded">Price excludes tax (calculate total with tax)</label>
                    </div>
                </div>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="SalesTaxCalc.loadSampleData()" class="flex-1 bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition" data-i18n="load_sample">Load Sample Data</button>
                <button onclick="SalesTaxCalc.clearData()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear_data">Clear Data</button>
                <button onclick="SalesTaxCalc.calc()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate Total</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="tax-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>

        <!-- ç»“æœå±•ç¤º -->
        <div id="tax-results" class="hidden">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label" data-i18n="subtotal">Subtotal (Before Tax)</div>
                    <div class="stat-value" id="result-subtotal">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label" data-i18n="discount_amount">Discount Amount</div>
                    <div class="stat-value" id="result-discount">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label" data-i18n="tax_amount">Sales Tax Amount</div>
                    <div class="stat-value" id="result-tax">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label" data-i18n="total">Total Amount</div>
                    <div class="stat-value" id="result-total">--</div>
                </div>
            </div>

            <!-- ç¨ç‡ä¿¡æ¯ -->
            <div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-2" data-i18n="calculation_details">Calculation Details</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="applied_tax_rate">Applied Tax Rate</div>
                        <div class="stat-value" id="applied-tax-rate">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="applied_discount">Applied Discount</div>
                        <div class="stat-value" id="applied-discount">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" data-i18n="number_of_items">Number of Items</div>
                        <div class="stat-value" id="number-of-items">--</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="notes_list">
                <!-- Content will be filled by JS translation -->
            </ul>
        </div>
    </div>

    <script>
        const SalesTaxCalc = {
            currentLang: 'en',
            i18n: {
                'en': {
                    title: 'ğŸ›’ Sales Tax Calculator',
                    tax_rate: 'Sales Tax Rate (%)',
                    discount: 'Discount (%)',
                    items: 'Items',
                    item_name: 'Item name',
                    amount: 'Amount',
                    add_item: 'Add Another Item',
                    calculate_option: 'Calculation Option',
                    tax_included: 'Price includes tax (calculate pre-tax price)',
                    tax_excluded: 'Price excludes tax (calculate total with tax)',
                    load_sample: 'Load Sample Data',
                    clear_data: 'Clear Data',
                    calculate: 'Calculate Total',
                    subtotal: 'Subtotal (Before Tax)',
                    discount_amount: 'Discount Amount',
                    tax_amount: 'Sales Tax Amount',
                    total: 'Total Amount',
                    calculation_details: 'Calculation Details',
                    applied_tax_rate: 'Applied Tax Rate',
                    applied_discount: 'Applied Discount',
                    number_of_items: 'Number of Items',
                    notes: 'Notes:',
                    error_invalid_rate: 'Tax rate or discount must be between 0% and 100%.',
                    error_no_items: 'Please add at least one valid item amount.',
                    notes_list: `
                        <li>Discounts are applied before calculating sales tax.</li>
                        <li>When "Price includes tax" is selected, the calculator will back out the tax from the total price.</li>
                        <li>Results are rounded to 2 decimal places for currency accuracy.</li>
                        <li>Sales tax rates vary by location - verify the correct rate for your area.</li>
                    `,
                },
                'zh-CN': {
                    title: 'ğŸ›’ é”€å”®ç¨è®¡ç®—å™¨',
                    tax_rate: 'é”€å”®ç¨ç‡ (%)',
                    discount: 'æŠ˜æ‰£ (%)',
                    items: 'å•†å“åˆ—è¡¨',
                    item_name: 'å•†å“åç§°',
                    amount: 'é‡‘é¢',
                    add_item: 'æ·»åŠ å•†å“',
                    calculate_option: 'è®¡ç®—é€‰é¡¹',
                    tax_included: 'ä»·æ ¼å«ç¨ (è®¡ç®—ç¨å‰ä»·æ ¼)',
                    tax_excluded: 'ä»·æ ¼ä¸å«ç¨ (è®¡ç®—å«ç¨æ€»ä»·)',
                    load_sample: 'åŠ è½½ç¤ºä¾‹æ•°æ®',
                    clear_data: 'æ¸…é™¤æ•°æ®',
                    calculate: 'è®¡ç®—æ€»ä»·',
                    subtotal: 'å°è®¡ (ç¨å‰)',
                    discount_amount: 'æŠ˜æ‰£é‡‘é¢',
                    tax_amount: 'é”€å”®ç¨é‡‘é¢',
                    total: 'æ€»é‡‘é¢',
                    calculation_details: 'è®¡ç®—è¯¦æƒ…',
                    applied_tax_rate: 'åº”ç”¨ç¨ç‡',
                    applied_discount: 'åº”ç”¨æŠ˜æ‰£',
                    number_of_items: 'å•†å“æ•°é‡',
                    notes: 'æ³¨æ„ï¼š',
                    error_invalid_rate: 'ç¨ç‡æˆ–æŠ˜æ‰£å¿…é¡»åœ¨ 0% åˆ° 100% ä¹‹é—´ã€‚',
                    error_no_items: 'è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæœ‰æ•ˆçš„å•†å“é‡‘é¢ã€‚',
                    notes_list: `
                        <li>æŠ˜æ‰£åœ¨è®¡ç®—é”€å”®ç¨ä¹‹å‰åº”ç”¨ã€‚</li>
                        <li>å½“é€‰æ‹©â€œä»·æ ¼å«ç¨â€æ—¶ï¼Œè®¡ç®—å™¨å°†ä»æ€»ä»·ä¸­æ‰£é™¤ç¨é¢ã€‚</li>
                        <li>ç»“æœå››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ï¼Œä»¥ç¡®ä¿è´§å¸å‡†ç¡®æ€§ã€‚</li>
                        <li>é”€å”®ç¨ç‡å› åœ°ç‚¹è€Œå¼‚ - è¯·æ ¸å®æ‚¨æ‰€åœ¨åœ°åŒºçš„æ­£ç¡®ç¨ç‡ã€‚</li>
                    `,
                },
                'zh-TW': {
                    title: 'ğŸ›’ éŠ·å”®ç¨…è¨ˆç®—å™¨',
                    tax_rate: 'éŠ·å”®ç¨…ç‡ (%)',
                    discount: 'æŠ˜æ‰£ (%)',
                    items: 'å•†å“åˆ—è¡¨',
                    item_name: 'å•†å“åç¨±',
                    amount: 'é‡‘é¡',
                    add_item: 'æ·»åŠ å•†å“',
                    calculate_option: 'è¨ˆç®—é¸é …',
                    tax_included: 'åƒ¹æ ¼å«ç¨… (è¨ˆç®—ç¨…å‰åƒ¹æ ¼)',
                    tax_excluded: 'åƒ¹æ ¼ä¸å«ç¨… (è¨ˆç®—å«ç¨…ç¸½åƒ¹)',
                    load_sample: 'è¼‰å…¥ç¯„ä¾‹æ•¸æ“š',
                    clear_data: 'æ¸…é™¤æ•¸æ“š',
                    calculate: 'è¨ˆç®—ç¸½åƒ¹',
                    subtotal: 'å°è¨ˆ (ç¨…å‰)',
                    discount_amount: 'æŠ˜æ‰£é‡‘é¡',
                    tax_amount: 'éŠ·å”®ç¨…é‡‘é¡',
                    total: 'ç¸½é‡‘é¡',
                    calculation_details: 'è¨ˆç®—è©³æƒ…',
                    applied_tax_rate: 'æ‡‰ç”¨ç¨…ç‡',
                    applied_discount: 'æ‡‰ç”¨æŠ˜æ‰£',
                    number_of_items: 'å•†å“æ•¸é‡',
                    notes: 'æ³¨æ„ï¼š',
                    error_invalid_rate: 'ç¨…ç‡æˆ–æŠ˜æ‰£å¿…é ˆåœ¨ 0% åˆ° 100% ä¹‹é–“ã€‚',
                    error_no_items: 'è«‹è‡³å°‘æ·»åŠ ä¸€å€‹æœ‰æ•ˆçš„å•†å“é‡‘é¡ã€‚',
                    notes_list: `
                        <li>æŠ˜æ‰£åœ¨è¨ˆç®—éŠ·å”®ç¨…ä¹‹å‰æ‡‰ç”¨ã€‚</li>
                        <li>ç•¶é¸æ“‡â€œåƒ¹æ ¼å«ç¨…â€æ™‚ï¼Œè¨ˆç®—å™¨å°‡å¾ç¸½åƒ¹ä¸­æ‰£é™¤ç¨…é¡ã€‚</li>
                        <li>çµæœå››æ¨äº”å…¥åˆ°å°æ•¸é»å¾Œå…©ä½ï¼Œä»¥ç¢ºä¿è²¨å¹£æº–ç¢ºæ€§ã€‚</li>
                        <li>éŠ·å”®ç¨…ç‡å› åœ°é»è€Œç•° - è«‹æ ¸å¯¦æ‚¨æ‰€åœ¨åœ°å€çš„æ­£ç¢ºç¨…ç‡ã€‚</li>
                    `,
                },
                'ja': {
                    title: 'ğŸ›’ æ¶ˆè²»ç¨è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    tax_rate: 'æ¶ˆè²»ç¨ç‡ (%)',
                    discount: 'å‰²å¼•ç‡ (%)',
                    items: 'å•†å“ãƒªã‚¹ãƒˆ',
                    item_name: 'å•†å“å',
                    amount: 'é‡‘é¡',
                    add_item: 'å•†å“ã‚’è¿½åŠ ',
                    calculate_option: 'è¨ˆç®—ã‚ªãƒ—ã‚·ãƒ§ãƒ³',
                    tax_included: 'ä¾¡æ ¼ã«ç¨è¾¼ã¿ (ç¨æŠœãä¾¡æ ¼ã‚’è¨ˆç®—)',
                    tax_excluded: 'ä¾¡æ ¼ã«ç¨æŠœã (ç¨è¾¼ã¿ç·é¡ã‚’è¨ˆç®—)',
                    load_sample: 'ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰',
                    clear_data: 'ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢',
                    calculate: 'åˆè¨ˆã‚’è¨ˆç®—',
                    subtotal: 'å°è¨ˆ (ç¨æŠœã)',
                    discount_amount: 'å‰²å¼•é¡',
                    tax_amount: 'æ¶ˆè²»ç¨é¡',
                    total: 'åˆè¨ˆé‡‘é¡',
                    calculation_details: 'è¨ˆç®—è©³ç´°',
                    applied_tax_rate: 'é©ç”¨ç¨ç‡',
                    applied_discount: 'é©ç”¨å‰²å¼•',
                    number_of_items: 'å•†å“æ•°',
                    notes: 'æ³¨æ„ç‚¹ï¼š',
                    error_invalid_rate: 'ç¨ç‡ã¾ãŸã¯å‰²å¼•ç‡ã¯0%ã‹ã‚‰100%ã®é–“ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
                    error_no_items: 'å°‘ãªãã¨ã‚‚1ã¤ã®æœ‰åŠ¹ãªå•†å“é‡‘é¡ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚',
                    notes_list: `
                        <li>å‰²å¼•ã¯æ¶ˆè²»ç¨ã®è¨ˆç®—å‰ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚</li>
                        <li>ã€Œä¾¡æ ¼ã«ç¨è¾¼ã¿ã€ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹å ´åˆã€åˆè¨ˆä¾¡æ ¼ã‹ã‚‰ç¨é‡‘ãŒé€†ç®—ã•ã‚Œã¾ã™ã€‚</li>
                        <li>é€šè²¨ã®ç²¾åº¦ã®ãŸã‚ã€çµæœã¯å°æ•°ç‚¹ä»¥ä¸‹2æ¡ã«å››æ¨äº”å…¥ã•ã‚Œã¾ã™ã€‚</li>
                        <li>æ¶ˆè²»ç¨ç‡ã¯åœ°åŸŸã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ - ãŠä½ã¾ã„ã®åœ°åŸŸã®æ­£ã—ã„ç¨ç‡ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</li>
                    `,
                },
                'ru': {
                    title: 'ğŸ›’ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ½Ñ‹Ñ… Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ²',
                    tax_rate: 'Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ (%)',
                    discount: 'Ğ¡ĞºĞ¸Ğ´ĞºĞ° (%)',
                    items: 'Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹',
                    item_name: 'ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°',
                    amount: 'Ğ¡ÑƒĞ¼Ğ¼Ğ°',
                    add_item: 'Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞµÑ‰Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€',
                    calculate_option: 'ĞĞ¿Ñ†Ğ¸Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ°',
                    tax_included: 'Ğ¦ĞµĞ½Ğ° Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ½Ğ°Ğ»Ğ¾Ğ³ (Ñ€Ğ°ÑÑ‡ĞµÑ‚ Ñ†ĞµĞ½Ñ‹ Ğ´Ğ¾ Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°)',
                    tax_excluded: 'Ğ¦ĞµĞ½Ğ° Ğ½Ğµ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ½Ğ°Ğ»Ğ¾Ğ³ (Ñ€Ğ°ÑÑ‡ĞµÑ‚ Ğ¾Ğ±Ñ‰ĞµĞ¹ ÑÑƒĞ¼Ğ¼Ñ‹ Ñ Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ¼)',
                    load_sample: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ·ĞµÑ† Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
                    clear_data: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
                    calculate: 'Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¸Ñ‚Ğ¾Ğ³',
                    subtotal: 'ĞŸÑ€Ğ¾Ğ¼ĞµĞ¶ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ¸Ñ‚Ğ¾Ğ³ (Ğ´Ğ¾ Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°)',
                    discount_amount: 'Ğ¡ÑƒĞ¼Ğ¼Ğ° ÑĞºĞ¸Ğ´ĞºĞ¸',
                    tax_amount: 'Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶',
                    total: 'ĞĞ±Ñ‰Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ°',
                    calculation_details: 'Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ°',
                    applied_tax_rate: 'ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ°Ñ ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°',
                    applied_discount: 'ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ°Ñ ÑĞºĞ¸Ğ´ĞºĞ°',
                    number_of_items: 'ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    error_invalid_rate: 'Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° Ğ¸Ğ»Ğ¸ ÑĞºĞ¸Ğ´ĞºĞ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ² Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ Ğ¾Ñ‚ 0% Ğ´Ğ¾ 100%.',
                    error_no_items: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ñƒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ ÑÑƒĞ¼Ğ¼Ñƒ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°.',
                    notes_list: `
                        <li>Ğ¡ĞºĞ¸Ğ´ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ´Ğ¾ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶.</li>
                        <li>Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾ "Ğ¦ĞµĞ½Ğ° Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ½Ğ°Ğ»Ğ¾Ğ³", ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ²Ñ‹Ñ‡Ñ‚ĞµÑ‚ Ğ½Ğ°Ğ»Ğ¾Ğ³ Ğ¸Ğ· Ğ¾Ğ±Ñ‰ĞµĞ¹ Ñ†ĞµĞ½Ñ‹.</li>
                        <li>Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ÑÑÑ‚ÑÑ Ğ´Ğ¾ 2 Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹.</li>
                        <li>Ğ¡Ñ‚Ğ°Ğ²ĞºĞ¸ Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ Ğ²Ğ°Ñ€ÑŒĞ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ğ°Ğ²ĞºÑƒ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ñ€Ğ°Ğ¹Ğ¾Ğ½Ğ°.</li>
                    `,
                }
            },

            // æ ¸å¿ƒç¿»è¯‘å‡½æ•°
            translate: function(lang) {
                const dict = this.i18n[lang];
                if (!dict) return;

                // 1. ç¿»è¯‘æ™®é€šå…ƒç´ 
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (key && dict[key]) {
                        // ç‰¹æ®Šå¤„ç† h2 æ ‡ç­¾ï¼Œä¿ç•™å›¾æ ‡
                        if (key === 'title') {
                            el.innerHTML = dict[key];
                        } else {
                            el.textContent = dict[key];
                        }
                    }
                });

                // 2. ç¿»è¯‘è¾“å…¥æ¡†çš„ placeholder
                document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                    const key = el.getAttribute('data-i18n-placeholder');
                    if (key && dict[key]) {
                        el.placeholder = dict[key];
                    }
                });

                // 3. ç¿»è¯‘åˆ—è¡¨å†…å®¹ (notes_list)
                const notesListEl = document.querySelector('[data-i18n="notes_list"]');
                if (notesListEl && dict['notes_list']) {
                    notesListEl.innerHTML = dict['notes_list'];
                }

                // 4. æ›´æ–°å½“å‰è¯­è¨€
                this.currentLang = lang;
            },

            // è¯­è¨€åˆ‡æ¢å‡½æ•° (ä¿®å¤äº†ç¼ºå¤±çš„å®ç°)
            changeLang: function() {
                const lang = document.getElementById('tax-lang').value;
                this.translate(lang);
                // åˆ‡æ¢è¯­è¨€åï¼Œå¦‚æœç»“æœå·²æ˜¾ç¤ºï¼Œé‡æ–°è®¡ç®—ä»¥ç¡®ä¿é”™è¯¯ä¿¡æ¯ç­‰ä¹Ÿæ˜¯æœ€æ–°çš„è¯­è¨€
                if (document.getElementById('tax-results').classList.contains('hidden') === false) {
                    this.calc();
                }
            },

            // --- æ ¸å¿ƒè®¡ç®—é€»è¾‘ ---
            calc: function() {
                const lang = this.currentLang;
                const dict = this.i18n[lang];

                const taxRateInput = document.getElementById('tax-rate');
                const discountInput = document.getElementById('discount');
                const taxError = document.getElementById('tax-error');
                const taxResults = document.getElementById('tax-results');
                const itemsContainer = document.getElementById('items-container');

                // 1. è·å–ç¨ç‡å’ŒæŠ˜æ‰£å¹¶è¿›è¡ŒåŸºæœ¬æ ¡éªŒ
                const taxRate = parseFloat(taxRateInput.value) / 100;
                const discountRate = parseFloat(discountInput.value) / 100;

                if (isNaN(taxRate) || taxRate < 0 || taxRate > 1 || isNaN(discountRate) || discountRate < 0 || discountRate > 1) {
                    taxError.textContent = dict['error_invalid_rate'];
                    taxError.classList.remove('hidden');
                    taxResults.classList.add('hidden');
                    return;
                }

                // 2. è·å–å•†å“é‡‘é¢
                let totalBeforeDiscount = 0;
                const itemInputs = itemsContainer.querySelectorAll('.item-row input[type="number"]');
                let validItemCount = 0;

                itemInputs.forEach(input => {
                    const amount = parseFloat(input.value);
                    if (!isNaN(amount) && amount > 0) {
                        totalBeforeDiscount += amount;
                        validItemCount++;
                    }
                });

                if (totalBeforeDiscount <= 0 || validItemCount === 0) {
                    taxError.textContent = dict['error_no_items'];
                    taxError.classList.remove('hidden');
                    taxResults.classList.add('hidden');
                    return;
                }

                // æ¸…é™¤é”™è¯¯ä¿¡æ¯å¹¶æ˜¾ç¤ºç»“æœåŒºåŸŸ
                taxError.classList.add('hidden');
                taxResults.classList.remove('hidden');

                // 3. åº”ç”¨æŠ˜æ‰£
                const discountAmount = totalBeforeDiscount * discountRate;
                const subtotalBeforeTax = totalBeforeDiscount - discountAmount;

                // 4. æ ¹æ®è®¡ç®—é€‰é¡¹è¿›è¡Œè®¡ç®—
                const isTaxIncluded = document.getElementById('tax-included').checked;

                let salesTaxAmount;
                let totalAmount;

                if (isTaxIncluded) {
                    // ä»·æ ¼å«ç¨ (è®¡ç®—ç¨å‰ä»·æ ¼)
                    // Price = Total / (1 + Rate)
                    const taxMultiplier = 1 + taxRate;
                    const priceBeforeTax = subtotalBeforeTax / taxMultiplier;
                    salesTaxAmount = subtotalBeforeTax - priceBeforeTax;
                    totalAmount = subtotalBeforeTax; // æ€»ä»·å°±æ˜¯è¾“å…¥çš„å°è®¡ (å·²å«ç¨)
                } else {
                    // ä»·æ ¼ä¸å«ç¨ (è®¡ç®—å«ç¨æ€»ä»·)
                    // Tax = Price * Rate
                    salesTaxAmount = subtotalBeforeTax * taxRate;
                    totalAmount = subtotalBeforeTax + salesTaxAmount;
                }

                // 5. æ ¼å¼åŒ–å¹¶æ˜¾ç¤ºç»“æœ (å››èˆäº”å…¥åˆ°ä¸¤ä½å°æ•°)
                document.getElementById('result-subtotal').textContent = `$${totalBeforeDiscount.toFixed(2)}`;
                document.getElementById('result-discount').textContent = `$${discountAmount.toFixed(2)}`;
                document.getElementById('result-tax').textContent = `$${salesTaxAmount.toFixed(2)}`;
                document.getElementById('result-total').textContent = `$${totalAmount.toFixed(2)}`;

                document.getElementById('applied-tax-rate').textContent = `${(taxRate * 100).toFixed(2)}%`;
                document.getElementById('applied-discount').textContent = `${(discountRate * 100).toFixed(2)}%`;
                document.getElementById('number-of-items').textContent = validItemCount;
            },

            // --- è¾…åŠ©å‡½æ•° ---
            addItem: function(name = '', amount = '') {
                const container = document.getElementById('items-container');
                const lang = this.currentLang;
                const dict = this.i18n[lang];

                const row = document.createElement('div');
                row.className = 'item-row';
                row.innerHTML = `
                    <input type="text" placeholder="${dict['item_name']}" value="${name}" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" data-i18n-placeholder="item_name">
                    <input type="number" placeholder="0.00" min="0" step="0.01" value="${amount}" oninput="SalesTaxCalc.calc()" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" data-i18n-placeholder="amount">
                    <button type="button" onclick="SalesTaxCalc.removeItem(this)" class="bg-red-500 text-white rounded hover:bg-red-600">-</button>
                `;
                container.appendChild(row);
                // æ¯æ¬¡æ·»åŠ æ–°è¡Œåï¼Œç¡®ä¿æ–°è¡Œä¸Šçš„ placeholder ä¹Ÿæ˜¯æ­£ç¡®çš„è¯­è¨€
                row.querySelector('input[type="text"]').placeholder = dict['item_name'];
                this.calc();
            },

            removeItem: function(button) {
                button.closest('.item-row').remove();
                this.calc();
            },

            clearData: function() {
                document.getElementById('tax-rate').value = '7.5';
                document.getElementById('discount').value = '0';
                document.getElementById('tax-excluded').checked = true;

                const itemsContainer = document.getElementById('items-container');
                itemsContainer.innerHTML = '';
                this.addItem('', ''); // Add one empty row

                document.getElementById('tax-results').classList.add('hidden');
                document.getElementById('tax-error').classList.add('hidden');

                this.calc();
            },

            loadSampleData: function() {
                this.clearData();
                document.getElementById('tax-rate').value = '5.0';
                document.getElementById('discount').value = '10';
                document.getElementById('items-container').innerHTML = ''; // Clear the initial one

                this.addItem('Laptop', '1200.00');
                this.addItem('Mouse', '25.50');
                this.addItem('Software License', '150.00');
                // The addItem calls calc() automatically
            }
        };

        // åˆå§‹åŒ–ï¼šåŠ è½½æ—¶è‡ªåŠ¨è¿›è¡Œä¸€æ¬¡ç¿»è¯‘å’Œè®¡ç®—
        window.onload = function() {
            // é»˜è®¤è®¾ç½®ä¸ºè‹±æ–‡ï¼Œç„¶åè°ƒç”¨ translate å‡½æ•°æ¥åˆå§‹åŒ– UI
            SalesTaxCalc.translate(SalesTaxCalc.currentLang);
            // ç¡®ä¿é¡µé¢åŠ è½½æ—¶è‡³å°‘æœ‰ä¸€ä¸ªå•†å“è¡Œ
            if (document.getElementById('items-container').children.length === 0) {
                SalesTaxCalc.addItem('Test Item', '100');
            }
            // åˆå§‹è®¡ç®—
            SalesTaxCalc.calc();

            // ä¸ºè¾“å…¥å­—æ®µæ·»åŠ  oninput äº‹ä»¶ç›‘å¬å™¨ï¼Œä»¥ä¾¿åœ¨å€¼æ›´æ”¹æ—¶è‡ªåŠ¨è®¡ç®—
            document.getElementById('tax-rate').addEventListener('input', SalesTaxCalc.calc);
            document.getElementById('discount').addEventListener('input', SalesTaxCalc.calc);
        };
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>