<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derivative Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="derivative_calculator">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ“ˆ">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Derivative Calculator">
    <meta name="description" content="Calculate derivatives of functions step by step">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="å¯¼æ•°è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="é€æ­¥è®¡ç®—å‡½æ•°çš„å¯¼æ•°">
    
    <meta name="lang-title-zh-TW" content="å°æ•¸è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="é€æ­¥è¨ˆç®—å‡½æ•¸çš„å°æ•¸">
    
    <meta name="lang-title-ja" content="å°é–¢æ•°è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="é–¢æ•°ã®å°é–¢æ•°ã‚’æ®µéšçš„ã«è¨ˆç®—">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½Ñ‹Ñ…">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .calculation-result { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .form-group { margin-bottom: 15px; }
        input, select, textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        textarea { min-height: 80px; }
        .steps-container { margin-top: 15px; padding: 10px; background: white; border-radius: 4px; font-size: 0.9rem; }
        .step-item { margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
        .step-item:last-child { border-bottom: none; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/derivative-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="derivative_calculator" 
         data-category="calculus" 
         data-title="Derivative Calculator" 
         data-icon="ğŸ“ˆ">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="deriv-lang" onchange="DerivativeCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“ˆ Derivative Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- å‡½æ•°è¾“å…¥ -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="function">Function f(x)</label>
                <textarea id="function-input" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g. x^2 + 3x - sin(x)"></textarea>
            </div>
            
            <!-- å˜é‡é€‰æ‹© -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="variable">Variable</label>
                <select id="variable-select" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="x" selected>x</option>
                    <option value="y">y</option>
                    <option value="t">t</option>
                    <option value="u">u</option>
                    <option value="v">v</option>
                </select>
            </div>
            
            <!-- å¯¼æ•°é˜¶æ•° -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="order">Derivative Order</label>
                <input type="number" id="deriv-order" min="1" max="10" value="1" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="DerivativeCalc.clearInput()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="DerivativeCalc.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate Derivative</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="deriv-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="deriv-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div class="calculation-result">
                <div class="text-lg font-medium mb-3" id="main-result">f'(x) = 2x + 3</div>
                
                <div class="text-sm text-gray-500 mb-2" data-i18n="steps">Calculation Steps</div>
                <div class="steps-container" id="calculation-steps">
                    <!-- è®¡ç®—æ­¥éª¤å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" id="notes-list">
                <li data-i18n="note1">Use standard mathematical notation (e.g., x^2 for x squared, sin(x) for sine function)</li>
                <li data-i18n="note2">Supported functions: sin, cos, tan, cot, sec, csc, log, ln, exp, sqrt</li>
                <li data-i18n="note3">Use * for multiplication (e.g., 2*x instead of 2x)</li>
            </ul>
        </div>
    </div>

    <script>
        const DerivativeCalc = {
            // å¤šè¯­è¨€æ–‡æœ¬
            i18n: {
                'en': {
                    title: 'ğŸ“ˆ Derivative Calculator',
                    function: 'Function f(x)',
                    variable: 'Variable',
                    order: 'Derivative Order',
                    clear: 'Clear',
                    calculate: 'Calculate Derivative',
                    result: 'Result',
                    steps: 'Calculation Steps',
                    notes: 'Notes:',
                    note1: 'Use standard mathematical notation (e.g., x^2 for x squared, sin(x) for sine function)',
                    note2: 'Supported functions: sin, cos, tan, cot, sec, csc, log, ln, exp, sqrt',
                    note3: 'Use * for multiplication (e.g., 2*x instead of 2x)',
                    err_invalid_function: 'Please enter a valid function'
                },
                'zh-CN': {
                    title: 'ğŸ“ˆ å¯¼æ•°è®¡ç®—å™¨',
                    function: 'å‡½æ•° f(x)',
                    variable: 'å˜é‡',
                    order: 'å¯¼æ•°é˜¶æ•°',
                    clear: 'æ¸…é™¤',
                    calculate: 'è®¡ç®—å¯¼æ•°',
                    result: 'ç»“æœ',
                    steps: 'è®¡ç®—æ­¥éª¤',
                    notes: 'è¯´æ˜ï¼š',
                    note1: 'ä½¿ç”¨æ ‡å‡†æ•°å­¦ç¬¦å·ï¼ˆä¾‹å¦‚ï¼Œx^2 è¡¨ç¤ºxçš„å¹³æ–¹ï¼Œsin(x)è¡¨ç¤ºæ­£å¼¦å‡½æ•°ï¼‰',
                    note2: 'æ”¯æŒçš„å‡½æ•°ï¼šsin, cos, tan, cot, sec, csc, log, ln, exp, sqrt',
                    note3: 'ä½¿ç”¨*è¡¨ç¤ºä¹˜æ³•ï¼ˆä¾‹å¦‚ï¼Œ2*xè€Œä¸æ˜¯2xï¼‰',
                    err_invalid_function: 'è¯·è¾“å…¥æœ‰æ•ˆçš„å‡½æ•°'
                },
                'zh-TW': {
                    title: 'ğŸ“ˆ å°æ•¸è¨ˆç®—å™¨',
                    function: 'å‡½æ•¸ f(x)',
                    variable: 'è®Šé‡',
                    order: 'å°æ•¸éšæ•¸',
                    clear: 'æ¸…é™¤',
                    calculate: 'è¨ˆç®—å°æ•¸',
                    result: 'çµæœ',
                    steps: 'è¨ˆç®—æ­¥é©Ÿ',
                    notes: 'èªªæ˜ï¼š',
                    note1: 'ä½¿ç”¨æ¨™æº–æ•¸å­¸ç¬¦è™Ÿï¼ˆä¾‹å¦‚ï¼Œx^2 è¡¨ç¤ºxçš„å¹³æ–¹ï¼Œsin(x)è¡¨ç¤ºæ­£å¼¦å‡½æ•¸ï¼‰',
                    note2: 'æ”¯æŒçš„å‡½æ•¸ï¼šsin, cos, tan, cot, sec, csc, log, ln, exp, sqrt',
                    note3: 'ä½¿ç”¨*è¡¨ç¤ºä¹˜æ³•ï¼ˆä¾‹å¦‚ï¼Œ2*xè€Œä¸æ˜¯2xï¼‰',
                    err_invalid_function: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„å‡½æ•¸'
                },
                'ja': {
                    title: 'ğŸ“ˆ å°é–¢æ•°è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    function: 'é–¢æ•° f(x)',
                    variable: 'å¤‰æ•°',
                    order: 'å°é–¢æ•°ã®æ¬¡æ•°',
                    clear: 'ã‚¯ãƒªã‚¢',
                    calculate: 'å°é–¢æ•°ã‚’è¨ˆç®—',
                    result: 'çµæœ',
                    steps: 'è¨ˆç®—æ‰‹é †',
                    notes: 'æ³¨é‡ˆï¼š',
                    note1: 'æ¨™æº–çš„ãªæ•°å­¦è¡¨è¨˜ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼šx^2ã¯xã®2ä¹—ã€sin(x)ã¯æ­£å¼¦é–¢æ•°ï¼‰',
                    note2: 'ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹é–¢æ•°ï¼šsinã€cosã€tanã€cotã€secã€cscã€logã€lnã€expã€sqrt',
                    note3: 'ä¹—ç®—ã«ã¯*ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š2xã®ä»£ã‚ã‚Šã«2*xï¼‰',
                    err_invalid_function: 'æœ‰åŠ¹ãªé–¢æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'
                },
                'ru': {
                    title: 'ğŸ“ˆ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½Ñ‹Ñ…',
                    function: 'Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ f(x)',
                    variable: 'ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ',
                    order: 'ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½Ğ¾Ğ¹',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½ÑƒÑ',
                    result: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    steps: 'Ğ¨Ğ°Ğ³Ğ¸ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    note1: 'Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½ÑƒÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, x^2 Ğ´Ğ»Ñ x Ğ² ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğµ, sin(x) Ğ´Ğ»Ñ ÑĞ¸Ğ½ÑƒÑĞ°)',
                    note2: 'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸: sin, cos, tan, cot, sec, csc, log, ln, exp, sqrt',
                    note3: 'Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ * Ğ´Ğ»Ñ ÑƒĞ¼Ğ½Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, 2*x Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 2x)',
                    err_invalid_function: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ'
                }
            },
            
            // åˆå§‹åŒ–
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // åˆå§‹åŒ–æ“ä½œ
            },
            
            // è®¡ç®—å¯¼æ•°
            calculate: function() {
                const functionInput = document.getElementById('function-input').value.trim();
                const variable = document.getElementById('variable-select').value;
                const order = parseInt(document.getElementById('deriv-order').value) || 1;
                
                const errorEl = document.getElementById('deriv-error');
                const resultsEl = document.getElementById('deriv-results');
                
                // éªŒè¯è¾“å…¥
                if (!functionInput) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_function;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                // è¿™é‡Œåº”è¯¥æœ‰å®é™…çš„å¯¼æ•°è®¡ç®—é€»è¾‘
                // ä»¥ä¸‹æ˜¯æ¨¡æ‹Ÿç»“æœ
                const mainResultEl = document.getElementById('main-result');
                const stepsContainer = document.getElementById('calculation-steps');
                
                // æ¨¡æ‹Ÿç»“æœ - å®é™…åº”ç”¨ä¸­åº”æ›¿æ¢ä¸ºçœŸå®è®¡ç®—
                mainResultEl.textContent = `f${this.getDerivativeSymbol(order)}(${variable}) = ${this.simulateDerivative(functionInput, variable, order)}`;
                
                // æ¨¡æ‹Ÿæ­¥éª¤
                stepsContainer.innerHTML = this.generateSampleSteps(functionInput, variable, order);
                
                // æ˜¾ç¤ºç»“æœ
                resultsEl.classList.remove('hidden');
            },
            
            // ç”Ÿæˆå¯¼æ•°ç¬¦å· (', '', ''', ç­‰)
            getDerivativeSymbol: function(order) {
                return '\''.repeat(order);
            },
            
            // æ¨¡æ‹Ÿå¯¼æ•°è®¡ç®— (å®é™…åº”ç”¨ä¸­æ›¿æ¢ä¸ºçœŸå®è®¡ç®—)
            simulateDerivative: function(func, varName, order) {
                // ç®€å•æ¨¡æ‹Ÿå‡ ä¸ªå¸¸è§å‡½æ•°çš„å¯¼æ•°
                if (func.includes('^2') && func.includes(varName)) {
                    return `2${varName}`;
                } else if (func.includes('sin(') && func.includes(varName)) {
                    return `cos(${varName})`;
                } else if (func.includes('cos(') && func.includes(varName)) {
                    return `-sin(${varName})`;
                } else if (func.includes('^3') && func.includes(varName)) {
                    return `3${varName}^2`;
                }
                return `d${order}${varName}/${varName}${order}`; // é»˜è®¤å ä½ç¬¦
            },
            
            // ç”Ÿæˆç¤ºä¾‹è®¡ç®—æ­¥éª¤ (å®é™…åº”ç”¨ä¸­æ›¿æ¢ä¸ºçœŸå®æ­¥éª¤)
            generateSampleSteps: function(func, varName, order) {
                const steps = [
                    `<div class="step-item"><strong>1.</strong> ${this.i18n[this.getCurrentLang()].note1}</div>`,
                    `<div class="step-item"><strong>2.</strong> ${this.i18n[this.getCurrentLang()].note2}</div>`,
                    `<div class="step-item"><strong>3.</strong> ${this.i18n[this.getCurrentLang()].note3}</div>`
                ];
                return steps.join('');
            },
            
            // æ¸…é™¤è¾“å…¥
            clearInput: function() {
                document.getElementById('function-input').value = '';
                document.getElementById('deriv-results').classList.add('hidden');
                document.getElementById('deriv-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // å¦‚æœæœ‰å€¼ï¼Œé‡æ–°è®¡ç®—ä»¥æ›´æ–°ç»“æœè¯­è¨€
                if (document.getElementById('function-input').value) {
                    this.calculate();
                }
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('deriv-lang').value;
            }
        };
        
        // åˆå§‹åŒ–è®¡ç®—å™¨
        DerivativeCalc.init();
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>