<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Category Meta Tag -->
    <meta name="category" content="finance">
    <meta name="icon" content="ğŸ¦">
    <meta name="description" content="Number to Chinese Capital Converter - Convert numbers to Traditional Chinese uppercase for banking (NTD, RMB, HKD).">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>å£¹</text></svg>">
    
    <title>æ•°å­—è½¬å›½å­—å¤§å†™è½¬æ¢å™¨ | Number to Chinese Capital</title>
    
    <link rel="canonical" href="https://toolboxpro.top/modules/math/chinese-number-capitalizer.html" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Google Fonts: Noto Serif TC for that "Official" look -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        bank: { 
                            red: '#991b1b',      /* Official Stamp Red */
                            gold: '#b45309',     /* Currency Gold */
                            paper: '#fffdf5',    /* Check Paper Off-white */
                            dark: '#0f172a'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Noto Serif TC', 'serif'], 
                        mono: ['monospace']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .glass {
                @apply bg-white/95 dark:bg-slate-800/95 backdrop-blur-lg border border-stone-200 dark:border-stone-700;
            }
            .input-group {
                @apply relative flex items-center;
            }
            .input-field {
                @apply w-full pl-4 pr-4 py-4 rounded-xl border-2 border-stone-200 dark:border-stone-600 bg-white dark:bg-slate-900 text-stone-800 dark:text-white focus:ring-4 focus:ring-bank-red/20 focus:border-bank-red outline-none transition-all text-2xl font-bold font-mono text-center placeholder:text-stone-300;
            }
            .currency-btn {
                @apply px-4 py-2 rounded-lg border border-stone-200 dark:border-stone-600 text-sm font-bold text-stone-500 hover:bg-bank-red hover:text-white hover:border-bank-red transition-all;
            }
            .currency-btn.active {
                @apply bg-bank-red text-white border-bank-red shadow-md;
            }
            /* Bank Slip Grid Styles */
            .slip-grid {
                @apply flex border-2 border-bank-red/50 rounded-lg overflow-hidden bg-white dark:bg-slate-800 shadow-inner;
            }
            .slip-col {
                @apply flex-1 flex flex-col border-r border-bank-red/30 last:border-r-0 min-w-[32px];
            }
            .slip-header {
                @apply bg-bank-paper dark:bg-slate-700 text-[10px] md:text-xs text-stone-500 dark:text-stone-400 text-center py-1 font-serif border-b border-bank-red/20 h-8 flex items-center justify-center;
            }
            .slip-cell {
                @apply h-12 md:h-16 flex items-center justify-center text-xl md:text-3xl font-serif font-bold text-bank-red dark:text-red-400;
            }
            
            /* Custom Scrollbar */
            ::-webkit-scrollbar { width: 8px; height: 8px; }
            ::-webkit-scrollbar-track { background: #f1f1f1; }
            ::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
            ::-webkit-scrollbar-thumb:hover { background: #555; }
        }
    </style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="bg-stone-100 dark:bg-slate-900 min-h-screen font-sans text-stone-800 dark:text-stone-200 transition-colors duration-300 overflow-x-hidden bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">

    <!-- Header -->
    <header class="bg-white/95 dark:bg-slate-800/95 border-b border-stone-200 dark:border-stone-700 sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded bg-bank-red text-white flex items-center justify-center font-serif font-bold text-2xl shadow-md border-2 border-white dark:border-slate-600">
                    å£¹
                </div>
                <div>
                    <h1 class="text-lg font-bold text-stone-900 dark:text-white leading-tight" data-i18n="title">æ•°å­—è½¬å›½å­—å¤§å†™</h1>
                    <p class="text-[10px] text-stone-500 font-medium" data-i18n="subtitle">Financial Capital Number Converter</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2">
                <select id="lang-selector" class="bg-stone-50 dark:bg-slate-700 text-xs font-bold px-2 py-1.5 rounded-lg border-none focus:ring-0 cursor-pointer text-stone-600 dark:text-stone-300 outline-none shadow-sm">
                    <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                    <option value="en">English</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                    <option value="pl">Polski</option>
                </select>
                <button id="mode-toggle" class="w-8 h-8 rounded-lg bg-stone-50 dark:bg-slate-700 flex items-center justify-center text-stone-500 hover:text-bank-red transition-colors shadow-sm">
                    <i class="fa fa-moon-o dark:hidden"></i>
                    <i class="fa fa-sun-o hidden dark:inline"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 max-w-4xl">

        <!-- Main Converter Card -->
        <div class="glass rounded-2xl shadow-xl overflow-hidden mb-8 border-t-4 border-t-bank-red relative">
            
            <!-- Red Stamp Decor -->
            <div class="absolute -top-6 -right-6 w-24 h-24 rounded-full border-4 border-bank-red/10 flex items-center justify-center rotate-12 pointer-events-none select-none">
                <div class="w-20 h-20 rounded-full border border-bank-red/10 flex items-center justify-center">
                    <span class="font-serif text-bank-red/10 text-xs font-bold">ç¥¨æ®ä¸“ç”¨</span>
                </div>
            </div>

            <div class="p-6 md:p-10">
                
                <!-- Currency Selector -->
                <div class="flex justify-center gap-3 mb-6">
                    <button class="currency-btn active" onclick="App.setCurrency('TWD')" id="btn-twd">
                        <i class="fa fa-money mr-1"></i> æ–°å°å¹£ (NTD)
                    </button>
                    <button class="currency-btn" onclick="App.setCurrency('CNY')" id="btn-cny">
                        <i class="fa fa-jpy mr-1"></i> äººæ°‘å¹£ (RMB)
                    </button>
                    <button class="currency-btn" onclick="App.setCurrency('HKD')" id="btn-hkd">
                        <i class="fa fa-dollar mr-1"></i> æ¸¯å¹£ (HKD)
                    </button>
                </div>

                <!-- Input Area -->
                <div class="space-y-6">
                    <div class="text-center">
                        <label class="block text-xs font-bold text-stone-400 uppercase tracking-widest mb-2" data-i18n="lbl_input">è¾“å…¥é˜¿æ‹‰ä¼¯æ•°å­— (Input Number)</label>
                        <div class="relative max-w-lg mx-auto">
                            <input type="number" id="inp-num" class="input-field" placeholder="12345" oninput="App.convert()" onkeydown="return event.keyCode !== 69"> <!-- Prevent 'e' -->
                            <div class="absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 font-bold pointer-events-none" id="unit-label">å…ƒ</div>
                        </div>
                        <p class="text-[10px] text-stone-400 mt-2" id="hint-text">
                            <i class="fa fa-info-circle"></i> æ–°å°å¹£æœ€å°ç‚º1å…ƒ (Integers Only)
                        </p>
                    </div>
                </div>

                <hr class="border-stone-200 dark:border-stone-700 my-8">

                <!-- Result 1: Standard String -->
                <div class="space-y-2 mb-8">
                    <div class="flex justify-between items-end">
                        <label class="text-xs font-bold text-bank-red dark:text-red-400 uppercase tracking-widest" data-i18n="lbl_result_str">å¤§å†™é‡‘é¢ (Standard Format)</label>
                        <button onclick="App.copyResult()" class="text-xs text-stone-400 hover:text-bank-red transition-colors flex items-center gap-1">
                            <i class="fa fa-clone"></i> <span data-i18n="btn_copy">å¤åˆ¶</span>
                        </button>
                    </div>
                    <div class="relative bg-bank-paper dark:bg-slate-900/50 p-6 rounded-xl border border-stone-200 dark:border-stone-600 shadow-inner group cursor-pointer" onclick="App.copyResult()">
                        <div id="res-string" class="text-2xl md:text-3xl font-serif font-bold text-stone-800 dark:text-stone-100 break-all leading-relaxed">
                            é›¶å…ƒæ•´
                        </div>
                        <div class="absolute inset-0 bg-bank-red/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center">
                            <span class="text-bank-red font-bold text-sm bg-white px-3 py-1 rounded-full shadow-sm">Click to Copy</span>
                        </div>
                    </div>
                </div>

                <!-- Result 2: Bank Slip Grid -->
                <div class="space-y-3">
                    <label class="text-xs font-bold text-stone-400 uppercase tracking-widest" data-i18n="lbl_result_grid">é“¶è¡Œå¡«å•æ¨¡å¼ (Bank Slip)</label>
                    <div class="overflow-x-auto pb-2 scrollbar-hide">
                        <div class="min-w-[600px] slip-grid" id="grid-container">
                            <!-- Grid Headers -->
                            <!-- Populated by JS -->
                        </div>
                    </div>
                    <p class="text-[10px] text-center text-stone-400" data-i18n="hint_grid">
                        * æ­¤æ ¼å¼æ¨¡æ‹Ÿå¸¸è§æ±‡æ¬¾å•æ®ï¼Œè‡ªåŠ¨å¡«å……å¯¹åº”æ ä½ã€‚
                    </p>
                </div>

            </div>
        </div>

        <!-- Info Section -->
        <div class="grid md:grid-cols-2 gap-4">
            <!-- Reference Table -->
            <div class="glass rounded-xl p-6 shadow-sm">
                <h3 class="font-serif font-bold text-stone-800 dark:text-white mb-4 flex items-center gap-2">
                    <i class="fa fa-table text-bank-red"></i> <span data-i18n="ref_title">æ•°å­—å¯¹ç…§è¡¨</span>
                    <span id="current-currency-badge" class="ml-2 text-[10px] bg-bank-red text-white px-2 py-0.5 rounded-full uppercase">TWD</span>
                </h3>
                <div class="grid grid-cols-5 gap-2 text-center text-sm" id="ref-digit-grid">
                    <!-- Populated by JS -->
                </div>
                <div class="mt-2 grid grid-cols-5 gap-2 text-center text-sm" id="ref-unit-grid">
                     <!-- Populated by JS -->
                </div>
            </div>

            <!-- History/Usage -->
            <div class="glass rounded-xl p-6 shadow-sm">
                <h3 class="font-serif font-bold text-stone-800 dark:text-white mb-4 flex items-center gap-2">
                    <i class="fa fa-book text-bank-red"></i> <span data-i18n="info_title">å…³äºå¤§å†™æ•°å­—</span>
                </h3>
                <div class="text-sm text-stone-600 dark:text-stone-300 space-y-3 leading-relaxed" data-i18n="info_content">
                    <p>å›½å­—å¤§å†™æ•°å­—ä¸»è¦ç”¨äºé‡‘èå’Œæ³•å¾‹æ–‡ä»¶ï¼Œç›®çš„æ˜¯é˜²æ­¢æ•°å­—è¢«æ¶‚æ”¹ã€‚</p>
                    <p>ç›¸ä¼ è¿™å¥—ç³»ç»Ÿç”±æ˜å¤ªç¥–æœ±å…ƒç’‹åœ¨â€œéƒ­æ¡“æ¡ˆâ€åç¡®ç«‹ï¼Œå°†â€œä¸€äºŒä¸‰â€æ”¹ä¸ºç¬”ç”»å¤æ‚çš„â€œå£¹è²³åƒâ€ï¼Œæœ‰æ•ˆéåˆ¶äº†è´¦å†Œæ¶‚æ”¹çš„è´ªæ±¡è¡Œä¸ºã€‚</p>
                    <div class="bg-yellow-50 dark:bg-yellow-900/10 p-2 rounded border border-yellow-200 dark:border-yellow-700/30 text-xs italic">
                        æ³¨æ„ï¼šæ–°å°å¸æ±‡æ¬¾å•é€šå¸¸è¦æ±‚ä»â€œå…ƒâ€ä½å¼€å§‹å¡«å†™ï¼Œä¸ç•™ç©ºæ ¼ï¼Œæ•´æ•°åéœ€åŠ â€œæ•´â€æˆ–â€œæ­£â€ã€‚
                    </div>
                </div>
            </div>
        </div>

        <footer class="text-center text-xs text-stone-400 py-8 font-serif">
            <p>&copy; <span id="cur-year"></span> Financial Toolset. Generated for Educational Purposes.</p>
        </footer>

    </div>

    <script>
        const i18nData = {
            'zh-TW': {
                title: "æ•¸å­—è½‰åœ‹å­—å¤§å¯«", subtitle: "é‡‘èå°ˆç”¨å¤§å¯«è½‰æ›å·¥å…·",
                lbl_input: "è¼¸å…¥é˜¿æ‹‰ä¼¯æ•¸å­—", lbl_result_str: "å¤§å¯«é‡‘é¡", lbl_result_grid: "éŠ€è¡Œå¡«å–®æ¨¡å¼",
                btn_copy: "è¤‡è£½", hint_grid: "* æ­¤æ ¼å¼æ¨¡æ“¬å¸¸è¦‹åŒ¯æ¬¾å–®æ“šï¼Œè‡ªå‹•å¡«å……å°æ‡‰æ¬„ä½ã€‚",
                info_title: "é—œæ–¼å¤§å¯«æ•¸å­—", ref_title: "æ•¸å­—å°ç…§è¡¨",
                info_content: `<p>åœ‹å­—å¤§å¯«æ•¸å­—ä¸»è¦ç”¨æ–¼é‡‘èå’Œæ³•å¾‹æ–‡ä»¶ï¼Œç›®çš„æ˜¯é˜²æ­¢æ•¸å­—è¢«å¡—æ”¹ã€‚</p><p>ç›¸å‚³é€™å¥—ç³»çµ±ç”±æ˜å¤ªç¥–æœ±å…ƒç’‹åœ¨ã€Œéƒ­æ¡“æ¡ˆã€å¾Œç¢ºç«‹ï¼Œå°‡ã€Œä¸€äºŒä¸‰ã€æ”¹ç‚ºç­†ç•«è¤‡é›œçš„ã€Œå£¹è²³åƒã€ï¼Œæœ‰æ•ˆéåˆ¶äº†å¸³å†Šå¡—æ”¹çš„è²ªæ±¡è¡Œç‚ºã€‚</p><div class="bg-yellow-50 dark:bg-yellow-900/10 p-2 rounded border border-yellow-200 dark:border-yellow-700/30 text-xs italic mt-2">æ³¨æ„ï¼šæ–°å°å¹£åŒ¯æ¬¾å–®é€šå¸¸è¦æ±‚å¾ã€Œå…ƒã€ä½é–‹å§‹å¡«å¯«ï¼Œä¸ç•™ç©ºæ ¼ï¼Œæ•´æ•¸å¾Œéœ€åŠ ã€Œæ•´ã€æˆ–ã€Œæ­£ã€ã€‚</div>`,
                twd_hint: "æ–°å°å¹£æœ€å°ç‚º1å…ƒ (å››æ¨äº”å…¥)", other_hint: "ç²¾ç¢ºåˆ°å°æ•¸é»å¾Œå…©ä½ (åˆ†)"
            },
            'zh-CN': {
                title: "æ•°å­—è½¬å›½å­—å¤§å†™", subtitle: "é‡‘èä¸“ç”¨å¤§å†™è½¬æ¢å·¥å…·",
                lbl_input: "è¾“å…¥é˜¿æ‹‰ä¼¯æ•°å­—", lbl_result_str: "å¤§å†™é‡‘é¢", lbl_result_grid: "é“¶è¡Œå¡«å•æ¨¡å¼",
                btn_copy: "å¤åˆ¶", hint_grid: "* æ­¤æ ¼å¼æ¨¡æ‹Ÿå¸¸è§æ±‡æ¬¾å•æ®ï¼Œè‡ªåŠ¨å¡«å……å¯¹åº”æ ä½ã€‚",
                info_title: "å…³äºå¤§å†™æ•°å­—", ref_title: "æ•°å­—å¯¹ç…§è¡¨",
                info_content: `<p>å›½å­—å¤§å†™æ•°å­—ä¸»è¦ç”¨äºé‡‘èå’Œæ³•å¾‹æ–‡ä»¶ï¼Œç›®çš„æ˜¯é˜²æ­¢æ•°å­—è¢«æ¶‚æ”¹ã€‚</p><p>ç›¸ä¼ è¿™å¥—ç³»ç»Ÿç”±æ˜å¤ªç¥–æœ±å…ƒç’‹åœ¨â€œéƒ­æ¡“æ¡ˆâ€åç¡®ç«‹ï¼Œå°†â€œä¸€äºŒä¸‰â€æ”¹ä¸ºç¬”ç”»å¤æ‚çš„â€œå£¹è²³åƒâ€ï¼Œæœ‰æ•ˆéåˆ¶äº†è´¦å†Œæ¶‚æ”¹çš„è´ªæ±¡è¡Œä¸ºã€‚</p><div class="bg-yellow-50 dark:bg-yellow-900/10 p-2 rounded border border-yellow-200 dark:border-yellow-700/30 text-xs italic mt-2">æ³¨æ„ï¼šæ–°å°å¸æ±‡æ¬¾å•é€šå¸¸è¦æ±‚ä»â€œå…ƒâ€ä½å¼€å§‹å¡«å†™ï¼Œä¸ç•™ç©ºæ ¼ï¼Œæ•´æ•°åéœ€åŠ â€œæ•´â€æˆ–â€œæ­£â€ã€‚</div>`,
                twd_hint: "æ–°å°å¸æœ€å°ä¸º1å…ƒ (å››èˆäº”å…¥)", other_hint: "ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ (åˆ†)"
            },
            'en': {
                title: "Chinese Number Capitalizer", subtitle: "Financial Uppercase Converter",
                lbl_input: "Input Number", lbl_result_str: "Capitalized String", lbl_result_grid: "Bank Slip View",
                btn_copy: "Copy", hint_grid: "* Simulates a bank deposit slip layout.",
                info_title: "About Capital Numbers", ref_title: "Reference",
                info_content: `<p>Traditional Chinese capitals are used in finance to prevent forgery.</p><p>Originating from the Ming Dynasty, complex characters like 'å£¹' replaced simple ones like 'ä¸€' to stop alteration of ledgers.</p>`,
                twd_hint: "NTD rounds to nearest Integer.", other_hint: "Supports up to 2 decimal places."
            },
            'es': {
                title: "MayÃºsculas Chinas", subtitle: "Conversor Financiero",
                lbl_input: "Ingresar NÃºmero", lbl_result_str: "Resultado", lbl_result_grid: "Vista de Boleta",
                btn_copy: "Copiar", hint_grid: "* Simula una boleta de depÃ³sito bancario.",
                info_title: "Sobre NÃºmeros", ref_title: "Referencia",
                info_content: `<p>Se usan para prevenir falsificaciones en finanzas.</p>`,
                twd_hint: "NTD redondea a entero.", other_hint: "Soporta 2 decimales."
            },
            'ru': {
                title: "ĞšĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¸Ğµ Ğ§Ğ¸ÑĞ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ", subtitle: "Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€",
                lbl_input: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾", lbl_result_str: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚", lbl_result_grid: "Ğ‘Ğ»Ğ°Ğ½Ğº Ğ±Ğ°Ğ½ĞºĞ°",
                btn_copy: "ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ", hint_grid: "* Ğ˜Ğ¼Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¾Ğ³Ğ¾ Ğ±Ğ»Ğ°Ğ½ĞºĞ°.",
                info_title: "Ğ Ñ‡Ğ¸ÑĞ»Ğ°Ñ…", ref_title: "Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°",
                info_content: `<p>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ Ğ² Ñ„Ğ¸Ğ½Ğ°Ğ½ÑĞ°Ñ… Ğ´Ğ»Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµĞ»Ğ¾Ğº.</p>`,
                twd_hint: "NTD Ğ¾ĞºÑ€ÑƒĞ³Ğ»ÑĞµÑ‚ Ğ´Ğ¾ Ñ†ĞµĞ»Ğ¾Ğ³Ğ¾.", other_hint: "ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° 2 Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹."
            },
            'hi': {
                title: "à¤šà¥€à¤¨à¥€ à¤¸à¤‚à¤–à¥à¤¯à¤¾ à¤ªà¤°à¤¿à¤µà¤°à¥à¤¤à¤•", subtitle: "à¤µà¤¿à¤¤à¥à¤¤à¥€à¤¯ à¤…à¤ªà¤°à¤•à¥‡à¤¸ à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°",
                lbl_input: "à¤¨à¤‚à¤¬à¤° à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚", lbl_result_str: "à¤ªà¤°à¤¿à¤£à¤¾à¤®", lbl_result_grid: "à¤¬à¥ˆà¤‚à¤• à¤ªà¤°à¥à¤šà¥€",
                btn_copy: "à¤•à¥‰à¤ªà¥€", hint_grid: "* à¤¬à¥ˆà¤‚à¤• à¤œà¤®à¤¾ à¤ªà¤°à¥à¤šà¥€ à¤•à¤¾ à¤…à¤¨à¥à¤•à¤°à¤£à¥¤",
                info_title: "à¤¸à¤‚à¤–à¥à¤¯à¤¾à¤“à¤‚ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚", ref_title: "à¤¸à¤‚à¤¦à¤°à¥à¤­",
                info_content: `<p>à¤œà¤¾à¤²à¤¸à¤¾à¤œà¥€ à¤°à¥‹à¤•à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤µà¤¿à¤¤à¥à¤¤ à¤®à¥‡à¤‚ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤</p>`,
                twd_hint: "NTD à¤ªà¥‚à¤°à¥à¤£à¤¾à¤‚à¤• à¤®à¥‡à¤‚ à¤—à¥‹à¤² à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤", other_hint: "2 à¤¦à¤¶à¤®à¤²à¤µ à¤¸à¥à¤¥à¤¾à¤¨à¥‹à¤‚ à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤"
            },
            'pl': {
                title: "ChiÅ„skie Liczebniki", subtitle: "Konwerter Finansowy",
                lbl_input: "WprowadÅº liczbÄ™", lbl_result_str: "Wynik", lbl_result_grid: "Druk Bankowy",
                btn_copy: "Kopiuj", hint_grid: "* Symulacja druku bankowego.",
                info_title: "O liczbach", ref_title: "Odniesienie",
                info_content: `<p>UÅ¼ywane w finansach, aby zapobiec faÅ‚szerstwom.</p>`,
                twd_hint: "NTD zaokrÄ…gla do caÅ‚oÅ›ci.", other_hint: "ObsÅ‚uguje 2 miejsca po przecinku."
            }
        };

        const App = {
            lang: 'zh-TW',
            currency: 'TWD', // TWD, CNY, HKD
            
            // Character Sets
            digitMaps: {
                // TWD/HKD: Standard Traditional (åƒ, è²³, é™¸)
                'TWD': ['é›¶', 'å£¹', 'è²³', 'åƒ', 'è‚†', 'ä¼', 'é™¸', 'æŸ’', 'æŒ', 'ç–'],
                'HKD': ['é›¶', 'å£¹', 'è²³', 'åƒ', 'è‚†', 'ä¼', 'é™¸', 'æŸ’', 'æŒ', 'ç–'],
                // CNY: Standard Simplified Capitals (å, è´°, é™†)
                'CNY': ['é›¶', 'å£¹', 'è´°', 'å', 'è‚†', 'ä¼', 'é™†', 'æŸ’', 'æŒ', 'ç–']
            },
            
            unitMaps: {
                // TWD/HKD: Traditional (å„„, è¬, ä½°)
                'TWD': [['å…ƒ', 'è¬', 'å„„', 'å…†'], ['', 'æ‹¾', 'ä½°', 'ä»Ÿ']],
                'HKD': [['å…ƒ', 'è¬', 'å„„', 'å…†'], ['', 'æ‹¾', 'ä½°', 'ä»Ÿ']],
                // CNY: Simplified (äº¿, ä¸‡, ä½°)
                'CNY': [['å…ƒ', 'ä¸‡', 'äº¿', 'å…†'], ['', 'æ‹¾', 'ä½°', 'ä»Ÿ']]
            },
            
            init() {
                this.setupTheme();
                this.setupLang();
                this.setCurrency('TWD');
                document.getElementById('cur-year').innerText = new Date().getFullYear();
            },

            setupTheme() {
                const toggle = document.getElementById('mode-toggle');
                const html = document.documentElement;
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    html.classList.add('dark');
                }
                toggle.addEventListener('click', () => {
                    html.classList.toggle('dark');
                    localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
                });
            },

            setupLang() {
                const sel = document.getElementById('lang-selector');
                const urlParams = new URLSearchParams(window.location.search);
                const queryLang = urlParams.get('lang');
                
                if (queryLang && i18nData[queryLang]) {
                    this.lang = queryLang;
                } else {
                    this.lang = 'zh-TW';
                }
                
                sel.value = this.lang;
                this.updateText();

                sel.addEventListener('change', (e) => {
                    this.lang = e.target.value;
                    try {
                        const newUrl = new URL(window.location);
                        newUrl.searchParams.set('lang', this.lang);
                        window.history.pushState({}, '', newUrl);
                    } catch (e) {}
                    this.updateText();
                    this.updateHint();
                });
            },

            updateText() {
                const dict = i18nData[this.lang];
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if(dict[key]) {
                        if(key === 'info_content') el.innerHTML = dict[key];
                        else el.textContent = dict[key];
                    }
                });
            },

            updateHint() {
                const dict = i18nData[this.lang];
                const hintEl = document.getElementById('hint-text');
                if (this.currency === 'TWD') {
                    hintEl.innerHTML = `<i class="fa fa-info-circle"></i> ${dict.twd_hint}`;
                } else {
                    hintEl.innerHTML = `<i class="fa fa-info-circle"></i> ${dict.other_hint}`;
                }
            },
            
            updateRefTable() {
                const digits = this.digitMaps[this.currency];
                const units = this.unitMaps[this.currency];
                
                // Update Digits Grid
                const digitGrid = document.getElementById('ref-digit-grid');
                let dHtml = '';
                digits.forEach((d, i) => {
                    dHtml += `
                    <div class="bg-stone-50 dark:bg-slate-700 rounded py-2 border border-stone-100 dark:border-slate-600">
                        <div class="text-xs text-stone-400">${i}</div>
                        <div class="font-serif font-bold text-stone-700 dark:text-stone-200">${d}</div>
                    </div>`;
                });
                digitGrid.innerHTML = dHtml;
                
                // Update Units Grid
                // We show [10, 100, 1000, 10000, 100000000] i.e. æ‹¾, ä½°, ä»Ÿ, è¬, å„„
                const unitGrid = document.getElementById('ref-unit-grid');
                const displayUnits = [
                    units[1][1], // æ‹¾
                    units[1][2], // ä½°
                    units[1][3], // ä»Ÿ
                    units[0][1], // è¬
                    units[0][2]  // å„„
                ];
                let uHtml = '';
                displayUnits.forEach(u => {
                    uHtml += `
                    <div class="col-span-1 bg-stone-100 dark:bg-slate-600 rounded py-1 font-serif text-stone-600 dark:text-stone-300">
                        ${u}
                    </div>`;
                });
                unitGrid.innerHTML = uHtml;
                
                document.getElementById('current-currency-badge').innerText = this.currency;
            },

            setCurrency(c) {
                this.currency = c;
                // Update Buttons
                ['twd','cny','hkd'].forEach(id => {
                    const el = document.getElementById(`btn-${id}`);
                    if(id === c.toLowerCase()) el.classList.add('active');
                    else el.classList.remove('active');
                });
                
                this.updateHint();
                this.updateRefTable(); // Update table on switch
                this.convert();
            },

            // Core Logic: Number to Chinese
            n2c(numStr) {
                if (!numStr || isNaN(numStr)) return "";
                
                let num = parseFloat(numStr);
                const fraction = ['è§’', 'åˆ†'];
                
                // Fetch dynamic maps based on currency
                const digit = this.digitMaps[this.currency];
                const unit = this.unitMaps[this.currency];
                
                let s = '';

                // Handle Negative
                if (num < 0) {
                    num = Math.abs(num);
                }

                // Handle TWD rounding
                if (this.currency === 'TWD') {
                    num = Math.round(num);
                }

                // Decimal part (For CNY/HKD)
                let decStr = '';
                if (this.currency !== 'TWD') {
                    let decimal = num - Math.floor(num);
                    if (decimal > 0.009) { 
                        decimal *= 10;
                        let d1 = Math.floor(decimal);
                        let d2 = Math.floor((decimal - d1) * 10 + 0.0001); 
                        
                        if (d1 > 0) decStr += digit[d1] + fraction[0];
                        if (d2 > 0) decStr += digit[d2] + fraction[1];
                    }
                }

                // Integer part
                let n = Math.floor(num);
                
                if (n === 0 && decStr === '') return digit[0] + unit[0][0] + 'æ•´'; // é›¶å…ƒæ•´
                
                if (n === 0) {
                    return decStr; // e.g. "ä¼åˆ†"
                }

                let str = n.toString();
                let len = str.length;
                
                for (let i = 0; i < len; i++) {
                    let numChar = parseInt(str[i]);
                    let p = len - i - 1; 
                    let q = p / 4;
                    let m = p % 4;
                    
                    if (numChar === 0) {
                        if (m !== 0 && i < len - 1 && str[i+1] !== '0') {
                            s += digit[0];
                        }
                    } else {
                        s += digit[numChar] + unit[1][m];
                    }
                    
                    if (m === 0 && q > 0) {
                        s += unit[0][q]; 
                    }
                }
                
                s += unit[0][0]; // 'å…ƒ'
                
                // Final suffix
                if (decStr === '' || this.currency === 'TWD') {
                    s += 'æ•´';
                } else {
                    s += decStr;
                }

                // Cleanups for specific Unit Sets (Simplified/Traditional mix protection)
                // Note: The unit array is dynamic now, so we need dynamic regex or logic
                // The cleanest way is to reuse the 'digit' and 'unit' vars for replacement logic if needed
                // But generally the loop construction above is robust.
                // We just need to handle the "Zero" char which is consistent (index 0)
                const ZERO = digit[0];
                const YUAN = unit[0][0];
                const WAN  = unit[0][1];
                const YI   = unit[0][2];
                
                // e.g. Regex /é›¶+/g
                const reZero = new RegExp(`${ZERO}+`, 'g');
                const reZeroYuan = new RegExp(`${ZERO}${YUAN}`, 'g');
                const reZeroWan = new RegExp(`${ZERO}${WAN}`, 'g');
                const reZeroYi = new RegExp(`${ZERO}${YI}`, 'g');
                const reYiWan = new RegExp(`${YI}${WAN}`, 'g');
                const reStartYuan = new RegExp(`^${YUAN}`);

                s = s.replace(reZero, ZERO); 
                s = s.replace(reZeroYuan, YUAN);
                s = s.replace(reZeroWan, WAN);
                s = s.replace(reZeroYi, YI);
                s = s.replace(reYiWan, `${YI}${ZERO}`); // 100010000 -> å£¹å„„é›¶å£¹è¬
                s = s.replace(reStartYuan, ''); 

                // Fix 100,000,000 -> å£¹å„„å…ƒæ•´ (Loop produces å£¹å„„è¬å…ƒ -> fix to å£¹å„„å…ƒ)
                // This happens because q>0 check adds units. 10^8 is q=2 (Yi) m=0.
                // But the inner loop for 10^4 (Wan) might trigger if not careful.
                // Actually my loop logic adds unit at m=0.
                // 1 0000 0000
                // 1: Adds å£¹ + å„„
                // 0000: Adds nothing (zeros skipped)
                // But the loop adds Wan at m=0 for the 10^4 block.
                // Since 0000 are skipped, Wan is NOT added by line `s += unit[0][q]` if all are zero?
                // Wait, my loop adds unit[0][q] unconditionally if m===0 && q>0. 
                // So 100000000 -> 1(Yi) ... (Wan) ... (Yuan).
                // It becomes å£¹å„„è¬å…ƒ. We need to strip è¬ if the è¬ section was empty.
                // The regex `reYiWan` -> `YI + ZERO` handles cases like 1_0001_0000.
                // But for 1_0000_0000, we want å£¹å„„å…ƒ.
                // Let's refine:
                // If standard logic produces å„„è¬, change to å„„.
                const reYiWanFix = new RegExp(`${YI}${WAN}`, 'g');
                s = s.replace(reYiWanFix, YI); // å„„è¬ -> å„„

                return s;
            },

            // Grid Filler Logic
            fillGrid(numStr) {
                const grid = document.getElementById('grid-container');
                grid.innerHTML = ''; 

                if(!numStr) numStr = '0';
                let num = parseFloat(numStr);
                if (this.currency === 'TWD') num = Math.round(num);

                let intVal = Math.floor(num);
                let intStr = intVal.toString();
                
                // Fetch current digit/unit maps
                const digitMap = this.digitMaps[this.currency];
                const unitMap = this.unitMaps[this.currency];
                
                // Extract units for headers: [åƒ, ç™¾, å, å„„, åƒ, ç™¾, å, è¬, åƒ, ç™¾, å, å…ƒ]
                // UnitMap structure: [['å…ƒ', 'è¬', 'å„„', 'å…†'], ['', 'æ‹¾', 'ä½°', 'ä»Ÿ']]
                // Headers need "Small Units" (ä»Ÿä½°æ‹¾) + "Big Units" (å„„è¬å…ƒ)
                const Q = unitMap[1][3]; // ä»Ÿ/åƒ
                const B = unitMap[1][2]; // ä½°/ç™¾
                const S = unitMap[1][1]; // æ‹¾/å
                const Y = unitMap[0][2]; // å„„/äº¿
                const W = unitMap[0][1]; // è¬/ä¸‡
                const U = unitMap[0][0]; // å…ƒ

                const headers = [
                    {t: Q, g: Y}, {t: B, g: Y}, {t: S, g: Y}, {t: Y, g: ''},
                    {t: Q, g: W}, {t: B, g: W}, {t: S, g: W}, {t: W, g: ''},
                    {t: Q, g: ''}, {t: B, g: ''}, {t: S, g: ''}, {t: U, g: ''}
                ];

                if (this.currency !== 'TWD') {
                    headers.push({t: 'è§’', g: ''}, {t: 'åˆ†', g: ''});
                }

                // Render
                let gridHtml = '';
                const intHeaderCount = 12;
                let decimalDigits = [];
                
                if (this.currency !== 'TWD') {
                    let decimal = num - Math.floor(num);
                    if (decimal > 0.009) {
                        decimal *= 10;
                        let d1 = Math.floor(decimal);
                        let d2 = Math.floor((decimal - d1) * 10 + 0.0001);
                        decimalDigits = [d1, d2];
                    } else {
                        decimalDigits = [0, 0];
                    }
                }

                headers.forEach((h, index) => {
                    let char = '';
                    if (index >= intHeaderCount) {
                        let decIdx = index - intHeaderCount;
                        if (decimalDigits.length > decIdx) {
                            char = digitMap[decimalDigits[decIdx]];
                            if (intVal === 0 && decimalDigits[0] === 0 && decimalDigits[1] === 0) char = '';
                        }
                    } else {
                        let pos = intStr.length - (intHeaderCount - index);
                        if (pos >= 0) {
                            let d = parseInt(intStr[pos]);
                            char = digitMap[d];
                        }
                    }

                    gridHtml += `
                        <div class="slip-col">
                            <div class="slip-header flex-col">
                                <span class="leading-none text-xs">${h.t}</span>
                                <span class="leading-none scale-75 opacity-70">${h.g}</span>
                            </div>
                            <div class="slip-cell">${char}</div>
                        </div>
                    `;
                });

                grid.innerHTML = gridHtml;
            },

            convert() {
                const inp = document.getElementById('inp-num');
                const resStr = document.getElementById('res-string');
                
                // Get zero char for current currency
                const zeroChar = this.digitMaps[this.currency][0];
                const yuanChar = this.unitMaps[this.currency][0][0];
                
                if (!inp.value) {
                    resStr.innerText = `${zeroChar}${yuanChar}æ•´`;
                    this.fillGrid("0");
                    return;
                }

                let val = inp.value;
                const chineseStr = this.n2c(val);
                resStr.innerText = chineseStr;
                this.fillGrid(val);
            },

            copyResult() {
                const text = document.getElementById('res-string').innerText;
                navigator.clipboard.writeText(text).then(() => {
                    const btnText = document.querySelector('[data-i18n="btn_copy"]');
                    const original = btnText.innerText;
                    btnText.innerText = "Copied!";
                    setTimeout(() => btnText.innerText = original, 1500);
                });
            }
        };

        document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
     <!--  ç»“å°¾å¿…é¡»åŒ…å«çš„ä»£ç  -->
    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
</body>
</html>