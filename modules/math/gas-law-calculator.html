<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gas Law Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="gas_law_calculator">
    <meta name="category" content="Math">
    <meta name="icon" content="ğŸ”¬">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Gas Law Calculator">
    <meta name="description" content="Calculate gas properties using Boyle's Law, Charles's Law, Gay-Lussac's Law and the Ideal Gas Law.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="æ°”ä½“å®šå¾‹è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="ä½¿ç”¨æ³¢ä¹‰è€³å®šå¾‹ã€æŸ¥ç†å®šå¾‹ã€ç›–-å•è¨å…‹å®šå¾‹å’Œç†æƒ³æ°”ä½“å®šå¾‹è®¡ç®—æ°”ä½“æ€§è´¨ã€‚">
    
    <meta name="lang-title-zh-TW" content="æ°£é«”å®šå¾‹è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="ä½¿ç”¨æ³¢ç¾©è€³å®šå¾‹ã€æŸ¥ç†å®šå¾‹ã€è“‹-å‘‚è–©å…‹å®šå¾‹å’Œç†æƒ³æ°£é«”å®šå¾‹è¨ˆç®—æ°£é«”æ€§è³ªã€‚">
    
    <meta name="lang-title-ja" content="æ°—ä½“æ³•å‰‡è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="ãƒœã‚¤ãƒ«ã®æ³•å‰‡ã€ã‚·ãƒ£ãƒ«ãƒ«ã®æ³•å‰‡ã€ã‚¬ã‚¤ï¼ãƒªãƒ¥ã‚µãƒƒã‚¯ã®æ³•å‰‡ã€ç†æƒ³æ°—ä½“ã®æ³•å‰‡ã‚’ä½¿ç”¨ã—ã¦æ°—ä½“ã®æ€§è³ªã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ³Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ²">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞ¹Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° Ğ³Ğ°Ğ·Ğ¾Ğ² Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ·Ğ°ĞºĞ¾Ğ½Ğ° Ğ‘Ğ¾Ğ¹Ğ»Ñ, Ğ·Ğ°ĞºĞ¾Ğ½Ğ° Ğ¨Ğ°Ñ€Ğ»Ñ, Ğ·Ğ°ĞºĞ¾Ğ½Ğ° Ğ“ĞµĞ¹-Ğ›ÑÑÑĞ°ĞºĞ° Ğ¸ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ³Ğ°Ğ·Ğ°.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-area { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .law-selector { margin-bottom: 20px; padding: 10px; background: #f8fafc; border-radius: 6px; }
        .constant-value { font-size: 0.9rem; color: #666; margin-top: 4px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/gas-law-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="gas_law_calculator" 
         data-category="calculators" 
         data-title="Gas Law Calculator" 
         data-icon="ğŸ”¬">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="gas-lang" onchange="GasLawCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ”¬ Gas Law Calculator</h2>
        
        <!-- å®šå¾‹é€‰æ‹© -->
        <div class="law-selector">
            <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="select_law">Select Gas Law</label>
            <select id="gas-law" onchange="GasLawCalculator.updateInputs()" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="ideal">Ideal Gas Law (PV = nRT)</option>
                <option value="boyle">Boyle's Law (P1V1 = P2V2)</option>
                <option value="charles">Charles's Law (V1/T1 = V2/T2)</option>
                <option value="gaylussac">Gay-Lussac's Law (P1/T1 = P2/T2)</option>
            </select>
        </div>
        
        <div class="space-y-4 mb-6" id="input-container">
            <!-- è¾“å…¥å­—æ®µå°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <!-- ç²¾åº¦é€‰æ‹© -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="precision">Precision (decimal places)</label>
            <input type="number" id="gas-precision" min="0" max="6" value="2" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
        </div>
        
        <!-- æ“ä½œæŒ‰é’® -->
        <div class="flex gap-2 mt-4">
            <button onclick="GasLawCalculator.clearValues()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
            <button onclick="GasLawCalculator.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="gas-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="gas-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="result">Result</div>
            <div class="result-area">
                <div class="text-lg font-medium mb-3" id="main-result"></div>
                <div class="text-sm text-gray-500" id="formula-display"></div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" id="notes-list">
                <li data-i18n="note1">Ideal Gas Constant (R) = 0.08206 LÂ·atm/(molÂ·K) or 8.314 kPaÂ·L/(molÂ·K)</li>
                <li data-i18n="note2">Temperatures must be in Kelvin (K = Â°C + 273.15)</li>
                <li data-i18n="note3">Boyle's Law: Pressure and volume are inversely proportional at constant temperature</li>
                <li data-i18n="note4">Charles's Law: Volume and temperature are directly proportional at constant pressure</li>
            </ul>
        </div>
    </div>

    <script>
        const GasLawCalculator = {
            // æ°”ä½“å¸¸æ•° (ä¸åŒå•ä½)
            gasConstants: {
                'LÂ·atm/(molÂ·K)': 0.08206,
                'kPaÂ·L/(molÂ·K)': 8.314,
                'mÂ³Â·Pa/(molÂ·K)': 8.314,
                'LÂ·kPa/(molÂ·K)': 8.314,
                'J/(molÂ·K)': 8.314
            },
            
            // å®šå¾‹é…ç½®
            laws: {
                ideal: {
                    formula: 'PV = nRT',
                    variables: [
                        { id: 'pressure', label: 'Pressure (P)', unit: 'atm' },
                        { id: 'volume', label: 'Volume (V)', unit: 'L' },
                        { id: 'moles', label: 'Moles (n)', unit: 'mol' },
                        { id: 'temperature', label: 'Temperature (T)', unit: 'K' }
                    ],
                    constant: 'R'
                },
                boyle: {
                    formula: 'P1V1 = P2V2',
                    variables: [
                        { id: 'p1', label: 'Initial Pressure (Pâ‚)', unit: 'atm' },
                        { id: 'v1', label: 'Initial Volume (Vâ‚)', unit: 'L' },
                        { id: 'p2', label: 'Final Pressure (Pâ‚‚)', unit: 'atm' },
                        { id: 'v2', label: 'Final Volume (Vâ‚‚)', unit: 'L' }
                    ]
                },
                charles: {
                    formula: 'V1/T1 = V2/T2',
                    variables: [
                        { id: 'v1', label: 'Initial Volume (Vâ‚)', unit: 'L' },
                        { id: 't1', label: 'Initial Temperature (Tâ‚)', unit: 'K' },
                        { id: 'v2', label: 'Final Volume (Vâ‚‚)', unit: 'L' },
                        { id: 't2', label: 'Final Temperature (Tâ‚‚)', unit: 'K' }
                    ]
                },
                gaylussac: {
                    formula: 'P1/T1 = P2/T2',
                    variables: [
                        { id: 'p1', label: 'Initial Pressure (Pâ‚)', unit: 'atm' },
                        { id: 't1', label: 'Initial Temperature (Tâ‚)', unit: 'K' },
                        { id: 'p2', label: 'Final Pressure (Pâ‚‚)', unit: 'atm' },
                        { id: 't2', label: 'Final Temperature (Tâ‚‚)', unit: 'K' }
                    ]
                }
            },
            
            // å¤šè¯­è¨€é…ç½®
            i18n: {
                'en': {
                    title: 'ğŸ”¬ Gas Law Calculator',
                    select_law: 'Select Gas Law',
                    precision: 'Precision (decimal places)',
                    clear: 'Clear',
                    calculate: 'Calculate',
                    result: 'Result',
                    notes: 'Notes:',
                    note1: 'Ideal Gas Constant (R) = 0.08206 LÂ·atm/(molÂ·K) or 8.314 kPaÂ·L/(molÂ·K)',
                    note2: 'Temperatures must be in Kelvin (K = Â°C + 273.15)',
                    note3: 'Boyle\'s Law: Pressure and volume are inversely proportional at constant temperature',
                    note4: 'Charles\'s Law: Volume and temperature are directly proportional at constant pressure',
                    err_invalid_input: 'Please enter valid positive values for all variables except the one to calculate',
                    err_missing_input: 'Please leave exactly one field empty to calculate it',
                    constant_selector: 'Gas Constant (R) Unit:'
                },
                'zh-CN': {
                    title: 'ğŸ”¬ æ°”ä½“å®šå¾‹è®¡ç®—å™¨',
                    select_law: 'é€‰æ‹©æ°”ä½“å®šå¾‹',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°ä½æ•°ï¼‰',
                    clear: 'æ¸…é™¤',
                    calculate: 'è®¡ç®—',
                    result: 'ç»“æœ',
                    notes: 'è¯´æ˜ï¼š',
                    note1: 'ç†æƒ³æ°”ä½“å¸¸æ•° (R) = 0.08206 å‡Â·å¤§æ°”å‹/(æ‘©å°”Â·å¼€å°”æ–‡) æˆ– 8.314 åƒå¸•Â·å‡/(æ‘©å°”Â·å¼€å°”æ–‡)',
                    note2: 'æ¸©åº¦å¿…é¡»ä»¥å¼€å°”æ–‡ä¸ºå•ä½ï¼ˆK = Â°C + 273.15ï¼‰',
                    note3: 'æ³¢ä¹‰è€³å®šå¾‹ï¼šæ’æ¸©ä¸‹ï¼Œå‹åŠ›ä¸ä½“ç§¯æˆåæ¯”',
                    note4: 'æŸ¥ç†å®šå¾‹ï¼šæ’å‹ä¸‹ï¼Œä½“ç§¯ä¸æ¸©åº¦æˆæ­£æ¯”',
                    err_invalid_input: 'é™¤å¾…è®¡ç®—çš„å˜é‡å¤–ï¼Œè¯·ä¸ºæ‰€æœ‰å˜é‡è¾“å…¥æœ‰æ•ˆçš„æ­£å€¼',
                    err_missing_input: 'è¯·åªç•™ä¸€ä¸ªå­—æ®µä¸ºç©ºä»¥è¿›è¡Œè®¡ç®—',
                    constant_selector: 'æ°”ä½“å¸¸æ•° (R) å•ä½ï¼š'
                },
                'zh-TW': {
                    title: 'ğŸ”¬ æ°£é«”å®šå¾‹è¨ˆç®—å™¨',
                    select_law: 'é¸æ“‡æ°£é«”å®šå¾‹',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•¸ä½æ•¸ï¼‰',
                    clear: 'æ¸…é™¤',
                    calculate: 'è¨ˆç®—',
                    result: 'çµæœ',
                    notes: 'èªªæ˜ï¼š',
                    note1: 'ç†æƒ³æ°£é«”å¸¸æ•¸ (R) = 0.08206 å‡Â·å¤§æ°£å£“/(æ‘©çˆ¾Â·é–‹çˆ¾æ–‡) æˆ– 8.314 åƒå¸•Â·å‡/(æ‘©çˆ¾Â·é–‹çˆ¾æ–‡)',
                    note2: 'æº«åº¦å¿…é ˆä»¥é–‹çˆ¾æ–‡ç‚ºå–®ä½ï¼ˆK = Â°C + 273.15ï¼‰',
                    note3: 'æ³¢ç¾©è€³å®šå¾‹ï¼šæ†æº«ä¸‹ï¼Œå£“åŠ›èˆ‡é«”ç©æˆåæ¯”',
                    note4: 'æŸ¥ç†å®šå¾‹ï¼šæ†å£“ä¸‹ï¼Œé«”ç©èˆ‡æº«åº¦æˆæ­£æ¯”',
                    err_invalid_input: 'é™¤å¾…è¨ˆç®—çš„è®Šé‡å¤–ï¼Œè«‹ç‚ºæ‰€æœ‰è®Šé‡è¼¸å…¥æœ‰æ•ˆçš„æ­£å€¼',
                    err_missing_input: 'è«‹åªç•™ä¸€å€‹å­—æ®µç‚ºç©ºä»¥é€²è¡Œè¨ˆç®—',
                    constant_selector: 'æ°£é«”å¸¸æ•¸ (R) å–®ä½ï¼š'
                },
                'ja': {
                    title: 'ğŸ”¬ æ°—ä½“æ³•å‰‡è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    select_law: 'æ°—ä½“æ³•å‰‡ã‚’é¸æŠ',
                    precision: 'ç²¾åº¦ï¼ˆå°æ•°æ¡æ•°ï¼‰',
                    clear: 'ã‚¯ãƒªã‚¢',
                    calculate: 'è¨ˆç®—',
                    result: 'çµæœ',
                    notes: 'æ³¨é‡ˆï¼š',
                    note1: 'ç†æƒ³æ°—ä½“å®šæ•° (R) = 0.08206 Lï½¥atm/(molï½¥K) ã¾ãŸã¯ 8.314 kPaï½¥L/(molï½¥K)',
                    note2: 'æ¸©åº¦ã¯ã‚±ãƒ«ãƒ“ãƒ³ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆK = â„ƒ + 273.15ï¼‰',
                    note3: 'ãƒœã‚¤ãƒ«ã®æ³•å‰‡ï¼šä¸€å®šæ¸©åº¦ã§ã¯ã€åœ§åŠ›ã¨ä½“ç©ã¯åæ¯”ä¾‹ã—ã¾ã™',
                    note4: 'ã‚·ãƒ£ãƒ«ãƒ«ã®æ³•å‰‡ï¼šä¸€å®šåœ§åŠ›ã§ã¯ã€ä½“ç©ã¨æ¸©åº¦ã¯æ­£æ¯”ä¾‹ã—ã¾ã™',
                    err_invalid_input: 'è¨ˆç®—ã™ã‚‹å¤‰æ•°ã‚’é™¤ãã™ã¹ã¦ã®å¤‰æ•°ã«æœ‰åŠ¹ãªæ­£æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    err_missing_input: 'è¨ˆç®—ã™ã‚‹ãŸã‚ã«æ­£ç¢ºã«1ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç©ºã®ã¾ã¾ã«ã—ã¦ãã ã•ã„',
                    constant_selector: 'æ°—ä½“å®šæ•° (R) å˜ä½ï¼š'
                },
                'ru': {
                    title: 'ğŸ”¬ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ³Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ²',
                    select_law: 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ³Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ¾Ğ½',
                    precision: 'Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ·Ğ½Ğ°ĞºĞ¾Ğ² Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹)',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ',
                    result: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚',
                    notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:',
                    note1: 'ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ°Ñ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ³Ğ°Ğ·Ğ° (R) = 0.08206 Ğ»Â·Ğ°Ñ‚Ğ¼/(Ğ¼Ğ¾Ğ»ÑŒÂ·Ğš) Ğ¸Ğ»Ğ¸ 8.314 ĞºĞŸĞ°Â·Ğ»/(Ğ¼Ğ¾Ğ»ÑŒÂ·Ğš)',
                    note2: 'Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ² ĞšĞµĞ»ÑŒĞ²Ğ¸Ğ½Ğ°Ñ… (Ğš = Â°C + 273.15)',
                    note3: 'Ğ—Ğ°ĞºĞ¾Ğ½ Ğ‘Ğ¾Ğ¹Ğ»Ñ: Ğ”Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¾Ğ±ÑŠĞµĞ¼ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ¹ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğµ',
                    note4: 'Ğ—Ğ°ĞºĞ¾Ğ½ Ğ¨Ğ°Ñ€Ğ»Ñ: ĞĞ±ÑŠĞµĞ¼ Ğ¸ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ¼ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸',
                    err_invalid_input: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ…, ĞºÑ€Ğ¾Ğ¼Ğµ Ñ‚Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ',
                    err_missing_input: 'ĞÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ€Ğ¾Ğ²Ğ½Ğ¾ Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼ Ğ´Ğ»Ñ ĞµĞ³Ğ¾ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ',
                    constant_selector: 'Ğ•Ğ´Ğ¸Ğ½Ğ¸Ñ†Ğ° Ğ³Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ¹ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ¹ (R):'
                }
            },
            
            // åˆå§‹åŒ–
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                this.updateInputs();
            },
            
            // æ›´æ–°è¾“å…¥å­—æ®µ
            updateInputs: function() {
                const law = document.getElementById('gas-law').value;
                const container = document.getElementById('input-container');
                container.innerHTML = '';
                
                // æ·»åŠ å®šå¾‹å¯¹åº”çš„å˜é‡è¾“å…¥
                this.laws[law].variables.forEach(variable => {
                    const inputGroup = document.createElement('div');
                    inputGroup.className = 'input-group';
                    
                    const label = document.createElement('label');
                    label.setAttribute('for', variable.id);
                    label.textContent = variable.label + ' (' + variable.unit + ')';
                    
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.id = variable.id;
                    input.step = 'any';
                    input.min = (variable.id.includes('temperature') ? 0 : 0);
                    input.className = 'w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none';
                    
                    inputGroup.appendChild(label);
                    inputGroup.appendChild(input);
                    container.appendChild(inputGroup);
                });
                
                // å¯¹äºç†æƒ³æ°”ä½“å®šå¾‹ï¼Œæ·»åŠ æ°”ä½“å¸¸æ•°é€‰æ‹©å™¨
                if (law === 'ideal') {
                    const constantGroup = document.createElement('div');
                    constantGroup.className = 'input-group';
                    
                    const label = document.createElement('label');
                    label.setAttribute('for', 'gas-constant');
                    label.setAttribute('data-i18n', 'constant_selector');
                    label.textContent = this.i18n[this.getCurrentLang()].constant_selector;
                    
                    const select = document.createElement('select');
                    select.id = 'gas-constant';
                    select.className = 'w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none';
                    
                    Object.keys(this.gasConstants).forEach(unit => {
                        const option = document.createElement('option');
                        option.value = unit;
                        option.textContent = `${unit} (${this.gasConstants[unit]})`;
                    });
                    
                    constantGroup.appendChild(label);
                    constantGroup.appendChild(select);
                    container.appendChild(constantGroup);
                }
                
                // åº”ç”¨å½“å‰è¯­è¨€
                this.applyLangToInputs();
            },
            
            // åº”ç”¨è¯­è¨€åˆ°è¾“å…¥æ ‡ç­¾
            applyLangToInputs: function() {
                const lang = this.getCurrentLang();
                const law = document.getElementById('gas-law').value;
                
                // æ›´æ–°å˜é‡æ ‡ç­¾
                this.laws[law].variables.forEach((variable, index) => {
                    const labels = document.querySelectorAll('#input-container label');
                    if (labels[index]) {
                        labels[index].textContent = this.getVariableLabel(law, variable.id) + ' (' + variable.unit + ')';
                    }
                });
                
                // æ›´æ–°æ°”ä½“å¸¸æ•°æ ‡ç­¾
                const constantLabel = document.querySelector('[data-i18n="constant_selector"]');
                if (constantLabel) {
                    constantLabel.textContent = this.i18n[lang].constant_selector;
                }
            },
            
            // è·å–å˜é‡çš„æœ¬åœ°åŒ–æ ‡ç­¾
            getVariableLabel: function(law, variableId) {
                const lang = this.getCurrentLang();
                const variable = this.laws[law].variables.find(v => v.id === variableId);
                
                // ç®€å•çš„æ ‡ç­¾æœ¬åœ°åŒ–æ˜ å°„
                const labelMap = {
                    'en': {
                        'pressure': 'Pressure (P)',
                        'volume': 'Volume (V)',
                        'moles': 'Moles (n)',
                        'temperature': 'Temperature (T)',
                        'p1': 'Initial Pressure (Pâ‚)',
                        'v1': 'Initial Volume (Vâ‚)',
                        't1': 'Initial Temperature (Tâ‚)',
                        'p2': 'Final Pressure (Pâ‚‚)',
                        'v2': 'Final Volume (Vâ‚‚)',
                        't2': 'Final Temperature (Tâ‚‚)'
                    },
                    'zh-CN': {
                        'pressure': 'å‹åŠ› (P)',
                        'volume': 'ä½“ç§¯ (V)',
                        'moles': 'ç‰©è´¨çš„é‡ (n)',
                        'temperature': 'æ¸©åº¦ (T)',
                        'p1': 'åˆå§‹å‹åŠ› (Pâ‚)',
                        'v1': 'åˆå§‹ä½“ç§¯ (Vâ‚)',
                        't1': 'åˆå§‹æ¸©åº¦ (Tâ‚)',
                        'p2': 'æœ€ç»ˆå‹åŠ› (Pâ‚‚)',
                        'v2': 'æœ€ç»ˆä½“ç§¯ (Vâ‚‚)',
                        't2': 'æœ€ç»ˆæ¸©åº¦ (Tâ‚‚)'
                    },
                    'zh-TW': {
                        'pressure': 'å£“åŠ› (P)',
                        'volume': 'é«”ç© (V)',
                        'moles': 'ç‰©è³ªçš„é‡ (n)',
                        'temperature': 'æº«åº¦ (T)',
                        'p1': 'åˆå§‹å£“åŠ› (Pâ‚)',
                        'v1': 'åˆå§‹é«”ç© (Vâ‚)',
                        't1': 'åˆå§‹æº«åº¦ (Tâ‚)',
                        'p2': 'æœ€çµ‚å£“åŠ› (Pâ‚‚)',
                        'v2': 'æœ€çµ‚é«”ç© (Vâ‚‚)',
                        't2': 'æœ€çµ‚æº«åº¦ (Tâ‚‚)'
                    },
                    'ja': {
                        'pressure': 'åœ§åŠ› (P)',
                        'volume': 'ä½“ç© (V)',
                        'moles': 'ç‰©è³ªé‡ (n)',
                        'temperature': 'æ¸©åº¦ (T)',
                        'p1': 'åˆæœŸåœ§åŠ› (Pâ‚)',
                        'v1': 'åˆæœŸä½“ç© (Vâ‚)',
                        't1': 'åˆæœŸæ¸©åº¦ (Tâ‚)',
                        'p2': 'æœ€çµ‚åœ§åŠ› (Pâ‚‚)',
                        'v2': 'æœ€çµ‚ä½“ç© (Vâ‚‚)',
                        't2': 'æœ€çµ‚æ¸©åº¦ (Tâ‚‚)'
                    },
                    'ru': {
                        'pressure': 'Ğ”Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (P)',
                        'volume': 'ĞĞ±ÑŠĞµĞ¼ (V)',
                        'moles': 'ĞœĞ¾Ğ»Ğ¸ (n)',
                        'temperature': 'Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° (T)',
                        'p1': 'Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (Pâ‚)',
                        'v1': 'Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ (Vâ‚)',
                        't1': 'Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° (Tâ‚)',
                        'p2': 'ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğµ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (Pâ‚‚)',
                        'v2': 'ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ (Vâ‚‚)',
                        't2': 'ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° (Tâ‚‚)'
                    }
                };
                
                return labelMap[lang][variableId] || variable.label;
            },
            
            // è®¡ç®—æ°”ä½“æ€§è´¨
            calculate: function() {
                const law = document.getElementById('gas-law').value;
                const precision = parseInt(document.getElementById('gas-precision').value) || 2;
                const errorEl = document.getElementById('gas-error');
                const resultsEl = document.getElementById('gas-results');
                
                // è·å–è¾“å…¥å€¼
                const inputs = {};
                const emptyFields = [];
                
                this.laws[law].variables.forEach(variable => {
                    const value = parseFloat(document.getElementById(variable.id).value);
                    inputs[variable.id] = isNaN(value) ? null : value;
                    if (inputs[variable.id] === null) {
                        emptyFields.push(variable.id);
                    } else if (inputs[variable.id] <= 0) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                        errorEl.classList.remove('hidden');
                        resultsEl.classList.add('hidden');
                        return;
                    }
                });
                
                // éªŒè¯è¾“å…¥ - å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç©ºå­—æ®µ
                if (emptyFields.length !== 1) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_missing_input;
                    errorEl.classList.remove('hidden');
                    resultsEl.classList.add('hidden');
                    return;
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                let result, formulaText;
                const targetField = emptyFields[0];
                
                // æ ¹æ®ä¸åŒå®šå¾‹è®¡ç®—
                switch(law) {
                    case 'ideal':
                        const rUnit = document.getElementById('gas-constant').value;
                        const R = this.gasConstants[rUnit];
                        if (targetField === 'pressure') {
                            result = (inputs.moles * R * inputs.temperature) / inputs.volume;
                        } else if (targetField === 'volume') {
                            result = (inputs.moles * R * inputs.temperature) / inputs.pressure;
                        } else if (targetField === 'moles') {
                            result = (inputs.pressure * inputs.volume) / (R * inputs.temperature);
                        } else if (targetField === 'temperature') {
                            result = (inputs.pressure * inputs.volume) / (inputs.moles * R);
                        }
                        formulaText = `PV = nRT (R = ${R} ${rUnit})`;
                        break;
                        
                    case 'boyle':
                        if (targetField === 'p1') {
                            result = (inputs.p2 * inputs.v2) / inputs.v1;
                        } else if (targetField === 'v1') {
                            result = (inputs.p2 * inputs.v2) / inputs.p1;
                        } else if (targetField === 'p2') {
                            result = (inputs.p1 * inputs.v1) / inputs.v2;
                        } else if (targetField === 'v2') {
                            result = (inputs.p1 * inputs.v1) / inputs.p2;
                        }
                        formulaText = 'Pâ‚Vâ‚ = Pâ‚‚Vâ‚‚ (Boyle\'s Law)';
                        break;
                        
                    case 'charles':
                        if (targetField === 'v1') {
                            result = (inputs.v2 * inputs.t1) / inputs.t2;
                        } else if (targetField === 't1') {
                            result = (inputs.v1 * inputs.t2) / inputs.v2;
                        } else if (targetField === 'v2') {
                            result = (inputs.v1 * inputs.t2) / inputs.t1;
                        } else if (targetField === 't2') {
                            result = (inputs.v2 * inputs.t1) / inputs.v1;
                        }
                        formulaText = 'Vâ‚/Tâ‚ = Vâ‚‚/Tâ‚‚ (Charles\'s Law)';
                        break;
                        
                    case 'gaylussac':
                        if (targetField === 'p1') {
                            result = (inputs.p2 * inputs.t1) / inputs.t2;
                        } else if (targetField === 't1') {
                            result = (inputs.p1 * inputs.t2) / inputs.p2;
                        } else if (targetField === 'p2') {
                            result = (inputs.p1 * inputs.t2) / inputs.t1;
                        } else if (targetField === 't2') {
                            result = (inputs.p2 * inputs.t1) / inputs.p1;
                        }
                        formulaText = 'Pâ‚/Tâ‚ = Pâ‚‚/Tâ‚‚ (Gay-Lussac\'s Law)';
                        break;
                }
                
                // æ˜¾ç¤ºç»“æœ
                const variable = this.laws[law].variables.find(v => v.id === targetField);
                const mainResultEl = document.getElementById('main-result');
                mainResultEl.textContent = `${this.getVariableLabel(law, targetField)} = ${result.toFixed(precision)} ${variable.unit}`;
                
                // æ˜¾ç¤ºå…¬å¼
                document.getElementById('formula-display').textContent = formulaText;
                
                // å¡«å……è®¡ç®—ç»“æœåˆ°è¾“å…¥æ¡†
                document.getElementById(targetField).value = result.toFixed(precision);
                
                // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                resultsEl.classList.remove('hidden');
            },
            
            // æ¸…é™¤è¾“å…¥å€¼
            clearValues: function() {
                const law = document.getElementById('gas-law').value;
                this.laws[law].variables.forEach(variable => {
                    document.getElementById(variable.id).value = '';
                });
                document.getElementById('gas-results').classList.add('hidden');
                document.getElementById('gas-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // æ›´æ–°è¾“å…¥æ ‡ç­¾å’Œå•ä½é€‰é¡¹
                this.applyLangToInputs();
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('gas-lang').value;
            }
        };
        
        // åˆå§‹åŒ–è®¡ç®—å™¨
        document.addEventListener('DOMContentLoaded', function() {
            GasLawCalculator.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>
</html>