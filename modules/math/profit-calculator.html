<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="tool-id" content="profit-calculator">
    <meta name="category" content="finance">
            <!-- Ëá™ÂÆö‰πâÂÖÉÊ†áÁ≠æ -->
    <meta name="tool-id" content="profit-calculator">
    <meta name="category" content="E-commerce Operations">
    <meta name="icon" content="üìä">
    <title>Profit Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Font Family optimized for multi-language */
        body { font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', 'Meiryo', sans-serif; background-color: #f8fafc; }
        
        /* Animations */
        .fade-in { animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Inputs */
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .input-group { transition: transform 0.2s; }
        .input-group:focus-within { transform: translateY(-1px); }

        /* Scrollbar */
        .custom-scroll::-webkit-scrollbar { height: 6px; width: 6px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }

        /* Toast Notification */
        #toast-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 50; pointer-events: none; }
        .toast { pointer-events: auto; padding: 10px 20px; border-radius: 8px; color: white; margin-bottom: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); animation: slideDown 0.3s ease-out; font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 8px; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .toast.error { background-color: #ef4444; }
        .toast.success { background-color: #10b981; }

        /* Result cards */
        .result-card { transition: transform 0.3s, box-shadow 0.3s; }
        .result-card:hover { transform: translateY(-3px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/math/profit-calculator.html" />

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9279583389810634"
     crossorigin="anonymous"></script>

</head>
<body class="p-0 md:p-6 min-h-screen flex flex-col text-slate-800">

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <div class="max-w-7xl mx-auto w-full flex-grow flex flex-col">
        
        <!-- Header -->
        <div class="bg-white rounded-none md:rounded-2xl shadow-sm border-b md:border border-slate-200 mb-0 md:mb-6 sticky top-0 z-30">
            <div class="flex flex-col md:flex-row justify-between items-center p-4 md:px-6">
                <!-- Logo -->
                <div class="flex items-center gap-3 w-full md:w-auto mb-4 md:mb-0">
                    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-2.5 rounded-xl shadow-lg shadow-blue-500/20">
                        <i class="fa-solid fa-calculator text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-slate-800 leading-tight" data-i18n="app_title">Profit Calculator</h1>
                        <p class="text-xs text-slate-400 font-medium" data-i18n="app_subtitle">Financial Profit Analysis</p>
                    </div>
                </div>

                <!-- Language -->
                <div class="relative w-full sm:w-auto">
                    <select id="lang-select" onchange="I18nModule.changeLanguage(this.value)" class="w-full sm:w-40 appearance-none bg-white border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block p-2.5 cursor-pointer font-medium hover:border-blue-300 transition shadow-sm">
                        <option value="en">üá∫üá∏ English</option>
                        <option value="zh-CN">üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá</option>
                        <option value="zh-TW">üá≠üá∞ ÁπÅÈ´î‰∏≠Êñá</option>
                        <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
                        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-slate-500">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="bg-white md:rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden flex-grow relative min-h-[600px]">
            
            <!-- Profit Calculator Module -->
            <div id="view-profit" class="fade-in p-6 md:p-10 h-full">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-10 h-full">
                    <!-- Inputs -->
                    <div class="lg:col-span-4 space-y-6">
                        <div class="bg-blue-50/50 p-6 rounded-2xl border border-blue-100">
                            <h3 class="text-lg font-bold text-slate-800 mb-6 flex items-center gap-2">
                                <span class="bg-blue-600 text-white w-8 h-8 rounded-lg flex items-center justify-center text-sm"><i class="fa-solid fa-file-invoice-dollar"></i></span>
                                <span data-i18n="financial_details">Financial Details</span>
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="input-group">
                                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5" data-i18n="revenue">Total Revenue</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none text-slate-400"><i class="fa-solid fa-arrow-up text-green-500"></i></div>
                                        <input type="number" id="revenue" step="0.01" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-white text-slate-800 font-medium" placeholder="0.00">
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5" data-i18n="cost">Cost of Goods</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none text-slate-400"><i class="fa-solid fa-arrow-down text-red-500"></i></div>
                                        <input type="number" id="cost" step="0.01" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition bg-white text-slate-800 font-medium" placeholder="0.00">
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5" data-i18n="expenses">Total Expenses</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none text-slate-400"><i class="fa-solid fa-arrow-down text-red-500"></i></div>
                                        <input type="number" id="expenses" step="0.01" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition bg-white text-slate-800 font-medium" placeholder="0.00">
                                    </div>
                                </div>

                                <div class="input-group">
                                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5" data-i18n="tax_rate">Income Tax Rate (%)</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none text-slate-400"><i class="fa-solid fa-percent"></i></div>
                                        <input type="number" id="tax-rate" step="0.01" value="25" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition bg-white text-slate-800 font-medium" placeholder="25">
                                    </div>
                                </div>

                                <button onclick="ProfitModule.calculate()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-600/20 hover:shadow-blue-600/40 transition-all transform active:scale-[0.98] mt-4 flex justify-center items-center gap-2 group">
                                    <i class="fa-solid fa-calculator group-hover:animate-pulse"></i> <span data-i18n="calculate_profit">Calculate Profit</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-slate-50 p-4 rounded-xl border border-slate-100 text-xs text-slate-500 leading-relaxed">
                            <i class="fa-solid fa-circle-info text-blue-500 mr-1.5"></i> <span data-i18n="calculation_hint">Calculation includes gross profit, operating profit, net profit and their respective margins. All values are in your local currency.</span>
                        </div>
                    </div>

                    <!-- Results -->
                    <div class="lg:col-span-8 flex flex-col h-full">
                        <div class="flex justify-between items-end mb-5">
                            <div>
                                <h3 class="text-xl font-bold text-slate-800" data-i18n="calculation_results">Calculation Results</h3>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="App.exportCSV()" class="text-xs font-semibold text-blue-600 hover:text-blue-800 px-3 py-2 bg-blue-50 rounded-lg hover:bg-blue-100 transition"><i class="fa-solid fa-download mr-1"></i> CSV</button>
                                <button onclick="App.clearHistory()" class="text-xs font-semibold text-red-500 hover:text-red-700 px-3 py-2 bg-red-50 rounded-lg hover:bg-red-100 transition"><i class="fa-regular fa-trash-can mr-1"></i> <span data-i18n="clear_history">Clear History</span></button>
                            </div>
                        </div>

                        <!-- Results Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <div class="result-card bg-gradient-to-br from-green-50 to-blue-50 p-5 rounded-xl border border-green-100">
                                <p class="text-xs text-slate-500 mb-1" data-i18n="gross_profit">Gross Profit</p>
                                <p class="text-2xl font-bold text-slate-800" id="result-gross-profit">0.00</p>
                                <div class="mt-2 flex items-center">
                                    <span class="text-xs text-green-600 font-medium" data-i18n="gross_margin">Gross Margin:</span>
                                    <span class="text-xs font-semibold ml-1" id="result-gross-margin">0%</span>
                                </div>
                            </div>
                            
                            <div class="result-card bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-100">
                                <p class="text-xs text-slate-500 mb-1" data-i18n="operating_profit">Operating Profit</p>
                                <p class="text-2xl font-bold text-slate-800" id="result-operating-profit">0.00</p>
                                <div class="mt-2 flex items-center">
                                    <span class="text-xs text-blue-600 font-medium" data-i18n="operating_margin">Operating Margin:</span>
                                    <span class="text-xs font-semibold ml-1" id="result-operating-margin">0%</span>
                                </div>
                            </div>
                            
                            <div class="result-card bg-gradient-to-br from-indigo-50 to-purple-50 p-5 rounded-xl border border-indigo-100">
                                <p class="text-xs text-slate-500 mb-1" data-i18n="tax_amount">Income Tax Amount</p>
                                <p class="text-2xl font-bold text-slate-800" id="result-tax-amount">0.00</p>
                                <div class="mt-2 flex items-center">
                                    <span class="text-xs text-indigo-600 font-medium" data-i18n="tax_rate_display">Tax Rate:</span>
                                    <span class="text-xs font-semibold ml-1" id="result-tax-rate">0%</span>
                                </div>
                            </div>
                            
                            <div class="result-card bg-gradient-to-br from-purple-50 to-pink-50 p-5 rounded-xl border border-purple-100">
                                <p class="text-xs text-slate-500 mb-1" data-i18n="net_profit">Net Profit</p>
                                <p class="text-2xl font-bold text-slate-800" id="result-net-profit">0.00</p>
                                <div class="mt-2 flex items-center">
                                    <span class="text-xs text-purple-600 font-medium" data-i18n="net_margin">Net Margin:</span>
                                    <span class="text-xs font-semibold ml-1" id="result-net-margin">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Metrics -->
                        <div class="bg-slate-50 p-5 rounded-xl border border-slate-100 mb-6">
                            <h4 class="text-sm font-semibold text-slate-700 mb-4" data-i18n="additional_metrics">Additional Metrics</h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div>
                                    <p class="text-xs text-slate-500 mb-1" data-i18n="cost_ratio">Cost Ratio</p>
                                    <p class="text-lg font-bold text-slate-800" id="result-cost-ratio">0%</p>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 mb-1" data-i18n="expense_ratio">Expense Ratio</p>
                                    <p class="text-lg font-bold text-slate-800" id="result-expense-ratio">0%</p>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 mb-1" data-i18n="tax_ratio">Tax Ratio</p>
                                    <p class="text-lg font-bold text-slate-800" id="result-tax-ratio">0%</p>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-500 mb-1" data-i18n="profit_factor">Profit Factor</p>
                                    <p class="text-lg font-bold text-slate-800" id="result-profit-factor">0x</p>
                                </div>
                            </div>
                        </div>

                        <!-- Calculation History -->
                        <div>
                            <h3 class="text-lg font-bold text-slate-800 mb-4" data-i18n="calculation_history">Calculation History</h3>
                            <div class="overflow-hidden rounded-xl border border-slate-200 bg-white relative shadow-sm">
                                <div class="absolute inset-0 overflow-auto custom-scroll">
                                    <table class="w-full text-sm text-left text-slate-600">
                                        <thead class="text-xs text-slate-400 uppercase bg-slate-50 sticky top-0 backdrop-blur-sm z-10 border-b border-slate-100">
                                            <tr>
                                                <th class="px-5 py-4 font-semibold" data-i18n="col_date">Date</th>
                                                <th class="px-5 py-4 font-semibold" data-i18n="col_revenue">Revenue</th>
                                                <th class="px-5 py-4 font-semibold" data-i18n="col_profit">Net Profit</th>
                                                <th class="px-5 py-4 font-semibold" data-i18n="col_margin">Net Margin</th>
                                                <th class="px-5 py-4 text-center" data-i18n="col_action">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="history-list" class="divide-y divide-slate-100"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        
        <div class="text-center mt-6 text-slate-300 text-xs pb-4">
            &copy; 2025 Profit Calculator. All calculations are done locally. No data is stored permanently.
        </div>
    </div>

    <script>
        /* --- I18N (Multi-language) Module --- */
        const I18nModule = {
            currentLang: 'en',
            data: {
                'en': {
                    app_title: 'Profit Calculator',
                    app_subtitle: 'Financial Profit Analysis',
                    financial_details: 'Financial Details',
                    revenue: 'Total Revenue',
                    cost: 'Cost of Goods',
                    expenses: 'Total Expenses',
                    tax_rate: 'Income Tax Rate (%)',
                    calculate_profit: 'Calculate Profit',
                    calculation_hint: 'Calculation includes gross profit, operating profit, net profit and their respective margins. All values are in your local currency.',
                    calculation_results: 'Calculation Results',
                    clear_history: 'Clear History',
                    gross_profit: 'Gross Profit',
                    gross_margin: 'Gross Margin:',
                    operating_profit: 'Operating Profit',
                    operating_margin: 'Operating Margin:',
                    tax_amount: 'Income Tax Amount',
                    tax_rate_display: 'Tax Rate:',
                    net_profit: 'Net Profit',
                    net_margin: 'Net Margin:',
                    additional_metrics: 'Additional Metrics',
                    cost_ratio: 'Cost Ratio',
                    expense_ratio: 'Expense Ratio',
                    tax_ratio: 'Tax Ratio',
                    profit_factor: 'Profit Factor',
                    calculation_history: 'Calculation History',
                    col_date: 'Date',
                    col_revenue: 'Revenue',
                    col_profit: 'Net Profit',
                    col_margin: 'Net Margin',
                    col_action: 'Action',
                    toast_success: 'Calculation completed successfully',
                    toast_error: 'Please fill in all required fields with positive values',
                    action_copy: 'Copy',
                    action_delete: 'Delete',
                    confirm_clear: 'Are you sure you want to clear all calculation history?'
                },
                'zh-CN': {
                    app_title: 'Âà©Ê∂¶ËÆ°ÁÆóÂô®',
                    app_subtitle: 'Ë¥¢Âä°Âà©Ê∂¶ÂàÜÊûê',
                    financial_details: 'Ë¥¢Âä°ËØ¶ÊÉÖ',
                    revenue: 'ÊÄªËê•‰∏öÈ¢ù',
                    cost: 'ÂïÜÂìÅÊàêÊú¨',
                    expenses: 'ÊÄªË¥πÁî®',
                    tax_rate: 'ÊâÄÂæóÁ®éÁéá (%)',
                    calculate_profit: 'ËÆ°ÁÆóÂà©Ê∂¶',
                    calculation_hint: 'ËÆ°ÁÆóÂåÖÊã¨ÊØõÂà©Ê∂¶„ÄÅËê•‰∏öÂà©Ê∂¶„ÄÅÂáÄÂà©Ê∂¶ÂèäÂÖ∂ÂêÑËá™ÁöÑÂà©Ê∂¶Áéá„ÄÇÊâÄÊúâÊï∞ÂÄºÂùá‰∏∫Êú¨Âú∞Ë¥ßÂ∏Å„ÄÇ',
                    calculation_results: 'ËÆ°ÁÆóÁªìÊûú',
                    clear_history: 'Ê∏ÖÁ©∫ÂéÜÂè≤',
                    gross_profit: 'ÊØõÂà©Ê∂¶',
                    gross_margin: 'ÊØõÂà©Áéá:',
                    operating_profit: 'Ëê•‰∏öÂà©Ê∂¶',
                    operating_margin: 'Ëê•‰∏öÂà©Ê∂¶Áéá:',
                    tax_amount: 'ÊâÄÂæóÁ®éÈáëÈ¢ù',
                    tax_rate_display: 'Á®éÁéá:',
                    net_profit: 'ÂáÄÂà©Ê∂¶',
                    net_margin: 'ÂáÄÂà©Ê∂¶Áéá:',
                    additional_metrics: 'ÈôÑÂä†ÊåáÊ†á',
                    cost_ratio: 'ÊàêÊú¨ÊØîÁéá',
                    expense_ratio: 'Ë¥πÁî®ÊØîÁéá',
                    tax_ratio: 'Á®éÊî∂ÊØîÁéá',
                    profit_factor: 'Âà©Ê∂¶Á≥ªÊï∞',
                    calculation_history: 'ËÆ°ÁÆóÂéÜÂè≤',
                    col_date: 'Êó•Êúü',
                    col_revenue: 'Ëê•‰∏öÈ¢ù',
                    col_profit: 'ÂáÄÂà©Ê∂¶',
                    col_margin: 'ÂáÄÂà©Ê∂¶Áéá',
                    col_action: 'Êìç‰Ωú',
                    toast_success: 'ËÆ°ÁÆóÊàêÂäüÂÆåÊàê',
                    toast_error: 'ËØ∑Â°´ÂÜôÊâÄÊúâÂøÖÂ°´Â≠óÊÆµÂπ∂Á°Æ‰øù‰∏∫Ê≠£ÂÄº',
                    action_copy: 'Â§çÂà∂',
                    action_delete: 'Âà†Èô§',
                    confirm_clear: 'Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâËÆ°ÁÆóÂéÜÂè≤ÂêóÔºü'
                },
                'zh-TW': {
                    app_title: 'Âà©ÊΩ§Ë®àÁÆóÂô®',
                    app_subtitle: 'Ë≤°ÂãôÂà©ÊΩ§ÂàÜÊûê',
                    financial_details: 'Ë≤°ÂãôË©≥ÊÉÖ',
                    revenue: 'Á∏ΩÁáüÊ•≠È°ç',
                    cost: 'ÂïÜÂìÅÊàêÊú¨',
                    expenses: 'Á∏ΩË≤ªÁî®',
                    tax_rate: 'ÊâÄÂæóÁ®ÖÁéá (%)',
                    calculate_profit: 'Ë®àÁÆóÂà©ÊΩ§',
                    calculation_hint: 'Ë®àÁÆóÂåÖÊã¨ÊØõÂà©ÊΩ§„ÄÅÁáüÊ•≠Âà©ÊΩ§„ÄÅÊ∑®Âà©ÊΩ§ÂèäÂÖ∂ÂêÑËá™ÁöÑÂà©ÊΩ§Áéá„ÄÇÊâÄÊúâÊï∏ÂÄºÂùáÁÇ∫Êú¨Âú∞Ë≤®Âπ£„ÄÇ',
                    calculation_results: 'Ë®àÁÆóÁµêÊûú',
                    clear_history: 'Ê∏ÖÁ©∫Ê≠∑Âè≤',
                    gross_profit: 'ÊØõÂà©ÊΩ§',
                    gross_margin: 'ÊØõÂà©Áéá:',
                    operating_profit: 'ÁáüÊ•≠Âà©ÊΩ§',
                    operating_margin: 'ÁáüÊ•≠Âà©ÊΩ§Áéá:',
                    tax_amount: 'ÊâÄÂæóÁ®ÖÈáëÈ°ç',
                    tax_rate_display: 'Á®ÖÁéá:',
                    net_profit: 'Ê∑®Âà©ÊΩ§',
                    net_margin: 'Ê∑®Âà©ÊΩ§Áéá:',
                    additional_metrics: 'ÈôÑÂä†ÊåáÊ®ô',
                    cost_ratio: 'ÊàêÊú¨ÊØîÁéá',
                    expense_ratio: 'Ë≤ªÁî®ÊØîÁéá',
                    tax_ratio: 'Á®ÖÊî∂ÊØîÁéá',
                    profit_factor: 'Âà©ÊΩ§‰øÇÊï∏',
                    calculation_history: 'Ë®àÁÆóÊ≠∑Âè≤',
                    col_date: 'Êó•Êúü',
                    col_revenue: 'ÁáüÊ•≠È°ç',
                    col_profit: 'Ê∑®Âà©ÊΩ§',
                    col_margin: 'Ê∑®Âà©ÊΩ§Áéá',
                    col_action: 'Êìç‰Ωú',
                    toast_success: 'Ë®àÁÆóÊàêÂäüÂÆåÊàê',
                    toast_error: 'Ë´ãÂ°´ÂØ´ÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰Ωç‰∏¶Á¢∫‰øùÁÇ∫Ê≠£ÂÄº',
                    action_copy: 'Ë§áË£Ω',
                    action_delete: 'Âà™Èô§',
                    confirm_clear: 'Á¢∫ÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâË®àÁÆóÊ≠∑Âè≤ÂóéÔºü'
                },
                'ja': {
                    app_title: 'Âà©ÁõäË®àÁÆóÊ©ü',
                    app_subtitle: 'Ë≤°ÂãôÂà©ÁõäÂàÜÊûê',
                    financial_details: 'Ë≤°ÂãôË©≥Á¥∞',
                    revenue: 'Á∑èÂèéÂÖ•',
                    cost: 'ÂïÜÂìÅÂéü‰æ°',
                    expenses: 'Á∑èË≤ªÁî®',
                    tax_rate: 'ÊâÄÂæóÁ®éÁéá (%)',
                    calculate_profit: 'Âà©Áõä„ÇíË®àÁÆó',
                    calculation_hint: 'Ë®àÁÆó„Å´„ÅØÁ≤óÂà©Áõä„ÄÅÂñ∂Ê•≠Âà©Áõä„ÄÅÁ¥îÂà©Áõä„Å®„Åù„Çå„Åû„Çå„ÅÆÂà©ÁõäÁéá„ÅåÂê´„Åæ„Çå„Åæ„Åô„ÄÇ„Åô„Åπ„Å¶„ÅÆÊï∞ÂÄ§„ÅØÁèæÂú∞ÈÄöË≤®„ÅßË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ',
                    calculation_results: 'Ë®àÁÆóÁµêÊûú',
                    clear_history: 'Â±•Ê≠¥„ÇíÊ∂àÂéª',
                    gross_profit: 'Á≤óÂà©Áõä',
                    gross_margin: 'Á≤óÂà©Áéá:',
                    operating_profit: 'Âñ∂Ê•≠Âà©Áõä',
                    operating_margin: 'Âñ∂Ê•≠Âà©ÁõäÁéá:',
                    tax_amount: 'ÊâÄÂæóÁ®éÈ°ç',
                    tax_rate_display: 'Á®éÁéá:',
                    net_profit: 'Á¥îÂà©Áõä',
                    net_margin: 'Á¥îÂà©ÁõäÁéá:',
                    additional_metrics: 'ËøΩÂä†ÊåáÊ®ô',
                    cost_ratio: 'Âéü‰æ°ÊØîÁéá',
                    expense_ratio: 'Ë≤ªÁî®ÊØîÁéá',
                    tax_ratio: 'Á®éÊØîÁéá',
                    profit_factor: 'Âà©Áõä‰øÇÊï∞',
                    calculation_history: 'Ë®àÁÆóÂ±•Ê≠¥',
                    col_date: 'Êó•‰ªò',
                    col_revenue: 'ÂèéÂÖ•',
                    col_profit: 'Á¥îÂà©Áõä',
                    col_margin: 'Á¥îÂà©ÁõäÁéá',
                    col_action: 'Êìç‰Ωú',
                    toast_success: 'Ë®àÁÆó„ÅåÊ≠£Â∏∏„Å´ÂÆå‰∫Ü„Åó„Åæ„Åó„Åü',
                    toast_error: '„Åô„Åπ„Å¶„ÅÆÂøÖÈ†àÈ†ÖÁõÆ„ÇíÂÖ•Âäõ„Åó„ÄÅÊ≠£„ÅÆÂÄ§„Åß„ÅÇ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    action_copy: '„Ç≥„Éî„Éº',
                    action_delete: 'ÂâäÈô§',
                    confirm_clear: '„Åô„Åπ„Å¶„ÅÆË®àÁÆóÂ±•Ê≠¥„ÇíÊ∂àÂéª„Åó„Å¶„ÇÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü'
                },
                'ru': {
                    app_title: '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–∏–±—ã–ª–∏',
                    app_subtitle: '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏–±—ã–ª–∏',
                    financial_details: '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ',
                    revenue: '–û–±—â–∏–π –¥–æ—Ö–æ–¥',
                    cost: ' –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤',
                    expenses: '–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã',
                    tax_rate: '–°—Ç–∞–≤–∫–∞ –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞ (%)',
                    calculate_profit: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–±—ã–ª—å',
                    calculation_hint: '–†–∞—Å—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±–µ –≤–∞–ª–æ–≤—É—é –ø—Ä–∏–±—ã–ª—å, –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –ø—Ä–∏–±—ã–ª—å, —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –∏ –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä–∂–∏. –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –≤ –º–µ—Å—Ç–Ω–æ–π –≤–∞–ª—é—Ç–µ.',
                    calculation_results: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞',
                    clear_history: '–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é',
                    gross_profit: '–í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å',
                    gross_margin: '–í–∞–ª–æ–≤–∞—è –º–∞—Ä–∂–∞:',
                    operating_profit: '–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å',
                    operating_margin: '–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞:',
                    tax_amount: '–°—É–º–º–∞ –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞',
                    tax_rate_display: '–°—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞:',
                    net_profit: '–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å',
                    net_margin: '–ß–∏—Å—Ç–∞—è –º–∞—Ä–∂–∞:',
                    additional_metrics: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏',
                    cost_ratio: '–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏',
                    expense_ratio: '–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤',
                    tax_ratio: '–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è',
                    profit_factor: '–§–∞–∫—Ç–æ—Ä –ø—Ä–∏–±—ã–ª–∏',
                    calculation_history: '–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤',
                    col_date: '–î–∞—Ç–∞',
                    col_revenue: '–î–æ—Ö–æ–¥',
                    col_profit: '–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å',
                    col_margin: '–ß–∏—Å—Ç–∞—è –º–∞—Ä–∂–∞',
                    col_action: '–î–µ–π—Å—Ç–≤–∏–µ',
                    toast_success: '–†–∞—Å—á–µ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω',
                    toast_error: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏',
                    action_copy: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å',
                    action_delete: '–£–¥–∞–ª–∏—Ç—å',
                    confirm_clear: '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—á–µ—Ç–æ–≤?'
                }
            },
            
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // Try to get saved language from localStorage
                const savedLang = localStorage.getItem('profitCalcLang');
                if (savedLang && this.data[savedLang]) {
                    this.currentLang = savedLang;
                    document.getElementById('lang-select').value = savedLang;
                }
                this.updateTextContent();
            },
            
            changeLanguage: function(lang) {
                if (this.data[lang]) {
                    this.currentLang = lang;
                    localStorage.setItem('profitCalcLang', lang);
                    this.updateTextContent();
                }
            },
            
            updateTextContent: function() {
                const elements = document.querySelectorAll('[data-i18n]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.data[this.currentLang][key]) {
                        el.textContent = this.data[this.currentLang][key];
                    }
                });
            }
        };

        /* --- Profit Calculation Module --- */
        const ProfitModule = {
            history: [],
            
            init: function() {
                // Load calculation history from localStorage
                const savedHistory = localStorage.getItem('profitCalculations');
                if (savedHistory) {
                    try {
                        this.history = JSON.parse(savedHistory);
                        this.renderHistory();
                    } catch (e) {
                        console.error('Error loading history:', e);
                        this.history = [];
                    }
                }
            },
            
            calculate: function() {
                // Get input values
                const revenue = parseFloat(document.getElementById('revenue').value) || 0;
                const cost = parseFloat(document.getElementById('cost').value) || 0;
                const expenses = parseFloat(document.getElementById('expenses').value) || 0;
                const taxRate = parseFloat(document.getElementById('tax-rate').value) || 0;
                
                // Validate inputs
                if (revenue <= 0 || cost < 0 || expenses < 0 || taxRate < 0 || taxRate > 100) {
                    App.showToast(I18nModule.data[I18nModule.currentLang].toast_error, 'error');
                    return;
                }
                
                // Calculate all profit metrics
                const grossProfit = revenue - cost;
                const grossMargin = revenue > 0 ? (grossProfit / revenue) * 100 : 0;
                
                const operatingProfit = grossProfit - expenses;
                const operatingMargin = revenue > 0 ? (operatingProfit / revenue) * 100 : 0;
                
                const taxableIncome = Math.max(0, operatingProfit); // Don't tax losses
                const taxAmount = taxableIncome * (taxRate / 100);
                
                const netProfit = operatingProfit - taxAmount;
                const netMargin = revenue > 0 ? (netProfit / revenue) * 100 : 0;
                
                // Additional metrics
                const costRatio = revenue > 0 ? (cost / revenue) * 100 : 0;
                const expenseRatio = revenue > 0 ? (expenses / revenue) * 100 : 0;
                const taxRatio = revenue > 0 ? (taxAmount / revenue) * 100 : 0;
                const profitFactor = (cost + expenses + taxAmount) > 0 ? (revenue / (cost + expenses + taxAmount)) : 0;
                
                // Update result display
                document.getElementById('result-gross-profit').textContent = grossProfit.toFixed(2);
                document.getElementById('result-gross-margin').textContent = grossMargin.toFixed(1) + '%';
                
                document.getElementById('result-operating-profit').textContent = operatingProfit.toFixed(2);
                document.getElementById('result-operating-margin').textContent = operatingMargin.toFixed(1) + '%';
                
                document.getElementById('result-tax-amount').textContent = taxAmount.toFixed(2);
                document.getElementById('result-tax-rate').textContent = taxRate.toFixed(1) + '%';
                
                document.getElementById('result-net-profit').textContent = netProfit.toFixed(2);
                document.getElementById('result-net-margin').textContent = netMargin.toFixed(1) + '%';
                
                document.getElementById('result-cost-ratio').textContent = costRatio.toFixed(1) + '%';
                document.getElementById('result-expense-ratio').textContent = expenseRatio.toFixed(1) + '%';
                document.getElementById('result-tax-ratio').textContent = taxRatio.toFixed(1) + '%';
                document.getElementById('result-profit-factor').textContent = profitFactor.toFixed(2) + 'x';
                
                // Create calculation record
                const calculation = {
                    id: Date.now(),
                    date: new Date().toISOString(),
                    revenue,
                    cost,
                    expenses,
                    taxRate,
                    grossProfit,
                    grossMargin,
                    operatingProfit,
                    operatingMargin,
                    taxAmount,
                    netProfit,
                    netMargin
                };
                
                // Save and update history
                this.history.unshift(calculation); // Add to beginning
                this.saveHistory();
                this.renderHistory();
                
                App.showToast(I18nModule.data[I18nModule.currentLang].toast_success, 'success');
            },
            
            renderHistory: function() {
                const listElement = document.getElementById('history-list');
                listElement.innerHTML = '';
                
                if (this.history.length === 0) {
                    listElement.innerHTML = `
                        <tr>
                            <td colspan="5" class="px-5 py-10 text-center text-slate-400">
                                <i class="fa-solid fa-history text-2xl mb-2"></i>
                                <p data-i18n="no_history">No calculation history yet</p>
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                this.history.forEach(item => {
                    const date = new Date(item.date);
                    const formattedDate = date.toLocaleDateString();
                    const profitClass = item.netProfit >= 0 ? 'text-green-600' : 'text-red-600';
                    
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-slate-50 transition';
                    row.innerHTML = `
                        <td class="px-5 py-4">${formattedDate}</td>
                        <td class="px-5 py-4">${item.revenue.toFixed(2)}</td>
                        <td class="px-5 py-4 font-medium ${profitClass}">${item.netProfit.toFixed(2)}</td>
                        <td class="px-5 py-4">${item.netMargin.toFixed(1)}%</td>
                        <td class="px-5 py-4 text-center">
                            <div class="flex justify-center gap-2">
                                <button onclick="ProfitModule.copyCalculation(${item.id})" class="text-xs text-blue-600 hover:text-blue-800">
                                    <i class="fa-regular fa-copy mr-1"></i>${I18nModule.data[I18nModule.currentLang].action_copy}
                                </button>
                                <button onclick="ProfitModule.deleteCalculation(${item.id})" class="text-xs text-red-500 hover:text-red-800">
                                    <i class="fa-regular fa-trash-can mr-1"></i>${I18nModule.data[I18nModule.currentLang].action_delete}
                                </button>
                            </div>
                        </td>
                    `;
                    listElement.appendChild(row);
                });
            },
            
            copyCalculation: function(id) {
                const item = this.history.find(h => h.id === id);
                if (item) {
                    document.getElementById('revenue').value = item.revenue;
                    document.getElementById('cost').value = item.cost;
                    document.getElementById('expenses').value = item.expenses;
                    document.getElementById('tax-rate').value = item.taxRate;
                    
                    App.showToast('Calculation data copied to form', 'success');
                }
            },
            
            deleteCalculation: function(id) {
                this.history = this.history.filter(item => item.id !== id);
                this.saveHistory();
                this.renderHistory();
            },
            
            saveHistory: function() {
                localStorage.setItem('profitCalculations', JSON.stringify(this.history));
            }
        };

        /* --- Main App Module --- */
        const App = {
            init: function() {
                I18nModule.init();
                ProfitModule.init();
            },
            
            showToast: function(message, type = 'success') {
                const container = document.getElementById('toast-container');
                const toast = document.createElement('div');
                toast.className = `toast ${type} fade-in`;
                
                const icon = type === 'success' ? 'check-circle' : 'exclamation-circle';
                toast.innerHTML = `<i class="fa-solid fa-${icon}"></i> ${message}`;
                
                container.appendChild(toast);
                
                // Remove toast after 3 seconds
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateY(-20px)';
                    toast.style.transition = 'opacity 0.3s, transform 0.3s';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            },
            
            exportCSV: function() {
                if (ProfitModule.history.length === 0) {
                    this.showToast('No data to export', 'error');
                    return;
                }
                
                // Create CSV content
                let csv = 'Date,Revenue,Cost,Expenses,Tax Rate,Gross Profit,Operating Profit,Net Profit,Gross Margin (%),Operating Margin (%),Net Margin (%)\n';
                
                ProfitModule.history.forEach(item => {
                    const date = new Date(item.date).toLocaleDateString();
                    csv += `${date},${item.revenue},${item.cost},${item.expenses},${item.taxRate},${item.grossProfit},${item.operatingProfit},${item.netProfit},${item.grossMargin},${item.operatingMargin},${item.netMargin}\n`;
                });
                
                // Create and download CSV file
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.setAttribute('href', url);
                a.setAttribute('download', `profit-calculations-${new Date().toISOString().slice(0,10)}.csv`);
                a.style.visibility = 'hidden';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            },
            
            clearHistory: function() {
                if (confirm(I18nModule.data[I18nModule.currentLang].confirm_clear)) {
                    ProfitModule.history = [];
                    ProfitModule.saveHistory();
                    ProfitModule.renderHistory();
                    this.showToast('All history has been cleared', 'success');
                }
            }
        };

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            App.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>