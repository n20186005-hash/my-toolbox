<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Target Heart Rate Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="target_heart_rate_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="❤️">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="Target Heart Rate Calculator">
    <meta name="description" content="Calculate your target heart rate zones for effective workouts.">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="目标心率计算器">
    <meta name="lang-description-zh-CN" content="计算您的目标心率区间，以获得有效的锻炼效果。">
    
    <meta name="lang-title-zh-TW" content="目標心率計算器">
    <meta name="lang-description-zh-TW" content="計算您的目標心率區間，以獲得有效的鍛煉效果。">
    
    <meta name="lang-title-ja" content="目標心拍数計算機">
    <meta name="lang-description-ja" content="効果的なトレーニングのための目標心拍数ゾーンを計算します。">
    
    <meta name="lang-title-ru" content="Калькулятор целевого пульса">
    <meta name="lang-description-ru" content="Вычислите зоны целевого пульса для эффективных тренировок.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .heart-rate-zone { margin: 8px 0; padding: 8px; border-radius: 4px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/target-heart-rate-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="target_heart_rate_calculator" 
         data-category="health" 
         data-title="Target Heart Rate Calculator" 
         data-icon="❤️">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="thr-lang" onchange="TargetHeartRateCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">❤️ Target Heart Rate Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="age_label">Age (years)</label>
                <input type="number" id="age" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none" placeholder="e.g. 30" min="5" max="120">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="resting_hr_label">Resting Heart Rate (bpm)</label>
                <input type="number" id="restingHr" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none" placeholder="e.g. 70" min="40" max="120">
            </div>
        </div>

        <button onclick="TargetHeartRateCalc.calc()" class="w-full bg-red-600 text-white py-2 rounded font-bold hover:bg-red-700 transition mb-6" data-i18n="btn_calc">Calculate Target Heart Rate</button>

        <div class="bg-red-50 p-6 rounded-lg border border-red-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="max_hr_label">Maximum Heart Rate</div>
            <div id="max-hr-result" class="text-2xl font-bold text-red-800 mb-4">--</div>
            
            <div class="text-sm text-gray-500 mb-2" data-i18n="zones_label">Target Heart Rate Zones</div>
            <div id="hr-zones" class="space-y-2">
                <!-- 心率区间将在这里动态生成 -->
                <div class="text-center text-gray-500" data-i18n="no_data">Enter your details and calculate</div>
            </div>
            
            <div class="mt-4 p-3 bg-white rounded border border-gray-100 text-left text-sm">
                <div data-i18n="formula_label" class="font-medium mb-1">Formulas Used</div>
                <div id="hr-formula" class="text-gray-600">--</div>
            </div>
        </div>
    </div>

    <script>
        const TargetHeartRateCalc = {
            i18n: {
                'en': {
                    title: '❤️ Target Heart Rate Calculator',
                    age_label: 'Age (years)',
                    resting_hr_label: 'Resting Heart Rate (bpm)',
                    btn_calc: 'Calculate Target Heart Rate',
                    max_hr_label: 'Maximum Heart Rate',
                    zones_label: 'Target Heart Rate Zones',
                    zone_rest: 'Resting',
                    zone_fat: 'Fat Burning',
                    zone_aerobic: 'Aerobic',
                    zone_threshold: 'Threshold',
                    zone_max: 'Maximum',
                    formula_label: 'Formulas Used',
                    formula_max_hr: 'Maximum HR = 220 - Age',
                    formula_hrr: 'Heart Rate Reserve = Maximum HR - Resting HR',
                    err_invalid: 'Please enter valid values',
                    unit: 'bpm',
                    no_data: 'Enter your details and calculate'
                },
                'zh-CN': {
                    title: '❤️ 目标心率计算器',
                    age_label: '年龄 (岁)',
                    resting_hr_label: '静息心率 (次/分钟)',
                    btn_calc: '计算目标心率',
                    max_hr_label: '最大心率',
                    zones_label: '目标心率区间',
                    zone_rest: '休息区',
                    zone_fat: '燃脂区',
                    zone_aerobic: '有氧区',
                    zone_threshold: '阈值区',
                    zone_max: '极限区',
                    formula_label: '使用公式',
                    formula_max_hr: '最大心率 = 220 - 年龄',
                    formula_hrr: '心率储备 = 最大心率 - 静息心率',
                    err_invalid: '请输入有效的数值',
                    unit: '次/分钟',
                    no_data: '输入您的信息并计算'
                },
                'zh-TW': {
                    title: '❤️ 目標心率計算器',
                    age_label: '年齡 (歲)',
                    resting_hr_label: '靜息心率 (次/分鐘)',
                    btn_calc: '計算目標心率',
                    max_hr_label: '最大心率',
                    zones_label: '目標心率區間',
                    zone_rest: '休息區',
                    zone_fat: '燃脂區',
                    zone_aerobic: '有氧區',
                    zone_threshold: '閾值區',
                    zone_max: '極限區',
                    formula_label: '使用公式',
                    formula_max_hr: '最大心率 = 220 - 年齡',
                    formula_hrr: '心率儲備 = 最大心率 - 靜息心率',
                    err_invalid: '請輸入有效的數值',
                    unit: '次/分鐘',
                    no_data: '輸入您的信息並計算'
                },
                'ja': {
                    title: '❤️ 目標心拍数計算機',
                    age_label: '年齢 (歳)',
                    resting_hr_label: '安静時心拍数 (bpm)',
                    btn_calc: '目標心拍数を計算',
                    max_hr_label: '最大心拍数',
                    zones_label: '目標心拍数ゾーン',
                    zone_rest: '休息域',
                    zone_fat: '脂肪燃焼域',
                    zone_aerobic: '有酸素運動域',
                    zone_threshold: 'しきい値域',
                    zone_max: '最大域',
                    formula_label: '使用した公式',
                    formula_max_hr: '最大心拍数 = 220 - 年齢',
                    formula_hrr: '心拍数予備力 = 最大心拍数 - 安静時心拍数',
                    err_invalid: '有効な値を入力してください',
                    unit: 'bpm',
                    no_data: '詳細を入力して計算してください'
                },
                'ru': {
                    title: '❤️ Калькулятор целевого пульса',
                    age_label: 'Возраст (лет)',
                    resting_hr_label: 'Пульс в покое (уд/мин)',
                    btn_calc: 'Вычислить целевой пульс',
                    max_hr_label: 'Максимальный пульс',
                    zones_label: 'Зоны целевого пульса',
                    zone_rest: 'Отдых',
                    zone_fat: 'Сжигание жира',
                    zone_aerobic: 'Аэробная зона',
                    zone_threshold: 'Порог',
                    zone_max: 'Максимальная',
                    formula_label: 'Используемые формулы',
                    formula_max_hr: 'Максимальный пульс = 220 - Возраст',
                    formula_hrr: 'Запас пульса = Максимальный пульс - Пульс в покое',
                    err_invalid: 'Пожалуйста, введите действительные значения',
                    unit: 'уд/мин',
                    no_data: 'Введите свои данные и вычислите'
                }
            },

            init: () => {
                // 初始化示例值
                document.getElementById('age').value = 30;
                document.getElementById('restingHr').value = 70;
            },

            changeLang: () => {
                const lang = document.getElementById('thr-lang').value;
                const texts = TargetHeartRateCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="target_heart_rate_calculator"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) el.innerText = texts[key];
                });

                // 重新计算以更新结果语言
                TargetHeartRateCalc.calc();
            },

            calc: () => {
                const age = parseFloat(document.getElementById('age').value);
                const restingHr = parseFloat(document.getElementById('restingHr').value);
                const lang = document.getElementById('thr-lang').value;
                const texts = TargetHeartRateCalc.i18n[lang];

                const maxHrEl = document.getElementById('max-hr-result');
                const zonesEl = document.getElementById('hr-zones');
                const formulaEl = document.getElementById('hr-formula');

                // 验证输入
                if (isNaN(age) || isNaN(restingHr) || age <= 0 || restingHr <= 0) {
                    maxHrEl.innerText = texts.err_invalid;
                    maxHrEl.className = "text-xl font-bold text-red-600";
                    zonesEl.innerHTML = `<div class="text-center text-gray-500">${texts.no_data}</div>`;
                    formulaEl.innerText = "";
                    return;
                }

                // 计算最大心率和心率储备
                const maxHr = 220 - age;
                const hrr = maxHr - restingHr;

                // 计算各心率区间
                const zones = [
                    { 
                        name: texts.zone_rest, 
                        min: 0, 
                        max: Math.round(restingHr + 0.3 * hrr),
                        color: 'bg-gray-100 text-gray-800'
                    },
                    { 
                        name: texts.zone_fat, 
                        min: Math.round(restingHr + 0.3 * hrr) + 1, 
                        max: Math.round(restingHr + 0.59 * hrr),
                        color: 'bg-green-100 text-green-800'
                    },
                    { 
                        name: texts.zone_aerobic, 
                        min: Math.round(restingHr + 0.6 * hrr) + 1, 
                        max: Math.round(restingHr + 0.79 * hrr),
                        color: 'bg-blue-100 text-blue-800'
                    },
                    { 
                        name: texts.zone_threshold, 
                        min: Math.round(restingHr + 0.8 * hrr) + 1, 
                        max: Math.round(restingHr + 0.89 * hrr),
                        color: 'bg-orange-100 text-orange-800'
                    },
                    { 
                        name: texts.zone_max, 
                        min: Math.round(restingHr + 0.9 * hrr) + 1, 
                        max: Math.round(maxHr),
                        color: 'bg-red-100 text-red-800'
                    }
                ];

                // 显示最大心率
                maxHrEl.className = "text-2xl font-bold text-red-800 mb-4";
                maxHrEl.innerText = `${maxHr} ${texts.unit}`;
                
                // 显示心率区间
                let zonesHtml = '';
                zones.forEach(zone => {
                    zonesHtml += `
                        <div class="heart-rate-zone ${zone.color}">
                            <div class="font-medium">${zone.name}</div>
                            <div>${zone.min} - ${zone.max} ${texts.unit}</div>
                        </div>
                    `;
                });
                zonesEl.innerHTML = zonesHtml;
                
                // 显示计算公式
                formulaEl.innerHTML = `
                    ${texts.formula_max_hr}<br>
                    ${texts.formula_hrr}
                `;
            }
        };

        document.addEventListener('DOMContentLoaded', TargetHeartRateCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 自动匹配浏览器语言
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('thr-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    TargetHeartRateCalc.changeLang();
                }
            }
        });
    </script>


    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    

    <div id="toolbox-seo-wrapper-unique-id" class="max-w-4xl mx-auto px-4"></div>
    <script src="/scripts/seo-loader.js"></script>

</body>
</html>