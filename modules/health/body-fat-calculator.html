<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Body Fat Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="body_fat_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="ğŸ“Š">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Body Fat Calculator">
    <meta name="description" content="Estimate your body fat percentage using the Navy method based on your measurements.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="ä½“è„‚è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="æ ¹æ®æ‚¨çš„æµ‹é‡å€¼ï¼Œä½¿ç”¨æµ·å†›æ–¹æ³•ä¼°ç®—æ‚¨çš„ä½“è„‚ç‡ã€‚">
    
    <meta name="lang-title-zh-TW" content="é«”è„‚è¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="æ ¹æ“šæ‚¨çš„æ¸¬é‡å€¼ï¼Œä½¿ç”¨æµ·è»æ–¹æ³•ä¼°ç®—æ‚¨çš„é«”è„‚ç‡ã€‚">
    
    <meta name="lang-title-ja" content="ä½“è„‚è‚ªç‡è¨ˆç®—ãƒ„ãƒ¼ãƒ«">
    <meta name="lang-description-ja" content="æ¸¬å®šå€¤ã‚’ä½¿ç”¨ã—ã¦ã€æµ·è»æ³•ã«åŸºã¥ã„ã¦ä½“è„‚è‚ªç‡ã‚’æ¨å®šã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ°ÑÑÑ‹">
    <meta name="lang-description-ru" content="ĞÑ†ĞµĞ½Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ¶Ğ¸Ñ€Ğ½Ğ¾Ğ¹ Ğ¼Ğ°ÑÑÑ‹ Ñ‚ĞµĞ»Ğ° Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¼Ğ¾Ñ€ÑĞºĞ¾Ğ³Ğ¾ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ° Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-section { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .measurement-help { font-size: 0.85rem; color: #666; margin-top: 3px; }
        .fat-range { height: 8px; background: linear-gradient(to right, #4ade80, #facc15, #ef4444); border-radius: 4px; margin: 10px 0; position: relative; }
        .range-markers { display: flex; justify-content: space-between; font-size: 0.75rem; color: #666; margin-top: 5px; }
        .result-value { font-size: 2rem; font-weight: bold; color: #3b82f6; text-align: center; }
        .category { text-align: center; font-weight: bold; margin: 10px 0; padding: 5px; border-radius: 4px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/body-fat-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="body_fat_calculator" 
         data-category="health" 
         data-title="Body Fat Calculator" 
         data-icon="ğŸ“Š">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="bodyfat-lang" onchange="BodyFatCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ“Š Body Fat Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <div class="grid-2">
                <!-- æ€§åˆ« -->
                <div class="form-group">
                    <label data-i18n="gender">Gender</label>
                    <select id="gender" onchange="BodyFatCalculator.toggleMeasurements()" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="male" data-i18n="male">Male</option>
                        <option value="female" data-i18n="female">Female</option>
                    </select>
                </div>
                
                <!-- å¹´é¾„ -->
                <div class="form-group">
                    <label data-i18n="age">Age (years)</label>
                    <input type="number" id="age" min="18" max="120" value="30" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                
                <!-- ä½“é‡ -->
                <div class="form-group">
                    <label data-i18n="weight">Weight</label>
                    <div class="flex gap-2">
                        <input type="number" id="weight" min="30" max="300" value="70" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <select id="weight-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="kg">kg</option>
                            <option value="lb">lb</option>
                        </select>
                    </div>
                </div>
                
                <!-- èº«é«˜ -->
                <div class="form-group">
                    <label data-i18n="height">Height</label>
                    <div class="flex gap-2">
                        <input type="number" id="height" min="100" max="250" value="175" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <select id="height-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="cm">cm</option>
                            <option value="ft">ft</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- ç”·æ€§æµ‹é‡å€¼ -->
            <div id="male-measurements">
                <div class="grid-2">
                    <!-- é¢ˆéƒ¨å‘¨é•¿ -->
                    <div class="form-group">
                        <label data-i18n="neck_circumference">Neck Circumference</label>
                        <div class="flex gap-2">
                            <input type="number" id="neck" min="20" max="60" step="0.1" value="38" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <select id="neck-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                                <option value="cm">cm</option>
                                <option value="in">in</option>
                            </select>
                        </div>
                        <div class="measurement-help" data-i18n="neck_help">Measure around the base of the neck, just below the Adam's apple.</div>
                    </div>
                    
                    <!-- è…°å›´ -->
                    <div class="form-group">
                        <label data-i18n="waist_circumference">Waist Circumference</label>
                        <div class="flex gap-2">
                            <input type="number" id="waist" min="50" max="200" step="0.1" value="85" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <select id="waist-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                                <option value="cm">cm</option>
                                <option value="in">in</option>
                            </select>
                        </div>
                        <div class="measurement-help" data-i18n="waist_help_male">Measure at the navel level.</div>
                    </div>
                </div>
            </div>
            
            <!-- å¥³æ€§æµ‹é‡å€¼ (é»˜è®¤éšè—) -->
            <div id="female-measurements" class="hidden">
                <div class="grid-2">
                    <!-- é¢ˆéƒ¨å‘¨é•¿ -->
                    <div class="form-group">
                        <label data-i18n="neck_circumference">Neck Circumference</label>
                        <div class="flex gap-2">
                            <input type="number" id="neck-f" min="20" max="60" step="0.1" value="32" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <select id="neck-unit-f" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                                <option value="cm">cm</option>
                                <option value="in">in</option>
                            </select>
                        </div>
                        <div class="measurement-help" data-i18n="neck_help">Measure around the base of the neck.</div>
                    </div>
                    
                    <!-- è…°å›´ -->
                    <div class="form-group">
                        <label data-i18n="waist_circumference">Waist Circumference</label>
                        <div class="flex gap-2">
                            <input type="number" id="waist-f" min="50" max="200" step="0.1" value="70" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <select id="waist-unit-f" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                                <option value="cm">cm</option>
                                <option value="in">in</option>
                            </select>
                        </div>
                        <div class="measurement-help" data-i18n="waist_help_female">Measure at the narrowest point between the ribs and hips.</div>
                    </div>
                    
                    <!-- è‡€å›´ -->
                    <div class="form-group">
                        <label data-i18n="hip_circumference">Hip Circumference</label>
                        <div class="flex gap-2">
                            <input type="number" id="hip" min="60" max="200" step="0.1" value="95" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                            <select id="hip-unit" class="w-32 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                                <option value="cm">cm</option>
                                <option value="in">in</option>
                            </select>
                        </div>
                        <div class="measurement-help" data-i18n="hip_help">Measure at the widest part of the hips/buttocks.</div>
                    </div>
                </div>
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex gap-2">
                <button onclick="BodyFatCalculator.clearForm()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="BodyFatCalculator.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div id="bodyfat-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ç»“æœå±•ç¤º -->
        <div id="bodyfat-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="results">Results</div>
            <div class="result-section">
                <div class="result-value" id="bodyfat-percentage">-</div>
                <div data-i18n="body_fat_percentage">Body Fat Percentage</div>
                
                <div class="category" id="bodyfat-category">-</div>
                
                <div class="fat-range">
                    <div id="fat-marker" style="position: absolute; top: -8px; width: 4px; height: 24px; background: #333;"></div>
                </div>
                
                <div class="range-markers">
                    <span data-i18n="essential">Essential</span>
                    <span data-i18n="athletic">Athletic</span>
                    <span data-i18n="fit">Fit</span>
                    <span data-i18n="average">Average</span>
                    <span data-i18n="obese">Obese</span>
                </div>
                
                <div class="mt-4">
                    <div class="text-sm font-medium mb-2" data-i18n="body_composition">Body Composition Estimate</div>
                    <div class="grid-2 gap-4">
                        <div>
                            <div class="text-sm text-gray-500" data-i18n="fat_mass">Fat Mass</div>
                            <div class="font-medium" id="fat-mass">-</div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500" data-i18n="lean_mass">Lean Body Mass</div>
                            <div class="font-medium" id="lean-mass">-</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="about_method">About the Method:</p>
            <ul class="list-disc list-inside mt-2 space-y-1">
                <li data-i18n="method_desc1">This calculator uses the U.S. Navy body fat calculation formula, which is based on circumference measurements.</li>
                <li data-i18n="method_desc2">Results are estimates only and may vary from other methods such as DEXA scans or hydrostatic weighing.</li>
                <li data-i18n="method_desc3">For best results, take measurements in the morning before eating, using a flexible measuring tape.</li>
            </ul>
        </div>
    </div>

    <script>
        const BodyFatCalculator = {
            // ä½“è„‚ç‡åˆ†ç±»èŒƒå›´ (ç”·æ€§/å¥³æ€§)
            fatCategories: {
                'male': [
                    { max: 6, category: 'essential' },
                    { max: 13, category: 'athletic' },
                    { max: 17, category: 'fit' },
                    { max: 24, category: 'average' },
                    { max: 100, category: 'obese' }
                ],
                'female': [
                    { max: 13, category: 'essential' },
                    { max: 20, category: 'athletic' },
                    { max: 24, category: 'fit' },
                    { max: 31, category: 'average' },
                    { max: 100, category: 'obese' }
                ]
            },
            
            // å¤šè¯­è¨€æ–‡æœ¬
            i18n: {
                'en': {
                    title: 'ğŸ“Š Body Fat Calculator',
                    gender: 'Gender',
                    male: 'Male',
                    female: 'Female',
                    age: 'Age (years)',
                    weight: 'Weight',
                    height: 'Height',
                    neck_circumference: 'Neck Circumference',
                    waist_circumference: 'Waist Circumference',
                    hip_circumference: 'Hip Circumference',
                    neck_help: 'Measure around the base of the neck, just below the Adam\'s apple.',
                    waist_help_male: 'Measure at the navel level.',
                    waist_help_female: 'Measure at the narrowest point between the ribs and hips.',
                    hip_help: 'Measure at the widest part of the hips/buttocks.',
                    clear: 'Clear',
                    calculate: 'Calculate',
                    results: 'Results',
                    body_fat_percentage: 'Body Fat Percentage',
                    essential: 'Essential',
                    athletic: 'Athletic',
                    fit: 'Fit',
                    average: 'Average',
                    obese: 'Obese',
                    body_composition: 'Body Composition Estimate',
                    fat_mass: 'Fat Mass',
                    lean_mass: 'Lean Body Mass',
                    about_method: 'About the Method:',
                    method_desc1: 'This calculator uses the U.S. Navy body fat calculation formula, which is based on circumference measurements.',
                    method_desc2: 'Results are estimates only and may vary from other methods such as DEXA scans or hydrostatic weighing.',
                    method_desc3: 'For best results, take measurements in the morning before eating, using a flexible measuring tape.',
                    err_invalid_input: 'Please enter valid measurements for all fields',
                    percentage: '%'
                },
                'zh-CN': {
                    title: 'ğŸ“Š ä½“è„‚è®¡ç®—å™¨',
                    gender: 'æ€§åˆ«',
                    male: 'ç”·',
                    female: 'å¥³',
                    age: 'å¹´é¾„ï¼ˆå²ï¼‰',
                    weight: 'ä½“é‡',
                    height: 'èº«é«˜',
                    neck_circumference: 'é¢ˆå›´',
                    waist_circumference: 'è…°å›´',
                    hip_circumference: 'è‡€å›´',
                    neck_help: 'å›´ç»•é¢ˆéƒ¨åº•éƒ¨æµ‹é‡ï¼Œå°±åœ¨å–‰ç»“ä¸‹æ–¹ã€‚',
                    waist_help_male: 'åœ¨è‚šè„æ°´å¹³å¤„æµ‹é‡ã€‚',
                    waist_help_female: 'åœ¨è‚‹éª¨å’Œè‡€éƒ¨ä¹‹é—´çš„æœ€çª„å¤„æµ‹é‡ã€‚',
                    hip_help: 'åœ¨è‡€éƒ¨æœ€å®½å¤„æµ‹é‡ã€‚',
                    clear: 'æ¸…é™¤',
                    calculate: 'è®¡ç®—',
                    results: 'ç»“æœ',
                    body_fat_percentage: 'ä½“è„‚ç‡',
                    essential: 'å¿…éœ€è„‚è‚ª',
                    athletic: 'è¿åŠ¨å‘˜æ°´å¹³',
                    fit: 'å¥åº·æ°´å¹³',
                    average: 'å¹³å‡æ°´å¹³',
                    obese: 'è‚¥èƒ–',
                    body_composition: 'èº«ä½“æˆåˆ†ä¼°è®¡',
                    fat_mass: 'è„‚è‚ªé‡é‡',
                    lean_mass: 'ç˜¦ä½“é‡',
                    about_method: 'å…³äºè®¡ç®—æ–¹æ³•ï¼š',
                    method_desc1: 'æœ¬è®¡ç®—å™¨ä½¿ç”¨ç¾å›½æµ·å†›ä½“è„‚è®¡ç®—å…¬å¼ï¼Œè¯¥å…¬å¼åŸºäºå‘¨é•¿æµ‹é‡å€¼ã€‚',
                    method_desc2: 'ç»“æœä»…ä¸ºä¼°è®¡å€¼ï¼Œå¯èƒ½ä¸DEXAæ‰«ææˆ–æ°´ä¸‹ç§°é‡ç­‰å…¶ä»–æ–¹æ³•æœ‰æ‰€ä¸åŒã€‚',
                    method_desc3: 'ä¸ºè·å¾—æœ€ä½³ç»“æœï¼Œè¯·åœ¨æ—©æ™¨è¿›é£Ÿå‰ä½¿ç”¨è½¯å°ºè¿›è¡Œæµ‹é‡ã€‚',
                    err_invalid_input: 'è¯·ä¸ºæ‰€æœ‰å­—æ®µè¾“å…¥æœ‰æ•ˆçš„æµ‹é‡å€¼',
                    percentage: '%'
                },
                'zh-TW': {
                    title: 'ğŸ“Š é«”è„‚è¨ˆç®—å™¨',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·',
                    female: 'å¥³',
                    age: 'å¹´é½¡ï¼ˆæ­²ï¼‰',
                    weight: 'é«”é‡',
                    height: 'èº«é«˜',
                    neck_circumference: 'é ¸åœ',
                    waist_circumference: 'è…°åœ',
                    hip_circumference: 'è‡€åœ',
                    neck_help: 'åœç¹é ¸éƒ¨åº•éƒ¨æ¸¬é‡ï¼Œå°±åœ¨å–‰çµä¸‹æ–¹ã€‚',
                    waist_help_male: 'åœ¨è‚šè‡æ°´å¹³è™•æ¸¬é‡ã€‚',
                    waist_help_female: 'åœ¨è‚‹éª¨å’Œè‡€éƒ¨ä¹‹é–“çš„æœ€çª„è™•æ¸¬é‡ã€‚',
                    hip_help: 'åœ¨è‡€éƒ¨æœ€å¯¬è™•æ¸¬é‡ã€‚',
                    clear: 'æ¸…é™¤',
                    calculate: 'è¨ˆç®—',
                    results: 'çµæœ',
                    body_fat_percentage: 'é«”è„‚ç‡',
                    essential: 'å¿…éœ€è„‚è‚ª',
                    athletic: 'é‹å‹•å“¡æ°´å¹³',
                    fit: 'å¥åº·æ°´å¹³',
                    average: 'å¹³å‡æ°´å¹³',
                    obese: 'è‚¥èƒ–',
                    body_composition: 'èº«é«”æˆåˆ†ä¼°è¨ˆ',
                    fat_mass: 'è„‚è‚ªé‡é‡',
                    lean_mass: 'ç˜¦é«”é‡',
                    about_method: 'é—œæ–¼è¨ˆç®—æ–¹æ³•ï¼š',
                    method_desc1: 'æœ¬è¨ˆç®—å™¨ä½¿ç”¨ç¾åœ‹æµ·è»é«”è„‚è¨ˆç®—å…¬å¼ï¼Œè©²å…¬å¼åŸºæ–¼å‘¨é•·æ¸¬é‡å€¼ã€‚',
                    method_desc2: 'çµæœåƒ…ç‚ºä¼°è¨ˆå€¼ï¼Œå¯èƒ½èˆ‡DEXAæƒææˆ–æ°´ä¸‹ç¨±é‡ç­‰å…¶ä»–æ–¹æ³•æœ‰æ‰€ä¸åŒã€‚',
                    method_desc3: 'ç‚ºç²å¾—æœ€ä½³çµæœï¼Œè«‹åœ¨æ—©æ™¨é€²é£Ÿå‰ä½¿ç”¨è»Ÿå°ºé€²è¡Œæ¸¬é‡ã€‚',
                    err_invalid_input: 'è«‹ç‚ºæ‰€æœ‰æ¬„ä½è¼¸å…¥æœ‰æ•ˆçš„æ¸¬é‡å€¼',
                    percentage: '%'
                },
                'ja': {
                    title: 'ğŸ“Š ä½“è„‚è‚ªç‡è¨ˆç®—ãƒ„ãƒ¼ãƒ«',
                    gender: 'æ€§åˆ¥',
                    male: 'ç”·æ€§',
                    female: 'å¥³æ€§',
                    age: 'å¹´é½¢ï¼ˆæ­³ï¼‰',
                    weight: 'ä½“é‡',
                    height: 'èº«é•·',
                    neck_circumference: 'é¦–å›ã‚Š',
                    waist_circumference: 'è…°å›ã‚Š',
                    hip_circumference: 'å°»å›ã‚Š',
                    neck_help: 'å–‰çµã®ã™ãä¸‹ã€é¦–ã®ä»˜ã‘æ ¹ã®å‘¨ã‚Šã‚’æ¸¬å®šã—ã¾ã™ã€‚',
                    waist_help_male: 'è‡ã®é«˜ã•ã§æ¸¬å®šã—ã¾ã™ã€‚',
                    waist_help_female: 'è‚‹éª¨ã¨éª¨ç›¤ã®é–“ã®æœ€ã‚‚ç´°ã„éƒ¨åˆ†ã‚’æ¸¬å®šã—ã¾ã™ã€‚',
                    hip_help: 'è‡€éƒ¨ã®æœ€ã‚‚åºƒã„éƒ¨åˆ†ã‚’æ¸¬å®šã—ã¾ã™ã€‚',
                    clear: 'ã‚¯ãƒªã‚¢',
                    calculate: 'è¨ˆç®—',
                    results: 'çµæœ',
                    body_fat_percentage: 'ä½“è„‚è‚ªç‡',
                    essential: 'å¿…é ˆè„‚è‚ª',
                    athletic: 'ã‚¢ã‚¹ãƒªãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«',
                    fit: 'å¥åº·ãƒ¬ãƒ™ãƒ«',
                    average: 'å¹³å‡ãƒ¬ãƒ™ãƒ«',
                    obese: 'è‚¥æº€',
                    body_composition: 'ä½“çµ„æˆæ¨å®š',
                    fat_mass: 'è„‚è‚ªé‡',
                    lean_mass: 'é™¤è„‚è‚ªé‡',
                    about_method: 'è¨ˆç®—æ–¹æ³•ã«ã¤ã„ã¦ï¼š',
                    method_desc1: 'ã“ã®è¨ˆç®—æ©Ÿã¯ã€å‘¨å›²é•·æ¸¬å®šã«åŸºã¥ãç±³å›½æµ·è»ã®ä½“è„‚è‚ªè¨ˆç®—å¼ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚',
                    method_desc2: 'çµæœã¯æ¨å®šå€¤ã«ã™ããšã€DEXAã‚¹ã‚­ãƒ£ãƒ³ã‚„æ°´ä¸­ä½“é‡æ¸¬å®šãªã©ã®ä»–ã®æ–¹æ³•ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚',
                    method_desc3: 'æœ€è‰¯ã®çµæœã‚’å¾—ã‚‹ã«ã¯ã€æœé£Ÿå‰ã«è»Ÿå°ºã‚’ä½¿ç”¨ã—ã¦æ¸¬å®šã—ã¦ãã ã•ã„ã€‚',
                    err_invalid_input: 'ã™ã¹ã¦ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æœ‰åŠ¹ãªæ¸¬å®šå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    percentage: '%'
                },
                'ru': {
                    title: 'ğŸ“Š ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ°ÑÑÑ‹',
                    gender: 'ĞŸĞ¾Ğ»',
                    male: 'ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹',
                    female: 'Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹',
                    age: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ (Ğ»ĞµÑ‚)',
                    weight: 'Ğ’ĞµÑ',
                    height: 'Ğ Ğ¾ÑÑ‚',
                    neck_circumference: 'ĞĞ±Ñ…Ğ²Ğ°Ñ‚ ÑˆĞµĞ¸',
                    waist_circumference: 'ĞĞ±Ñ…Ğ²Ğ°Ñ‚ Ñ‚Ğ°Ğ»Ğ¸Ğ¸',
                    hip_circumference: 'ĞĞ±Ñ…Ğ²Ğ°Ñ‚ Ğ±Ñ‘Ğ´ĞµÑ€',
                    neck_help: 'Ğ˜Ğ·Ğ¼ĞµÑ€ÑŒÑ‚Ğµ Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑˆĞµĞ¸, ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾Ğ´ ÑĞ±Ğ»Ğ¾ĞºĞ¾Ğ¼é˜¿è¾¾Ğ¼Ğ°.',
                    waist_help_male: 'Ğ˜Ğ·Ğ¼ĞµÑ€ÑŒÑ‚Ğµ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ¿ÑƒĞ¿ĞºĞ°.',
                    waist_help_female: 'Ğ˜Ğ·Ğ¼ĞµÑ€ÑŒÑ‚Ğµ Ğ² ÑĞ°Ğ¼Ğ¾Ğ¹ ÑƒĞ·ĞºĞ¾Ğ¹ Ñ‚Ğ¾Ñ‡ĞºĞµ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ€ĞµĞ±Ñ€Ğ°Ğ¼Ğ¸ Ğ¸ Ğ±ĞµĞ´Ñ€Ğ°Ğ¼Ğ¸.',
                    hip_help: 'Ğ˜Ğ·Ğ¼ĞµÑ€ÑŒÑ‚Ğµ Ğ² ÑĞ°Ğ¼Ğ¾Ğ¹ ÑˆĞ¸Ñ€Ğ¾ĞºĞ¾Ğ¹ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ±Ñ‘Ğ´ĞµÑ€/ÑĞ³Ğ¾Ğ´Ğ¸Ñ†.',
                    clear: 'ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ',
                    calculate: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ',
                    results: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹',
                    body_fat_percentage: 'ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ¶Ğ¸Ñ€Ğ½Ğ¾Ğ¹ Ğ¼Ğ°ÑÑÑ‹',
                    essential: 'Ğ­ÑÑĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹',
                    athletic: 'ĞÑ‚Ğ»ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹',
                    fit: 'Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ',
                    average: 'Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹',
                    obese: 'ĞĞ¶Ğ¸Ñ€ĞµĞ½Ğ¸Ğµ',
                    body_composition: 'ĞÑ†ĞµĞ½ĞºĞ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ° Ñ‚ĞµĞ»Ğ°',
                    fat_mass: 'Ğ–Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ Ğ¼Ğ°ÑÑĞ°',
                    lean_mass: 'Ğ¡ÑƒÑ…Ğ°Ñ Ğ¼Ğ°ÑÑĞ° Ñ‚ĞµĞ»Ğ°',
                    about_method: 'Ğ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğµ:',
                    method_desc1: 'Ğ­Ñ‚Ğ¾Ñ‚ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñƒ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ¶Ğ¸Ñ€Ğ½Ğ¾Ğ¹ Ğ¼Ğ°ÑÑÑ‹ Ğ¡Ğ¨Ğ, Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½ÑƒÑ Ğ½Ğ° Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¸ Ğ¾ĞºÑ€ÑƒĞ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹.',
                    method_desc2: 'Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ†ĞµĞ½ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ², Ñ‚Ğ°ĞºĞ¸Ñ… ĞºĞ°Ğº ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ”Ğ•ĞšĞ¡Ğ Ğ¸Ğ»Ğ¸ Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ²Ğ·Ğ²ĞµÑˆĞ¸Ğ²Ğ°Ğ½Ğ¸Ğµ.',
                    method_desc3: 'Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¸Ğ·Ğ¼ĞµÑ€ÑĞ¹Ñ‚Ğµ ÑƒÑ‚Ñ€Ğ¾Ğ¼ Ğ´Ğ¾ ĞµĞ´Ñ‹, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ Ğ³Ğ¸Ğ±ĞºÑƒÑ Ğ»ĞµĞ½Ñ‚Ñƒ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹.',
                    err_invalid_input: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ»ĞµĞ¹',
                    percentage: '%'
                }
            },
            
            // åˆ‡æ¢æ€§åˆ«æµ‹é‡é¡¹æ˜¾ç¤º
            toggleMeasurements: function() {
                const gender = document.getElementById('gender').value;
                if (gender === 'male') {
                    document.getElementById('male-measurements').classList.remove('hidden');
                    document.getElementById('female-measurements').classList.add('hidden');
                } else {
                    document.getElementById('male-measurements').classList.add('hidden');
                    document.getElementById('female-measurements').classList.remove('hidden');
                }
            },
            
            // è®¡ç®—ä½“è„‚ç‡
            calculate: function() {
                // è·å–è¾“å…¥å€¼
                const gender = document.getElementById('gender').value;
                const age = parseInt(document.getElementById('age').value);
                let weight = parseFloat(document.getElementById('weight').value);
                let height = parseFloat(document.getElementById('height').value);
                const weightUnit = document.getElementById('weight-unit').value;
                const heightUnit = document.getElementById('height-unit').value;
                
                const errorEl = document.getElementById('bodyfat-error');
                const resultsEl = document.getElementById('bodyfat-results');
                
                // éªŒè¯åŸºæœ¬è¾“å…¥
                if (isNaN(age) || isNaN(weight) || isNaN(height) || age < 18 || weight <= 0 || height <= 0) {
                    errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                    errorEl.classList.remove('hidden');
                    return;
                }
                
                // è·å–æµ‹é‡å€¼å¹¶è½¬æ¢ä¸ºè‹±å¯¸ï¼ˆæµ·å†›å…¬å¼è¦æ±‚ï¼‰
                let neck, waist, hip;
                if (gender === 'male') {
                    neck = this.convertToInches(parseFloat(document.getElementById('neck').value), document.getElementById('neck-unit').value);
                    waist = this.convertToInches(parseFloat(document.getElementById('waist').value), document.getElementById('waist-unit').value);
                    
                    if (isNaN(neck) || isNaN(waist) || neck <= 0 || waist <= 0) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                        errorEl.classList.remove('hidden');
                        return;
                    }
                } else {
                    neck = this.convertToInches(parseFloat(document.getElementById('neck-f').value), document.getElementById('neck-unit-f').value);
                    waist = this.convertToInches(parseFloat(document.getElementById('waist-f').value), document.getElementById('waist-unit-f').value);
                    hip = this.convertToInches(parseFloat(document.getElementById('hip').value), document.getElementById('hip-unit').value);
                    
                    if (isNaN(neck) || isNaN(waist) || isNaN(hip) || neck <= 0 || waist <= 0 || hip <= 0) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_input;
                        errorEl.classList.remove('hidden');
                        return;
                    }
                }
                
                // è½¬æ¢èº«é«˜ä¸ºè‹±å¯¸
                if (heightUnit === 'cm') {
                    height = height / 2.54; // å˜ç±³è½¬è‹±å¯¸
                } else {
                    height = height * 12; // è‹±å°ºè½¬è‹±å¯¸
                }
                
                // è½¬æ¢ä½“é‡ä¸ºç£…
                if (weightUnit === 'kg') {
                    weight = weight * 2.20462; // åƒå…‹è½¬ç£…
                }
                
                // æ¸…é™¤é”™è¯¯
                errorEl.classList.add('hidden');
                
                // ä½¿ç”¨æµ·å†›å…¬å¼è®¡ç®—ä½“è„‚ç‡
                let bodyFatPercentage;
                if (gender === 'male') {
                    // ç”·æ€§å…¬å¼
                    const formula = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(height)) - 450;
                    bodyFatPercentage = Math.max(0, Math.min(100, formula));
                } else {
                    // å¥³æ€§å…¬å¼
                    const formula = 495 / (1.29579 - 0.35004 * Math.log10(waist + hip - neck) + 0.22100 * Math.log10(height)) - 450;
                    bodyFatPercentage = Math.max(0, Math.min(100, formula));
                }
                
                // ç¡®å®šä½“è„‚åˆ†ç±»
                let categoryKey = '';
                const categories = this.fatCategories[gender];
                for (let i = 0; i < categories.length; i++) {
                    if (bodyFatPercentage <= categories[i].max) {
                        categoryKey = categories[i].category;
                        break;
                    }
                }
                
                // è®¡ç®—è„‚è‚ªé‡é‡å’Œç˜¦ä½“é‡
                const fatMass = (weight * (bodyFatPercentage / 100)).toFixed(1);
                const leanMass = (weight - fatMass).toFixed(1);
                const weightDisplayUnit = weightUnit === 'kg' ? 'kg' : 'lb';
                
                // æ›´æ–°ç»“æœæ˜¾ç¤º
                document.getElementById('bodyfat-percentage').textContent = `${bodyFatPercentage.toFixed(1)}${this.i18n[this.getCurrentLang()].percentage}`;
                document.getElementById('bodyfat-category').textContent = this.i18n[this.getCurrentLang()][categoryKey];
                document.getElementById('bodyfat-category').style.backgroundColor = this.getCategoryColor(categoryKey);
                
                document.getElementById('fat-mass').textContent = `${fatMass} ${weightDisplayUnit}`;
                document.getElementById('lean-mass').textContent = `${leanMass} ${weightDisplayUnit}`;
                
                // æ›´æ–°ä½“è„‚ç‡æ ‡è®°ä½ç½®
                const markerPosition = Math.min(100, Math.max(0, bodyFatPercentage)) / 100 * 100;
                document.getElementById('fat-marker').style.left = `${markerPosition}%`;
                
                // æ˜¾ç¤ºç»“æœ
                resultsEl.classList.remove('hidden');
            },
            
            // è½¬æ¢ä¸ºè‹±å¯¸
            convertToInches: function(value, unit) {
                if (unit === 'cm') {
                    return value / 2.54; // å˜ç±³è½¬è‹±å¯¸
                }
                return value; // å·²ç»æ˜¯è‹±å¯¸
            },
            
            // è·å–åˆ†ç±»é¢œè‰²
            getCategoryColor: function(category) {
                switch(category) {
                    case 'essential': return '#4ade80'; // ç»¿è‰²
                    case 'athletic': return '#86efac';   // æµ…ç»¿è‰²
                    case 'fit': return '#facc15';        // é»„è‰²
                    case 'average': return '#fbbf24';    // æ©™è‰²
                    case 'obese': return '#f87171';      // çº¢è‰²
                    default: return '#e5e7eb';
                }
            },
            
            // æ¸…é™¤è¡¨å•
            clearForm: function() {
                document.getElementById('age').value = '30';
                document.getElementById('weight').value = '70';
                document.getElementById('height').value = '175';
                document.getElementById('gender').value = 'male';
                document.getElementById('neck').value = '38';
                document.getElementById('waist').value = '85';
                document.getElementById('neck-f').value = '32';
                document.getElementById('waist-f').value = '70';
                document.getElementById('hip').value = '95';
                
                this.toggleMeasurements();
                document.getElementById('bodyfat-results').classList.add('hidden');
                document.getElementById('bodyfat-error').classList.add('hidden');
            },
            
            // åˆ‡æ¢è¯­è¨€
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // å¦‚æœæœ‰ç»“æœï¼Œé‡æ–°è®¡ç®—ä»¥æ›´æ–°è¯­è¨€
                if (!document.getElementById('bodyfat-results').classList.contains('hidden')) {
                    this.calculate();
                }
            },
            
            // è·å–å½“å‰è¯­è¨€
            getCurrentLang: function() {
                return document.getElementById('bodyfat-lang').value;
            }
        };
    </script>

    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>
</html>