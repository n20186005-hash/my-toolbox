<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMR Calculator</title>
    
    <!-- 基础信息 -->
    <meta name="tool-id" content="bmr_calc">
    <meta name="category" content="health">
    <meta name="icon" content="❤️">
    
    <!-- 默认英文内容 -->
    <meta name="title" content="BMR Calculator">
    <meta name="description" content="Calculate your Basal Metabolic Rate (BMR) using the Mifflin-St Jeor equation to estimate the number of calories your body burns at rest.">
    
    <!-- 多语言配置 -->
    <meta name="lang-title-zh-CN" content="基础代谢率计算器">
    <meta name="lang-description-zh-CN" content="使用Mifflin-St Jeor公式计算您的基础代谢率(BMR)，估算身体在休息时燃烧的卡路里数量。">
    
    <meta name="lang-title-zh-TW" content="基礎代謝率計算器">
    <meta name="lang-description-zh-TW" content="使用Mifflin-St Jeor公式計算您的基礎代謝率(BMR)，估算身體在休息時燃燒的卡路里數量。">
    
    <meta name="lang-title-ja" content="基礎代謝率計算ツール">
    <meta name="lang-description-ja" content="Mifflin-St Jeor方程式を使用して基礎代謝率（BMR）を計算し、休息時に体内で消費されるカロリーを推定します。">
    
    <meta name="lang-title-ru" content="Калькулятор базального метаболизма">
    <meta name="lang-description-ru" content="Вычислите свою базальную метаболическую скорость (БМР) с использованием уравнения Миффлина-Ст Джоера, чтобы оценить количество калорий, сжигаемых вашим телом в состоянии покоя.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-container { word-break: break-all; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-card { background: #e8f4f8; padding: 15px; border-radius: 8px; }
        .stat-label { font-size: 0.85rem; color: #4b5563; margin-bottom: 5px; }
        .stat-value { font-size: 1.1rem; font-weight: bold; color: #1e40af; }
        .form-group { margin-bottom: 15px; }
        .radio-group { display: flex; flex-wrap: wrap; gap: 15px; margin: 10px 0; }
        .radio-item { display: flex; align-items: center; gap: 5px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/bmr-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="bmr_calc" 
         data-category="health" 
         data-title="BMR Calculator" 
         data-icon="❤️">
        
        <!-- 语言选择器 -->
        <div class="absolute top-4 right-4">
            <select id="bmr-lang" onchange="BMRCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">简体中文</option>
                <option value="zh-TW">繁體中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">❤️ BMR Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- 性别选择 -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="gender">Gender</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" name="gender" id="male" value="male" checked>
                        <label for="male" data-i18n="male">Male</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" name="gender" id="female" value="female">
                        <label for="female" data-i18n="female">Female</label>
                    </div>
                </div>
            </div>
            
            <!-- 年龄输入 -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="age">Age (years)</label>
                <input type="number" id="age" min="10" max="120" value="30" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- 身高输入 -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="height">Height</label>
                <div class="flex gap-2">
                    <input type="number" id="height" min="50" max="250" value="175" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <select id="height-unit" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="cm">cm</option>
                        <option value="in">in</option>
                    </select>
                </div>
            </div>
            
            <!-- 体重输入 -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="weight">Weight</label>
                <div class="flex gap-2">
                    <input type="number" id="weight" min="10" max="300" value="70" step="0.1" class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <select id="weight-unit" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="kg">kg</option>
                        <option value="lb">lb</option>
                    </select>
                </div>
            </div>
            
            <!-- 公式选择 -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="formula">Calculation Formula</label>
                <select id="formula" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="mifflin" selected data-i18n="mifflin">Mifflin-St Jeor Equation (Most Accurate)</option>
                    <option value="harris" data-i18n="harris">Harris-Benedict Equation</option>
                    <option value="cunningham" data-i18n="cunningham">Cunningham Equation (Uses Body Fat)</option>
                </select>
            </div>
            
            <!-- 体脂率 (仅Cunningham公式需要) -->
            <div class="form-group" id="body-fat-group" style="display: none;">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="body_fat">Body Fat Percentage (%)</label>
                <input type="number" id="body-fat" min="3" max="70" value="20" step="0.1" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- 操作按钮 -->
            <div class="flex gap-2">
                <button onclick="BMRCalc.loadSampleData()" class="flex-1 bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition" data-i18n="load_sample">Load Sample Data</button>
                <button onclick="BMRCalc.clearData()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear_data">Clear Data</button>
                <button onclick="BMRCalc.calc()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate BMR</button>
            </div>
        </div>

        <!-- 错误提示 -->
        <div id="bmr-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- 结果展示 -->
        <div id="bmr-results" class="hidden">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label" data-i18n="bmr_result">Basal Metabolic Rate (BMR)</div>
                    <div class="stat-value" id="result-bmr">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label" data-i18n="daily_calories">Estimated Daily Calories</div>
                    <div class="stat-value" id="result-daily">--</div>
                </div>
            </div>
            
            <!-- 活动水平指导 -->
            <div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-100">
                <div class="text-sm text-gray-500 mb-2" data-i18n="activity_levels">Activity Levels Multipliers</div>
                <ul class="text-sm space-y-1">
                    <li data-i18n="activity_sedentary"><strong>Sedentary:</strong> Little to no exercise - BMR × 1.2</li>
                    <li data-i18n="activity_light"><strong>Lightly Active:</strong> Light exercise/sports 1-3 days/week - BMR × 1.375</li>
                    <li data-i18n="activity_mod"><strong>Moderately Active:</strong> Moderate exercise/sports 3-5 days/week - BMR × 1.55</li>
                    <li data-i18n="activity_very"><strong>Very Active:</strong> Hard exercise/sports 6-7 days/week - BMR × 1.725</li>
                    <li data-i18n="activity_extra"><strong>Extra Active:</strong> Very hard exercise & physical job - BMR × 1.9</li>
                </ul>
            </div>
        </div>

        <!-- 说明信息 -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" data-i18n="notes_list">
                <li>BMR is the number of calories your body burns at rest to maintain basic bodily functions</li>
                <li>Mifflin-St Jeor equation is considered the most accurate for non-athletes</li>
                <li>Results are estimates and may vary based on individual factors</li>
            </ul>
        </div>
    </div>

    <script>
        const BMRCalc = {
            i18n: {
                'en': {
                    title: '❤️ BMR Calculator',
                    gender: 'Gender',
                    male: 'Male',
                    female: 'Female',
                    age: 'Age (years)',
                    height: 'Height',
                    weight: 'Weight',
                    formula: 'Calculation Formula',
                    mifflin: 'Mifflin-St Jeor Equation (Most Accurate)',
                    harris: 'Harris-Benedict Equation',
                    cunningham: 'Cunningham Equation (Uses Body Fat)',
                    body_fat: 'Body Fat Percentage (%)',
                    load_sample: 'Load Sample Data',
                    clear_data: 'Clear Data',
                    calculate: 'Calculate BMR',
                    bmr_result: 'Basal Metabolic Rate (BMR)',
                    daily_calories: 'Estimated Daily Calories',
                    activity_levels: 'Activity Levels Multipliers',
                    activity_sedentary: '<strong>Sedentary:</strong> Little to no exercise - BMR × 1.2',
                    activity_light: '<strong>Lightly Active:</strong> Light exercise/sports 1-3 days/week - BMR × 1.375',
                    activity_mod: '<strong>Moderately Active:</strong> Moderate exercise/sports 3-5 days/week - BMR × 1.55',
                    activity_very: '<strong>Very Active:</strong> Hard exercise/sports 6-7 days/week - BMR × 1.725',
                    activity_extra: '<strong>Extra Active:</strong> Very hard exercise & physical job - BMR × 1.9',
                    notes: 'Notes:',
                    notes_list: `
                        <li>BMR is the number of calories your body burns at rest to maintain basic bodily functions</li>
                        <li>Mifflin-St Jeor equation is considered the most accurate for non-athletes</li>
                        <li>Results are estimates and may vary based on individual factors</li>
                    `,
                    err_invalid_input: 'Please enter valid values for all fields',
                    calories: 'calories/day'
                },
                'zh-CN': {
                    title: '❤️ 基础代谢率计算器',
                    gender: '性别',
                    male: '男',
                    female: '女',
                    age: '年龄 (岁)',
                    height: '身高',
                    weight: '体重',
                    formula: '计算公式',
                    mifflin: 'Mifflin-St Jeor公式 (最准确)',
                    harris: 'Harris-Benedict公式',
                    cunningham: 'Cunningham公式 (需体脂率)',
                    body_fat: '体脂率 (%)',
                    load_sample: '加载示例数据',
                    clear_data: '清除数据',
                    calculate: '计算基础代谢率',
                    bmr_result: '基础代谢率 (BMR)',
                    daily_calories: '估计每日卡路里需求',
                    activity_levels: '活动水平乘数',
                    activity_sedentary: '<strong>久坐不动：</strong> 很少或不运动 - BMR × 1.2',
                    activity_light: '<strong>轻度活动：</strong> 轻度运动/每周1-3天 - BMR × 1.375',
                    activity_mod: '<strong>中度活动：</strong> 中度运动/每周3-5天 - BMR × 1.55',
                    activity_very: '<strong>高度活动：</strong> 高强度运动/每周6-7天 - BMR × 1.725',
                    activity_extra: '<strong>极高活动：</strong> 极高强度运动及体力工作 - BMR × 1.9',
                    notes: '说明：',
                    notes_list: `
                        <li>基础代谢率是身体在休息时维持基本功能所消耗的卡路里数量</li>
                        <li>Mifflin-St Jeor公式被认为对非运动员最准确</li>
                        <li>结果为估计值，可能因个体差异而有所不同</li>
                    `,
                    err_invalid_input: '请为所有字段输入有效值',
                    calories: '卡路里/天'
                },
                'zh-TW': {
                    title: '❤️ 基礎代謝率計算器',
                    gender: '性別',
                    male: '男',
                    female: '女',
                    age: '年齡 (歲)',
                    height: '身高',
                    weight: '體重',
                    formula: '計算公式',
                    mifflin: 'Mifflin-St Jeor公式 (最準確)',
                    harris: 'Harris-Benedict公式',
                    cunningham: 'Cunningham公式 (需體脂率)',
                    body_fat: '體脂率 (%)',
                    load_sample: '加載示例數據',
                    clear_data: '清除數據',
                    calculate: '計算基礎代謝率',
                    bmr_result: '基礎代謝率 (BMR)',
                    daily_calories: '估計每日卡路里需求',
                    activity_levels: '活動水平乘數',
                    activity_sedentary: '<strong>久坐不動：</strong> 很少或不運動 - BMR × 1.2',
                    activity_light: '<strong>輕度活動：</strong> 輕度運動/每周1-3天 - BMR × 1.375',
                    activity_mod: '<strong>中度活動：</strong> 中度運動/每周3-5天 - BMR × 1.55',
                    activity_very: '<strong>高度活動：</strong> 高強度運動/每周6-7天 - BMR × 1.725',
                    activity_extra: '<strong>極高活動：</strong> 極高強度運動及體力工作 - BMR × 1.9',
                    notes: '說明：',
                    notes_list: `
                        <li>基礎代謝率是身體在休息時維持基本功能所消耗的卡路里數量</li>
                        <li>Mifflin-St Jeor公式被認為對非運動員最準確</li>
                        <li>結果為估計值，可能因個體差異而有所不同</li>
                    `,
                    err_invalid_input: '請為所有欄位輸入有效值',
                    calories: '卡路里/天'
                },
                'ja': {
                    title: '❤️ 基礎代謝率計算ツール',
                    gender: '性別',
                    male: '男性',
                    female: '女性',
                    age: '年齢 (歳)',
                    height: '身長',
                    weight: '体重',
                    formula: '計算式',
                    mifflin: 'ミフリン＝スト・ジョール式（最も正確）',
                    harris: 'ハリス＝ベネディクト式',
                    cunningham: 'カニンガム式（体脂肪率を使用）',
                    body_fat: '体脂肪率（％）',
                    load_sample: 'サンプルデータを読み込む',
                    clear_data: 'データをクリア',
                    calculate: '基礎代謝率を計算',
                    bmr_result: '基礎代謝率（BMR）',
                    daily_calories: '推定1日カロリー必要量',
                    activity_levels: '活動レベル乗数',
                    activity_sedentary: '<strong>座位型：</strong> ほとんど運動しない - BMR × 1.2',
                    activity_light: '<strong>軽度活動：</strong> 軽い運動/週1-3日 - BMR × 1.375',
                    activity_mod: '<strong>中度活動：</strong> 適度な運動/週3-5日 - BMR × 1.55',
                    activity_very: '<strong>高度活動：</strong> 激しい運動/週6-7日 - BMR × 1.725',
                    activity_extra: '<strong>極度活動：</strong> 非常に激しい運動と体力作業 - BMR × 1.9',
                    notes: '注釈：',
                    notes_list: `
                        <li>基礎代謝率は、安静時に基本的な身体機能を維持するために消費されるカロリー数です</li>
                        <li>ミフリン＝スト・ジョール式は、非運動選手に最も正確とされています</li>
                        <li>結果は推定値であり、個々の要因によって異なる場合があります</li>
                    `,
                    err_invalid_input: 'すべてのフィールドに有効な値を入力してください',
                    calories: 'カロリー/日'
                },
                'ru': {
                    title: '❤️ Калькулятор БМР',
                    gender: 'Пол',
                    male: 'Мужской',
                    female: 'Женский',
                    age: 'Возраст (лет)',
                    height: 'Рост',
                    weight: 'Вес',
                    formula: 'Формула расчета',
                    mifflin: 'Формула Миффлина-Ст Джоера (самая точная)',
                    harris: 'Формула Харриса-Бенедикта',
                    cunningham: 'Формула Каннингхэма (использует процент жира)',
                    body_fat: 'Процент жира (%)',
                    load_sample: 'Загрузить пример данных',
                    clear_data: 'Очистить данные',
                    calculate: 'Рассчитать БМР',
                    bmr_result: 'Базальная метаболическая скорость (БМР)',
                    daily_calories: 'Оценка суточных калорий',
                    activity_levels: 'Множители уровня активности',
                    activity_sedentary: '<strong>Седентарный:</strong> Малое или отсутствие физической активности - БМР × 1.2',
                    activity_light: '<strong>Легко активный:</strong> Легкие упражнения/спорт 1-3 дня в неделю - БМР × 1.375',
                    activity_mod: '<strong>Умеренно активный:</strong> Умеренные упражнения/спорт 3-5 дней в неделю - БМР × 1.55',
                    activity_very: '<strong>Очень активный:</strong> Интенсивные упражнения/спорт 6-7 дней в неделю - БМР × 1.725',
                    activity_extra: '<strong>Экстра активный:</strong> Очень интенсивные упражнения и физическая работа - БМР × 1.9',
                    notes: 'Примечания:',
                    notes_list: `
                        <li>БМР — это количество калорий, сжигаемых телом в состоянии покоя для поддержания основных физиологических функций</li>
                        <li>Формула Миффлина-Ст Джоера считается наиболее точной для неспортсменов</li>
                        <li>Результаты являются оценкой и могут отличаться в зависимости от индивидуальных факторов</li>
                    `,
                    err_invalid_input: 'Пожалуйста, введите действительные значения для всех полей',
                    calories: 'калорий/день'
                }
            },
            
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // 监听公式选择变化，显示/隐藏体脂率输入
                document.getElementById('formula').addEventListener('change', function() {
                    const bodyFatGroup = document.getElementById('body-fat-group');
                    bodyFatGroup.style.display = this.value === 'cunningham' ? 'block' : 'none';
                });
                
                // 初始化语言
                this.changeLang();
            },
            
            changeLang: function() {
                const lang = document.getElementById('bmr-lang').value;
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang] && this.i18n[lang][key]) {
                        el.innerHTML = this.i18n[lang][key];
                    }
                });
            },
            
            loadSampleData: function() {
                document.getElementById('age').value = 35;
                document.getElementById('height').value = 175;
                document.getElementById('height-unit').value = 'cm';
                document.getElementById('weight').value = 70;
                document.getElementById('weight-unit').value = 'kg';
                document.getElementById('formula').value = 'mifflin';
                document.getElementById('body-fat').value = 20;
                document.getElementById('male').checked = true;
                
                // 隐藏体脂率输入
                document.getElementById('body-fat-group').style.display = 'none';
            },
            
            clearData: function() {
                document.getElementById('age').value = 30;
                document.getElementById('height').value = 175;
                document.getElementById('weight').value = 70;
                document.getElementById('male').checked = true;
                document.getElementById('formula').value = 'mifflin';
                document.getElementById('body-fat').value = 20;
                document.getElementById('bmr-error').classList.add('hidden');
                document.getElementById('bmr-results').classList.add('hidden');
                document.getElementById('body-fat-group').style.display = 'none';
            },
            
            calc: function() {
                try {
                    // 获取输入值
                    const gender = document.querySelector('input[name="gender"]:checked').value;
                    const age = parseFloat(document.getElementById('age').value);
                    let height = parseFloat(document.getElementById('height').value);
                    let weight = parseFloat(document.getElementById('weight').value);
                    const heightUnit = document.getElementById('height-unit').value;
                    const weightUnit = document.getElementById('weight-unit').value;
                    const formula = document.getElementById('formula').value;
                    const bodyFat = formula === 'cunningham' ? parseFloat(document.getElementById('body-fat').value) : 0;
                    
                    // 验证输入
                    if (isNaN(age) || isNaN(height) || isNaN(weight) || (formula === 'cunningham' && isNaN(bodyFat))) {
                        throw new Error('err_invalid_input');
                    }
                    
                    // 单位转换 (统一为cm和kg)
                    if (heightUnit === 'in') height *= 2.54; // 英寸转厘米
                    if (weightUnit === 'lb') weight /= 2.205; // 磅转千克
                    
                    let bmr;
                    const lang = document.getElementById('bmr-lang').value;
                    const caloriesText = this.i18n[lang]['calories'];
                    
                    // 根据选择的公式计算BMR
                    switch(formula) {
                        case 'mifflin':
                            // Mifflin-St Jeor公式
                            bmr = gender === 'male' 
                                ? (10 * weight) + (6.25 * height) - (5 * age) + 5
                                : (10 * weight) + (6.25 * height) - (5 * age) - 161;
                            break;
                            
                        case 'harris':
                            // Harris-Benedict公式
                            bmr = gender === 'male'
                                ? 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age)
                                : 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
                            break;
                            
                        case 'cunningham':
                            // Cunningham公式
                            bmr = 500 + (22 * (weight * (1 - bodyFat / 100)));
                            break;
                    }
                    
                    // 计算每日卡路里估计值 (取中度活动水平)
                    const dailyCalories = bmr * 1.55;
                    
                    // 显示结果
                    document.getElementById('result-bmr').textContent = Math.round(bmr) + ' ' + caloriesText;
                    document.getElementById('result-daily').textContent = Math.round(dailyCalories) + ' ' + caloriesText;
                    document.getElementById('bmr-results').classList.remove('hidden');
                    document.getElementById('bmr-error').classList.add('hidden');
                    
                } catch (e) {
                    // 显示错误
                    const lang = document.getElementById('bmr-lang').value;
                    const errorEl = document.getElementById('bmr-error');
                    errorEl.textContent = this.i18n[lang][e.message] || e.message;
                    errorEl.classList.remove('hidden');
                    document.getElementById('bmr-results').classList.add('hidden');
                }
            }
        };
        
        // 初始化计算器
        document.addEventListener('DOMContentLoaded', function() {
            BMRCalc.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="/scripts/related.js"></script>
    
</body>
</html>