<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protein Calculator</title>
    
    <!-- åŸºç¡€ä¿¡æ¯ -->
    <meta name="tool-id" content="protein_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="ğŸ¥©">
    
    <!-- é»˜è®¤è‹±æ–‡å†…å®¹ -->
    <meta name="title" content="Protein Calculator">
    <meta name="description" content="Calculate your recommended daily protein intake.">
    
    <!-- å¤šè¯­è¨€é…ç½® -->
    <meta name="lang-title-zh-CN" content="è›‹ç™½è´¨è®¡ç®—å™¨">
    <meta name="lang-description-zh-CN" content="è®¡ç®—æ‚¨æ¨èçš„æ¯æ—¥è›‹ç™½è´¨æ‘„å…¥é‡ã€‚">
    
    <meta name="lang-title-zh-TW" content="è›‹ç™½è³ªè¨ˆç®—å™¨">
    <meta name="lang-description-zh-TW" content="è¨ˆç®—æ‚¨æ¨è–¦çš„æ¯æ—¥è›‹ç™½è³ªæ”å–é‡ã€‚">
    
    <meta name="lang-title-ja" content="ã‚¿ãƒ³ãƒ‘ã‚¯è³ªè¨ˆç®—æ©Ÿ">
    <meta name="lang-description-ja" content="æ¨å¥¨ã•ã‚Œã‚‹1æ—¥ã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚">
    
    <meta name="lang-title-ru" content="ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ±ĞµĞ»ĞºĞ°">
    <meta name="lang-description-ru" content="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ¾Ğµ ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ Ğ±ĞµĞ»ĞºĞ°.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; position: relative; }
        .result-box { background-color: #f8fafc; border: 1px solid #e2e8f0; padding: 15px; border-radius: 5px; margin-top: 10px; }
        .range-info { margin-top: 6px; font-size: 12px; color: #64748b; }
        .warning { background-color: #fee2e2; border: 1px solid #ef4444; color: #b91c1c; padding: 10px; border-radius: 5px; margin-top: 10px; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/protein-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="protein_calculator" 
         data-category="health" 
         data-title="Protein Calculator" 
         data-icon="ğŸ¥©">
        
        <!-- è¯­è¨€é€‰æ‹©å™¨ -->
        <div class="absolute top-4 right-4">
            <select id="protein-lang" onchange="ProteinCalc.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">ğŸ¥© Protein Calculator</h2>
        
        <div class="grid grid-cols-1 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="unit_system">Unit System</label>
                <div class="flex gap-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="units" value="metric" checked class="text-red-600 focus:ring-red-500">
                        <span data-i18n="metric">Metric (kg)</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="units" value="imperial" class="text-red-600 focus:ring-red-500">
                        <span data-i18n="imperial">Imperial (lbs)</span>
                    </label>
                </div>
            </div>
            
            <div id="weight-metric">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="weight_kg">Weight (kg)</label>
                <input type="number" id="weight-kg" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none" placeholder="e.g. 70" min="30" max="250" value="70">
            </div>
            <div id="weight-imperial" style="display: none;">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="weight_lbs">Weight (lbs)</label>
                <input type="number" id="weight-lbs" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none" placeholder="e.g. 154" min="66" max="550" value="154">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="activity_level">Activity Level</label>
                <select id="activity-level" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none">
                    <option value="sedentary" data-i18n="sedentary">Sedentary (little exercise)</option>
                    <option value="lightly" data-i18n="lightly">Lightly Active (light exercise)</option>
                    <option value="moderately" data-i18n="moderately" selected>Moderately Active (moderate exercise)</option>
                    <option value="very" data-i18n="very">Very Active (hard exercise)</option>
                    <option value="athlete" data-i18n="athlete">Athlete (intense training)</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="goal">Goal</label>
                <select id="goal" class="w-full p-2 border rounded focus:ring-2 focus:ring-red-500 outline-none">
                    <option value="lose" data-i18n="lose">Lose Weight</option>
                    <option value="maintain" data-i18n="maintain" selected>Maintain Weight</option>
                    <option value="gain" data-i18n="gain">Gain Muscle</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="protein_factor">Protein Intensity Factor</label>
                <input type="range" id="protein-factor" min="0.8" max="2.2" step="0.1" value="1.6" 
                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-500">
                <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>0.8g/kg</span>
                    <span id="protein-factor-display">1.6g/kg</span>
                    <span>2.2g/kg</span>
                </div>
                <div class="range-info" data-i18n="factor_info">Lower for sedentary, higher for athletes and those looking to build muscle.</div>
            </div>
        </div>

        <button onclick="ProteinCalc.calc()" class="w-full bg-red-600 text-white py-2 rounded font-bold hover:bg-red-700 transition mb-6" data-i18n="btn_calc">Calculate Protein Intake</button>

        <div class="bg-red-50 p-6 rounded-lg border border-red-100">
            <div class="text-sm text-gray-500 mb-2" data-i18n="daily_protein">Daily Protein Requirement</div>
            <div id="protein-result" class="text-3xl font-bold text-red-800">--</div>
            
            <div class="grid grid-cols-2 gap-4 mt-6">
                <div class="result-box text-center">
                    <div class="text-sm text-gray-500 mb-1" data-i18n="protein_per_kg">Protein per kg of body weight</div>
                    <div id="protein-per-kg" class="text-xl font-bold text-red-800">--</div>
                </div>
                <div class="result-box text-center">
                    <div class="text-sm text-gray-500 mb-1" data-i18n="calories_from_protein">Calories from Protein</div>
                    <div id="protein-calories" class="text-xl font-bold text-red-800">--</div>
                </div>
            </div>
            
            <div class="mt-6">
                <div class="text-sm font-medium text-gray-700 mb-2" data-i18n="food_examples">Example Food Sources:</div>
                <ul class="list-disc pl-5 text-sm text-gray-600" data-i18n="food_list">
                    <li>100g chicken breast: ~30g protein</li>
                    <li>1 cup Greek yogurt: ~23g protein</li>
                    <li>1 egg: ~6g protein</li>
                    <li>1 scoop protein powder: ~25g protein</li>
                </ul>
            </div>
            
            <div class="warning text-sm mt-4" data-i18n="disclaimer">Disclaimer: This is a general guide. Consult a healthcare provider for personalized advice.</div>
        </div>
    </div>

    <script>
        const ProteinCalc = {
            i18n: {
                'en': {
                    title: 'ğŸ¥© Protein Calculator',
                    unit_system: 'Unit System',
                    metric: 'Metric (kg)',
                    imperial: 'Imperial (lbs)',
                    weight_kg: 'Weight (kg)',
                    weight_lbs: 'Weight (lbs)',
                    activity_level: 'Activity Level',
                    sedentary: 'Sedentary (little exercise)',
                    lightly: 'Lightly Active (light exercise)',
                    moderately: 'Moderately Active (moderate exercise)',
                    very: 'Very Active (hard exercise)',
                    athlete: 'Athlete (intense training)',
                    goal: 'Goal',
                    lose: 'Lose Weight',
                    maintain: 'Maintain Weight',
                    gain: 'Gain Muscle',
                    protein_factor: 'Protein Intensity Factor',
                    factor_info: 'Lower for sedentary, higher for athletes and those looking to build muscle.',
                    btn_calc: 'Calculate Protein Intake',
                    daily_protein: 'Daily Protein Requirement',
                    protein_per_kg: 'Protein per kg of body weight',
                    calories_from_protein: 'Calories from Protein',
                    food_examples: 'Example Food Sources:',
                    food_list: `
                        <li>100g chicken breast: ~30g protein</li>
                        <li>1 cup Greek yogurt: ~23g protein</li>
                        <li>1 egg: ~6g protein</li>
                        <li>1 scoop protein powder: ~25g protein</li>
                    `,
                    disclaimer: 'Disclaimer: This is a general guide. Consult a healthcare provider for personalized advice.',
                    err_invalid: 'Please enter valid numbers',
                    grams: 'grams',
                    grams_per_kg: 'g/kg',
                    calories_unit: 'calories'
                },
                'zh-CN': {
                    title: 'ğŸ¥© è›‹ç™½è´¨è®¡ç®—å™¨',
                    unit_system: 'å•ä½ç³»ç»Ÿ',
                    metric: 'å…¬åˆ¶ï¼ˆåƒå…‹ï¼‰',
                    imperial: 'è‹±åˆ¶ï¼ˆç£…ï¼‰',
                    weight_kg: 'ä½“é‡ï¼ˆåƒå…‹ï¼‰',
                    weight_lbs: 'ä½“é‡ï¼ˆç£…ï¼‰',
                    activity_level: 'æ´»åŠ¨æ°´å¹³',
                    sedentary: 'ä¹…åï¼ˆå¾ˆå°‘è¿åŠ¨ï¼‰',
                    lightly: 'è½»åº¦æ´»åŠ¨ï¼ˆå°‘é‡è¿åŠ¨ï¼‰',
                    moderately: 'ä¸­åº¦æ´»åŠ¨ï¼ˆé€‚åº¦è¿åŠ¨ï¼‰',
                    very: 'é«˜åº¦æ´»åŠ¨ï¼ˆå¤§é‡è¿åŠ¨ï¼‰',
                    athlete: 'è¿åŠ¨å‘˜ï¼ˆé«˜å¼ºåº¦è®­ç»ƒï¼‰',
                    goal: 'ç›®æ ‡',
                    lose: 'å‡é‡',
                    maintain: 'ç»´æŒä½“é‡',
                    gain: 'å¢è‚Œ',
                    protein_factor: 'è›‹ç™½è´¨æ‘„å…¥ç³»æ•°',
                    factor_info: 'ä¹…åè€…è¾ƒä½ï¼Œè¿åŠ¨å‘˜å’Œå¢è‚Œè€…è¾ƒé«˜ã€‚',
                    btn_calc: 'è®¡ç®—è›‹ç™½è´¨æ‘„å…¥é‡',
                    daily_protein: 'æ¯æ—¥è›‹ç™½è´¨éœ€æ±‚é‡',
                    protein_per_kg: 'æ¯å…¬æ–¤ä½“é‡è›‹ç™½è´¨å«é‡',
                    calories_from_protein: 'æ¥è‡ªè›‹ç™½è´¨çš„å¡è·¯é‡Œ',
                    food_examples: 'é£Ÿç‰©æ¥æºç¤ºä¾‹ï¼š',
                    food_list: `
                        <li>100å…‹é¸¡èƒ¸è‚‰ï¼šçº¦30å…‹è›‹ç™½è´¨</li>
                        <li>1æ¯å¸Œè…Šé…¸å¥¶ï¼šçº¦23å…‹è›‹ç™½è´¨</li>
                        <li>1ä¸ªé¸¡è›‹ï¼šçº¦6å…‹è›‹ç™½è´¨</li>
                        <li>1å‹ºè›‹ç™½ç²‰ï¼šçº¦25å…‹è›‹ç™½è´¨</li>
                    `,
                    disclaimer: 'å…è´£å£°æ˜ï¼šè¿™æ˜¯ä¸€èˆ¬æŒ‡å—ã€‚è¯·å’¨è¯¢åŒ»ç–—æœåŠ¡æä¾›è€…ä»¥è·å¾—ä¸ªæ€§åŒ–å»ºè®®ã€‚',
                    err_invalid: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—',
                    grams: 'å…‹',
                    grams_per_kg: 'å…‹/åƒå…‹',
                    calories_unit: 'å¡è·¯é‡Œ'
                },
                'zh-TW': {
                    title: 'ğŸ¥© è›‹ç™½è³ªè¨ˆç®—å™¨',
                    unit_system: 'å–®ä½ç³»çµ±',
                    metric: 'å…¬åˆ¶ï¼ˆå…¬æ–¤ï¼‰',
                    imperial: 'è‹±åˆ¶ï¼ˆç£…ï¼‰',
                    weight_kg: 'é«”é‡ï¼ˆå…¬æ–¤ï¼‰',
                    weight_lbs: 'é«”é‡ï¼ˆç£…ï¼‰',
                    activity_level: 'æ´»å‹•æ°´å¹³',
                    sedentary: 'ä¹…åï¼ˆå¾ˆå°‘é‹å‹•ï¼‰',
                    lightly: 'è¼•åº¦æ´»å‹•ï¼ˆå°‘é‡é‹å‹•ï¼‰',
                    moderately: 'ä¸­åº¦æ´»å‹•ï¼ˆé©åº¦é‹å‹•ï¼‰',
                    very: 'é«˜åº¦æ´»å‹•ï¼ˆå¤§é‡é‹å‹•ï¼‰',
                    athlete: 'é‹å‹•å“¡ï¼ˆé«˜å¼·åº¦è¨“ç·´ï¼‰',
                    goal: 'ç›®æ¨™',
                    lose: 'æ¸›é‡',
                    maintain: 'ç¶­æŒé«”é‡',
                    gain: 'å¢è‚Œ',
                    protein_factor: 'è›‹ç™½è³ªæ”å–ä¿‚æ•¸',
                    factor_info: 'ä¹…åè€…è¼ƒä½ï¼Œé‹å‹•å“¡å’Œå¢è‚Œè€…è¼ƒé«˜ã€‚',
                    btn_calc: 'è¨ˆç®—è›‹ç™½è³ªæ”å–é‡',
                    daily_protein: 'æ¯æ—¥è›‹ç™½è³ªéœ€æ±‚é‡',
                    protein_per_kg: 'æ¯å…¬æ–¤é«”é‡è›‹ç™½è³ªå«é‡',
                    calories_from_protein: 'ä¾†è‡ªè›‹ç™½è³ªçš„å¡è·¯é‡Œ',
                    food_examples: 'é£Ÿç‰©ä¾†æºç¤ºä¾‹ï¼š',
                    food_list: `
                        <li>100å…‹é›èƒ¸è‚‰ï¼šç´„30å…‹è›‹ç™½è³ª</li>
                        <li>1æ¯å¸Œè‡˜é…¸å¥¶ï¼šç´„23å…‹è›‹ç™½è³ª</li>
                        <li>1å€‹é›è›‹ï¼šç´„6å…‹è›‹ç™½è³ª</li>
                        <li>1å‹ºè›‹ç™½ç²‰ï¼šç´„25å…‹è›‹ç™½è³ª</li>
                    `,
                    disclaimer: 'å…è²¬è²æ˜ï¼šé€™æ˜¯ä¸€èˆ¬æŒ‡å—ã€‚è«‹è«®è©¢é†«ç™‚æœå‹™æä¾›è€…ä»¥ç²å¾—å€‹æ€§åŒ–å»ºè­°ã€‚',
                    err_invalid: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—',
                    grams: 'å…‹',
                    grams_per_kg: 'å…‹/å…¬æ–¤',
                    calories_unit: 'å¡è·¯é‡Œ'
                },
                'ja': {
                    title: 'ğŸ¥© ã‚¿ãƒ³ãƒ‘ã‚¯è³ªè¨ˆç®—æ©Ÿ',
                    unit_system: 'å˜ä½ç³»',
                    metric: 'ãƒ¡ãƒ¼ãƒˆãƒ«æ³•ï¼ˆkgï¼‰',
                    imperial: 'å¸å›½æ³•ï¼ˆãƒãƒ³ãƒ‰ï¼‰',
                    weight_kg: 'ä½“é‡ï¼ˆkgï¼‰',
                    weight_lbs: 'ä½“é‡ï¼ˆãƒãƒ³ãƒ‰ï¼‰',
                    activity_level: 'æ´»å‹•ãƒ¬ãƒ™ãƒ«',
                    sedentary: 'ä¹…åå‹ï¼ˆã»ã¨ã‚“ã©é‹å‹•ãªã—ï¼‰',
                    lightly: 'è»½åº¦æ´»å‹•ï¼ˆè»½ã„é‹å‹•ï¼‰',
                    moderately: 'ä¸­ç­‰åº¦æ´»å‹•ï¼ˆé©åº¦ãªé‹å‹•ï¼‰',
                    very: 'é«˜åº¦æ´»å‹•ï¼ˆæ¿€ã—ã„é‹å‹•ï¼‰',
                    athlete: 'é‹å‹•é¸æ‰‹ï¼ˆé«˜å¼·åº¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼‰',
                    goal: 'ç›®æ¨™',
                    lose: 'æ¸›é‡',
                    maintain: 'ä½“é‡ç¶­æŒ',
                    gain: 'ç­‹è‚‰å¢—å¼·',
                    protein_factor: 'ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–ä¿‚æ•°',
                    factor_info: 'ä¹…åå‹ã®äººã¯ä½ã‚ã€é‹å‹•é¸æ‰‹ã‚„ç­‹è‚‰ã‚’ã¤ã‘ãŸã„äººã¯é«˜ã‚ã€‚',
                    btn_calc: 'ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ‘‚å–é‡ã‚’è¨ˆç®—',
                    daily_protein: '1æ—¥ã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªå¿…è¦é‡',
                    protein_per_kg: 'ä½“é‡1kgã‚ãŸã‚Šã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªé‡',
                    calories_from_protein: 'ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‹ã‚‰ã®ã‚«ãƒ­ãƒªãƒ¼',
                    food_examples: 'é£Ÿå“ä¾‹ï¼š',
                    food_list: `
                        <li>é¶èƒ¸è‚‰100gï¼šç´„30gã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª</li>
                        <li>ã‚®ãƒªã‚·ãƒ£ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ1ã‚«ãƒƒãƒ—ï¼šç´„23gã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª</li>
                        <li>åµ1å€‹ï¼šç´„6gã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª</li>
                        <li>ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ãƒ‘ã‚¦ãƒ€ãƒ¼1ã‚¹ã‚¯ãƒ¼ãƒ—ï¼šç´„25gã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ª</li>
                    `,
                    disclaimer: 'å…è²¬äº‹é …ï¼šã“ã‚Œã¯ä¸€èˆ¬çš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚å€‹åˆ¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã«ã¤ã„ã¦ã¯ã€åŒ»ç™‚æä¾›è€…ã«ç›¸è«‡ã—ã¦ãã ã•ã„ã€‚',
                    err_invalid: 'æœ‰åŠ¹ãªæ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    grams: 'ã‚°ãƒ©ãƒ ',
                    grams_per_kg: 'g/kg',
                    calories_unit: 'ã‚«ãƒ­ãƒªãƒ¼'
                },
                'ru': {
                    title: 'ğŸ¥© ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ±ĞµĞ»ĞºĞ°',
                    unit_system: 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†',
                    metric: 'ĞœĞµÑ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ (ĞºĞ³)',
                    imperial: 'Ğ˜Ğ¼Ğ¿ĞµÑ€ÑĞºĞ°Ñ (Ñ„ÑƒĞ½Ñ‚Ñ‹)',
                    weight_kg: 'Ğ’ĞµÑ (ĞºĞ³)',
                    weight_lbs: 'Ğ’ĞµÑ (Ñ„ÑƒĞ½Ñ‚Ñ‹)',
                    activity_level: 'Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸',
                    sedentary: 'Ğ¡Ğ¸Ğ´ÑÑ‡Ğ¸Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¶Ğ¸Ğ·Ğ½Ğ¸ (Ğ¼Ğ°Ğ»Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğ¹)',
                    lightly: 'Ğ›ĞµĞ³ĞºĞ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ»ĞµĞ³ĞºĞ¸Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    moderately: 'Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    very: 'ĞÑ‡ĞµĞ½ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ (Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ)',
                    athlete: 'Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ÑĞ¼ĞµĞ½ (Ğ¸Ğ½Ñ‚ĞµĞ½ÑĞ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸)',
                    goal: 'Ğ¦ĞµĞ»ÑŒ',
                    lose: 'Ğ¡Ğ±Ñ€Ğ¾Ñ Ğ²ĞµÑĞ°',
                    maintain: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°',
                    gain: 'ĞĞ°Ğ±Ğ¾Ñ€ Ğ¼Ñ‹ÑˆÑ†',
                    protein_factor: 'Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€ Ğ¸Ğ½Ñ‚ĞµĞ½ÑĞ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ñ Ğ±ĞµĞ»ĞºĞ°',
                    factor_info: 'ĞœĞµĞ½ÑŒÑˆĞµ Ğ´Ğ»Ñ ÑĞ¸Ğ´ÑÑ‡ĞµĞ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° Ğ¶Ğ¸Ğ·Ğ½Ğ¸, Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ´Ğ»Ñ ÑĞ¿Ğ¾Ñ€Ñ‚ÑĞ¼ĞµĞ½Ğ¾Ğ² Ğ¸ Ñ‚ĞµÑ…, ĞºÑ‚Ğ¾ Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ½Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¼Ñ‹ÑˆÑ†Ñ‹.',
                    btn_calc: 'Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ Ğ±ĞµĞ»ĞºĞ°',
                    daily_protein: 'Ğ¡ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ğ±ĞµĞ»ĞºĞµ',
                    protein_per_kg: 'Ğ‘ĞµĞ»Ğ¾Ğº Ğ½Ğ° ĞºĞ³ Ğ²ĞµÑĞ°',
                    calories_from_protein: 'ĞšĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¸ Ğ¾Ñ‚ Ğ±ĞµĞ»ĞºĞ°',
                    food_examples: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²:',
                    food_list: `
                        <li>100Ğ³ ĞºÑƒÑ€Ğ¸Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ñ€ÑƒĞ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ÑÑĞ°: ~30Ğ³ Ğ±ĞµĞ»ĞºĞ°</li>
                        <li>1 Ñ‡Ğ°ÑˆĞºĞ° Ğ³Ñ€ĞµÑ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¹Ğ¾Ğ³ÑƒÑ€Ñ‚Ğ°: ~23Ğ³ Ğ±ĞµĞ»ĞºĞ°</li>
                        <li>1 ÑĞ¹Ñ†Ğ¾: ~6Ğ³ Ğ±ĞµĞ»ĞºĞ°</li>
                        <li>1 ĞºÑƒÑĞ¾Ñ‡ĞµĞº Ğ¿Ñ€Ğ¾Ñ‚ĞµĞ¸Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ€Ğ¾ÑˆĞºĞ°: ~25Ğ³ Ğ±ĞµĞ»ĞºĞ°</li>
                    `,
                    disclaimer: 'ĞÑ‚ĞºĞ°Ğ· Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸: Ğ­Ñ‚Ğ¾ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸. ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ¼ĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ¾Ğ¼Ñƒ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚Ñƒ Ğ·Ğ° Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ ÑĞ¾Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸.',
                    err_invalid: 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°',
                    grams: 'Ğ³Ñ€Ğ°Ğ¼Ğ¼',
                    grams_per_kg: 'Ğ³/ĞºĞ³',
                    calories_unit: 'ĞºĞ°Ğ»Ğ¾Ñ€Ğ¸Ğ¹'
                }
            },

            init: () => {
                // ç›‘å¬å•ä½åˆ‡æ¢
                document.querySelectorAll('input[name="units"]').forEach(radio => {
                    radio.addEventListener('change', ProteinCalc.toggleUnits);
                });
                
                // ç›‘å¬è›‹ç™½è´¨ç³»æ•°æ»‘å—å˜åŒ–
                const proteinSlider = document.getElementById('protein-factor');
                const proteinDisplay = document.getElementById('protein-factor-display');
                
                proteinSlider.addEventListener('input', () => {
                    proteinDisplay.innerText = `${proteinSlider.value}g/kg`;
                });
                
                // æ ¹æ®æ´»åŠ¨æ°´å¹³å’Œç›®æ ‡è‡ªåŠ¨è°ƒæ•´è›‹ç™½è´¨ç³»æ•°
                document.getElementById('activity-level').addEventListener('change', ProteinCalc.adjustProteinFactor);
                document.getElementById('goal').addEventListener('change', ProteinCalc.adjustProteinFactor);
            },

            toggleUnits: () => {
                const isMetric = document.querySelector('input[name="units"][value="metric"]').checked;
                
                // æ˜¾ç¤º/éšè—é‡é‡è¾“å…¥æ¡†
                document.getElementById('weight-metric').style.display = isMetric ? 'block' : 'none';
                document.getElementById('weight-imperial').style.display = isMetric ? 'none' : 'block';
            },
            
            adjustProteinFactor: () => {
                const activity = document.getElementById('activity-level').value;
                const goal = document.getElementById('goal').value;
                let factor = 1.6; // é»˜è®¤å€¼
                
                // æ ¹æ®æ´»åŠ¨æ°´å¹³å’Œç›®æ ‡è°ƒæ•´é»˜è®¤ç³»æ•°
                if (activity === 'sedentary') {
                    factor = goal === 'lose' ? 1.2 : 0.8;
                } else if (activity === 'lightly') {
                    factor = goal === 'gain' ? 1.6 : 1.0;
                } else if (activity === 'moderately') {
                    factor = goal === 'gain' ? 1.8 : 1.2;
                } else if (activity === 'very') {
                    factor = goal === 'gain' ? 2.0 : 1.4;
                } else if (activity === 'athlete') {
                    factor = goal === 'gain' ? 2.2 : 1.6;
                }
                
                document.getElementById('protein-factor').value = factor;
                document.getElementById('protein-factor-display').innerText = `${factor}g/kg`;
            },

            changeLang: () => {
                const lang = document.getElementById('protein-lang').value;
                const texts = ProteinCalc.i18n[lang];
                const elements = document.querySelectorAll('[data-id="protein_calculator"] [data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (texts[key]) {
                        if (key === 'food_list') {
                            el.innerHTML = texts[key];
                        } else {
                            el.innerText = texts[key];
                        }
                    }
                });

                // ç¿»è¯‘ä¸‹æ‹‰é€‰é¡¹
                const activityOptions = document.querySelectorAll('#activity-level option');
                activityOptions.forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });
                
                const goalOptions = document.querySelectorAll('#goal option');
                goalOptions.forEach(option => {
                    const key = option.getAttribute('data-i18n');
                    if (texts[key]) option.innerText = texts[key];
                });

                // é‡æ–°è®¡ç®—ä»¥æ›´æ–°ç»“æœè¯­è¨€
                ProteinCalc.calc();
            },

            calc: () => {
                const isMetric = document.querySelector('input[name="units"][value="metric"]').checked;
                const lang = document.getElementById('protein-lang').value;
                const texts = ProteinCalc.i18n[lang];

                let weightKg, proteinFactor;

                // è·å–è¾“å…¥å€¼
                if (isMetric) {
                    weightKg = parseFloat(document.getElementById('weight-kg').value) || 0;
                } else {
                    const weightLbs = parseFloat(document.getElementById('weight-lbs').value) || 0;
                    weightKg = weightLbs * 0.453592; // è½¬æ¢ä¸ºåƒå…‹
                }
                
                proteinFactor = parseFloat(document.getElementById('protein-factor').value) || 0;

                // è·å–ç»“æœå…ƒç´ 
                const proteinEl = document.getElementById('protein-result');
                const perKgEl = document.getElementById('protein-per-kg');
                const caloriesEl = document.getElementById('protein-calories');

                // éªŒè¯è¾“å…¥
                if (isNaN(weightKg) || isNaN(proteinFactor) || 
                    weightKg <= 0 || proteinFactor <= 0) {
                    proteinEl.innerText = texts.err_invalid;
                    proteinEl.className = "text-2xl font-bold text-red-600";
                    perKgEl.innerText = '--';
                    caloriesEl.innerText = '--';
                    return;
                }

                // è®¡ç®—è›‹ç™½è´¨éœ€æ±‚
                const proteinGrams = Math.round(weightKg * proteinFactor);
                const proteinCalories = proteinGrams * 4; // æ¯å…‹è›‹ç™½è´¨æä¾›4å¡è·¯é‡Œ

                // æ˜¾ç¤ºç»“æœ
                proteinEl.className = "text-3xl font-bold text-red-800";
                proteinEl.innerText = `${proteinGrams} ${texts.grams}`;
                
                perKgEl.innerText = `${proteinFactor} ${texts.grams_per_kg}`;
                
                caloriesEl.innerText = `${proteinCalories} ${texts.calories_unit}`;
            }
        };

        document.addEventListener('DOMContentLoaded', ProteinCalc.init);
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è‡ªåŠ¨åŒ¹é…æµè§ˆå™¨è¯­è¨€
            const userLang = navigator.language || navigator.userLanguage;
            let targetLang = 'en'; 
            if (userLang.startsWith('zh')) {
                targetLang = userLang.includes('TW') || userLang.includes('HK') ? 'zh-TW' : 'zh-CN';
            } else if (userLang.startsWith('ja')) {
                targetLang = 'ja';
            } else if (userLang.startsWith('ru')) {
                targetLang = 'ru';
            }
            
            if (targetLang !== 'en') {
                const langSelect = document.getElementById('protein-lang');
                if(langSelect) {
                    langSelect.value = targetLang;
                    ProteinCalc.changeLang();
                }
            }
        });
    </script>


    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>
</html>