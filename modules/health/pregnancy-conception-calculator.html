<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pregnancy & Conception Calculator</title>
    
    <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
    <meta name="tool-id" content="pregnancy_calculator">
    <meta name="category" content="health">
    <meta name="icon" content="üë∂">
    
    <!-- ÈªòËÆ§Ëã±ÊñáÂÜÖÂÆπ -->
    <meta name="title" content="Pregnancy & Conception Calculator">
    <meta name="description" content="Estimate your due date, conception date, and other important milestones during pregnancy.">
    
    <!-- Â§öËØ≠Ë®ÄÈÖçÁΩÆ -->
    <meta name="lang-title-zh-CN" content="ÊÄÄÂ≠ïÂèóÂ≠ïËÆ°ÁÆóÂô®">
    <meta name="lang-description-zh-CN" content="‰º∞ÁÆóÊÇ®ÁöÑÈ¢Ñ‰∫ßÊúü„ÄÅÂèóÂ≠ïÊó•Êúü‰ª•ÂèäÊÄÄÂ≠ïÊúüÈó¥ÁöÑÂÖ∂‰ªñÈáçË¶ÅÈáåÁ®ãÁ¢ë„ÄÇ">
    
    <meta name="lang-title-zh-TW" content="Êá∑Â≠ïÂèóÂ≠ïË®àÁÆóÂô®">
    <meta name="lang-description-zh-TW" content="‰º∞ÁÆóÊÇ®ÁöÑÈ†êÁî¢Êúü„ÄÅÂèóÂ≠ïÊó•Êúü‰ª•ÂèäÊá∑Â≠ïÊúüÈñìÁöÑÂÖ∂‰ªñÈáçË¶ÅÈáåÁ®ãÁ¢ë„ÄÇ">
    
    <meta name="lang-title-ja" content="Â¶äÂ®†„Å®ÂèóËÉéË®àÁÆó„ÉÑ„Éº„É´">
    <meta name="lang-description-ja" content="ÂàÜÂ®©‰∫àÂÆöÊó•„ÄÅÂèóËÉéÊó•„ÄÅ„Åä„Çà„Å≥Â¶äÂ®†‰∏≠„ÅÆ‰ªñ„ÅÆÈáçË¶Å„Å™ÁØÄÁõÆ„ÇíÊé®ÂÆö„Åó„Åæ„Åô„ÄÇ">
    
    <meta name="lang-title-ru" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞—á–∞—Ç–∏—è">
    <meta name="lang-description-ru" content="–û—Ü–µ–Ω–∏—Ç–µ —Å—Ä–æ–∫ —Ä–æ–¥–æ–≤, –¥–∞—Ç—É –∑–∞—á–∞—Ç–∏—è –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ —ç—Ç–∞–ø—ã –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { padding: 20px; background: #f0f9ff; font-family: sans-serif; }
        .tool-module { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; position: relative; }
        .result-section { margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px; }
        .input-section { margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        .radio-group { display: flex; gap: 15px; margin: 10px 0; flex-wrap: wrap; }
        .radio-option { display: flex; align-items: center; gap: 5px; }
        input[type="date"], select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .milestone-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 10px; margin-top: 15px; }
        .milestone-item { background: white; padding: 10px; border-radius: 4px; }
        .milestone-date { font-weight: 500; }
        .progress-container { margin: 20px 0; height: 8px; background: #e0e0e0; border-radius: 4px; overflow: hidden; }
        .progress-bar { height: 100%; background: #4ade80; width: 0%; transition: width 0.5s ease; }
    </style>
    <link rel="canonical" href="https://toolboxpro.top/modules/health/pregnancy-conception-calculator.html" />
</head>
<body>

    <div class="tool-module active" 
         data-id="pregnancy_calculator" 
         data-category="health" 
         data-title="Pregnancy & Conception Calculator" 
         data-icon="üë∂">
        
        <!-- ËØ≠Ë®ÄÈÄâÊã©Âô® -->
        <div class="absolute top-4 right-4">
            <select id="pregnancy-lang" onchange="PregnancyCalculator.changeLang()" class="text-xs border border-gray-300 rounded p-1 bg-gray-50 text-gray-600 focus:outline-none">
                <option value="en" selected>English</option>
                <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
                <option value="ja">Êó•Êú¨Ë™û</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            </select>
        </div>

        <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2" data-i18n="title">üë∂ Pregnancy & Conception Calculator</h2>
        
        <div class="space-y-4 mb-6">
            <!-- ËÆ°ÁÆóÊñπÂºèÈÄâÊã© -->
            <div class="input-section">
                <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="calculate_method">Calculate Using:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="method-lmp" name="calc-method" value="lmp" checked onclick="PregnancyCalculator.toggleInputs()">
                        <label for="method-lmp" data-i18n="last_period">Last Menstrual Period</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="method-due" name="calc-method" value="due" onclick="PregnancyCalculator.toggleInputs()">
                        <label for="method-due" data-i18n="due_date">Due Date</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="method-conception" name="calc-method" value="conception" onclick="PregnancyCalculator.toggleInputs()">
                        <label for="method-conception" data-i18n="conception_date">Conception Date</label>
                    </div>
                </div>
            </div>
            
            <!-- ËæìÂÖ•Âå∫Âüü -->
            <div id="lmp-input" class="input-section">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="first_day_lmp">First Day of Last Menstrual Period</label>
                <input type="date" id="lmp-date" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <div id="due-input" class="input-section hidden">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="estimated_due_date">Estimated Due Date</label>
                <input type="date" id="due-date" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <div id="conception-input" class="input-section hidden">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="conception_date">Conception Date</label>
                <input type="date" id="conception-date" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
            </div>
            
            <!-- ÊúàÁªèÂë®ÊúüÈïøÂ∫¶ -->
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="cycle_length">Average Menstrual Cycle Length (days)</label>
                <select id="cycle-length" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                    <option value="28">28 days</option>
                    <option value="21">21 days</option>
                    <option value="22">22 days</option>
                    <option value="23">23 days</option>
                    <option value="24">24 days</option>
                    <option value="25">25 days</option>
                    <option value="26">26 days</option>
                    <option value="27">27 days</option>
                    <option value="29">29 days</option>
                    <option value="30">30 days</option>
                    <option value="31">31 days</option>
                    <option value="32">32 days</option>
                    <option value="33">33 days</option>
                    <option value="34">34 days</option>
                    <option value="35">35 days</option>
                </select>
            </div>
            
            <!-- Êìç‰ΩúÊåâÈíÆ -->
            <div class="flex gap-2">
                <button onclick="PregnancyCalculator.clearValue()" class="flex-1 bg-gray-600 text-white py-2 rounded font-bold hover:bg-gray-700 transition" data-i18n="clear">Clear</button>
                <button onclick="PregnancyCalculator.calculate()" class="flex-2 bg-green-600 text-white py-2 rounded font-bold hover:bg-green-700 transition" data-i18n="calculate">Calculate</button>
            </div>
        </div>

        <!-- ÈîôËØØÊèêÁ§∫ -->
        <div id="pregnancy-error" class="text-sm text-red-600 mt-2 hidden mb-4"></div>
        
        <!-- ÁªìÊûúÂ±ïÁ§∫ -->
        <div id="pregnancy-results" class="hidden">
            <div class="text-sm text-gray-500 mb-2" data-i18n="results">Results</div>
            <div class="result-section">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-white p-4 rounded">
                        <div class="text-sm text-gray-500" data-i18n="estimated_due_date">Estimated Due Date</div>
                        <div class="text-lg font-medium" id="due-date-result">-</div>
                    </div>
                    <div class="bg-white p-4 rounded">
                        <div class="text-sm text-gray-500" data-i18n="conception_date">Conception Date</div>
                        <div class="text-lg font-medium" id="conception-date-result">-</div>
                    </div>
                    <div class="bg-white p-4 rounded">
                        <div class="text-sm text-gray-500" data-i18n="current_week">Current Week of Pregnancy</div>
                        <div class="text-lg font-medium" id="current-week-result">-</div>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between text-sm mb-1">
                        <span data-i18n="pregnancy_progress">Pregnancy Progress</span>
                        <span id="progress-percentage">0%</span>
                    </div>
                    <div class="progress-container">
                        <div id="pregnancy-progress" class="progress-bar"></div>
                    </div>
                    <div class="text-right text-sm text-gray-500 mt-1">
                        <span data-i18n="days_remaining">Days Remaining:</span> <span id="days-remaining">280</span>
                    </div>
                </div>
                
                <div class="mt-6">
                    <div class="text-sm text-gray-500 mb-2" data-i18n="key_milestones">Key Milestones</div>
                    <div class="milestone-grid" id="milestones">
                        <!-- ÈáåÁ®ãÁ¢ëÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ËØ¥Êòé‰ø°ÊÅØ -->
        <div class="mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p data-i18n="notes">Notes:</p>
            <ul class="list-disc list-inside mt-2 space-y-1" id="notes-list">
                <li data-i18n="note1">This calculator provides estimates only and should not replace professional medical advice</li>
                <li data-i18n="note2">A typical pregnancy lasts about 40 weeks (280 days) from the first day of your last menstrual period</li>
                <li data-i18n="note3">Conception usually occurs around 2 weeks after the first day of your last menstrual period</li>
            </ul>
        </div>
    </div>

    <script>
        const PregnancyCalculator = {
            // ËÆ°ÁÆóÊñπÂºè: lmp, due, conception
            currentMethod: 'lmp',
            
            i18n: {
                'en': {
                    title: 'üë∂ Pregnancy & Conception Calculator',
                    calculate_method: 'Calculate Using:',
                    last_period: 'Last Menstrual Period',
                    due_date: 'Due Date',
                    conception_date: 'Conception Date',
                    first_day_lmp: 'First Day of Last Menstrual Period',
                    estimated_due_date: 'Estimated Due Date',
                    cycle_length: 'Average Menstrual Cycle Length (days)',
                    clear: 'Clear',
                    calculate: 'Calculate',
                    results: 'Results',
                    current_week: 'Current Week of Pregnancy',
                    pregnancy_progress: 'Pregnancy Progress',
                    days_remaining: 'Days Remaining:',
                    key_milestones: 'Key Milestones',
                    notes: 'Notes:',
                    note1: 'This calculator provides estimates only and should not replace professional medical advice',
                    note2: 'A typical pregnancy lasts about 40 weeks (280 days) from the first day of your last menstrual period',
                    note3: 'Conception usually occurs around 2 weeks after the first day of your last menstrual period',
                    err_invalid_date: 'Please select a valid date',
                    milestone_4w: '4 Weeks: Pregnancy Test Possible',
                    milestone_8w: '8 Weeks: Major Organs Forming',
                    milestone_12w: '12 Weeks: First Trimester Ends',
                    milestone_20w: '20 Weeks: Second Trimester Ends',
                    milestone_24w: '24 Weeks: Viability Age',
                    milestone_37w: '37 Weeks: Full Term',
                    milestone_40w: '40 Weeks: Due Date'
                },
                'zh-CN': {
                    title: 'üë∂ ÊÄÄÂ≠ïÂèóÂ≠ïËÆ°ÁÆóÂô®',
                    calculate_method: 'ËÆ°ÁÆóÊñπÂºèÔºö',
                    last_period: 'Êú´Ê¨°ÊúàÁªè',
                    due_date: 'È¢Ñ‰∫ßÊúü',
                    conception_date: 'ÂèóÂ≠ïÊó•Êúü',
                    first_day_lmp: 'Êú´Ê¨°ÊúàÁªèÁ¨¨‰∏ÄÂ§©',
                    estimated_due_date: 'È¢ÑËÆ°È¢Ñ‰∫ßÊúü',
                    cycle_length: 'Âπ≥ÂùáÊúàÁªèÂë®ÊúüÈïøÂ∫¶ÔºàÂ§©Ôºâ',
                    clear: 'Ê∏ÖÈô§',
                    calculate: 'ËÆ°ÁÆó',
                    results: 'ÁªìÊûú',
                    current_week: 'ÂΩìÂâçÊÄÄÂ≠ïÂë®Êï∞',
                    pregnancy_progress: 'ÊÄÄÂ≠ïËøõÂ∫¶',
                    days_remaining: 'Ââ©‰ΩôÂ§©Êï∞Ôºö',
                    key_milestones: 'ÈáçË¶ÅÈáåÁ®ãÁ¢ë',
                    notes: 'ËØ¥ÊòéÔºö',
                    note1: 'Êú¨ËÆ°ÁÆóÂô®‰ªÖÊèê‰æõ‰º∞ÁÆóÔºå‰∏çËÉΩÊõø‰ª£‰∏ì‰∏öÂåªÁñóÂª∫ËÆÆ',
                    note2: 'ÂÖ∏ÂûãÁöÑÊÄÄÂ≠ïÊúü‰ªéÊú´Ê¨°ÊúàÁªèÁ¨¨‰∏ÄÂ§©ÂºÄÂßãÁ∫¶‰∏∫40Âë®Ôºà280Â§©Ôºâ',
                    note3: 'ÂèóÂ≠ïÈÄöÂ∏∏ÂèëÁîüÂú®Êú´Ê¨°ÊúàÁªèÁ¨¨‰∏ÄÂ§©ÂêéÁ∫¶2Âë®',
                    err_invalid_date: 'ËØ∑ÈÄâÊã©ÊúâÊïàÁöÑÊó•Êúü',
                    milestone_4w: '4Âë®ÔºöÂèØËøõË°åÊÄÄÂ≠ïÊµãËØï',
                    milestone_8w: '8Âë®Ôºö‰∏ªË¶ÅÂô®ÂÆòÂΩ¢Êàê‰∏≠',
                    milestone_12w: '12Âë®ÔºöÂ≠ïÊó©ÊúüÁªìÊùü',
                    milestone_20w: '20Âë®ÔºöÂ≠ï‰∏≠ÊúüÁªìÊùü',
                    milestone_24w: '24Âë®ÔºöÂèØÂ≠òÊ¥ªÂπ¥ÈæÑ',
                    milestone_37w: '37Âë®ÔºöË∂≥Êúà',
                    milestone_40w: '40Âë®ÔºöÈ¢Ñ‰∫ßÊúü'
                },
                'zh-TW': {
                    title: 'üë∂ Êá∑Â≠ïÂèóÂ≠ïË®àÁÆóÂô®',
                    calculate_method: 'Ë®àÁÆóÊñπÂºèÔºö',
                    last_period: 'Êú´Ê¨°ÊúàÁ∂ì',
                    due_date: 'È†êÁî¢Êúü',
                    conception_date: 'ÂèóÂ≠ïÊó•Êúü',
                    first_day_lmp: 'Êú´Ê¨°ÊúàÁ∂ìÁ¨¨‰∏ÄÂ§©',
                    estimated_due_date: 'È†êË®àÈ†êÁî¢Êúü',
                    cycle_length: 'Âπ≥ÂùáÊúàÁ∂ìÈÄ±ÊúüÈï∑Â∫¶ÔºàÂ§©Ôºâ',
                    clear: 'Ê∏ÖÈô§',
                    calculate: 'Ë®àÁÆó',
                    results: 'ÁµêÊûú',
                    current_week: 'Áï∂ÂâçÊá∑Â≠ïÂë®Êï∏',
                    pregnancy_progress: 'Êá∑Â≠ïÈÄ≤Â∫¶',
                    days_remaining: 'Ââ©È§òÂ§©Êï∏Ôºö',
                    key_milestones: 'ÈáçË¶ÅÈáåÁ®ãÁ¢ë',
                    notes: 'Ë™™ÊòéÔºö',
                    note1: 'Êú¨Ë®àÁÆóÂô®ÂÉÖÊèê‰æõ‰º∞ÁÆóÔºå‰∏çËÉΩÊõø‰ª£Â∞àÊ•≠ÈÜ´ÁôÇÂª∫Ë≠∞',
                    note2: 'ÂÖ∏ÂûãÁöÑÊá∑Â≠ïÊúüÂæûÊú´Ê¨°ÊúàÁ∂ìÁ¨¨‰∏ÄÂ§©ÈñãÂßãÁ¥ÑÁÇ∫40ÈÄ±Ôºà280Â§©Ôºâ',
                    note3: 'ÂèóÂ≠ïÈÄöÂ∏∏ÁôºÁîüÂú®Êú´Ê¨°ÊúàÁ∂ìÁ¨¨‰∏ÄÂ§©ÂæåÁ¥Ñ2ÈÄ±',
                    err_invalid_date: 'Ë´ãÈÅ∏ÊìáÊúâÊïàÁöÑÊó•Êúü',
                    milestone_4w: '4ÈÄ±ÔºöÂèØÈÄ≤Ë°åÊá∑Â≠ïÊ∏¨Ë©¶',
                    milestone_8w: '8ÈÄ±Ôºö‰∏ªË¶ÅÂô®ÂÆòÂΩ¢Êàê‰∏≠',
                    milestone_12w: '12ÈÄ±ÔºöÂ≠ïÊó©ÊúüÁµêÊùü',
                    milestone_20w: '20ÈÄ±ÔºöÂ≠ï‰∏≠ÊúüÁµêÊùü',
                    milestone_24w: '24ÈÄ±ÔºöÂèØÂ≠òÊ¥ªÂπ¥ÈΩ°',
                    milestone_37w: '37ÈÄ±ÔºöË∂≥Êúà',
                    milestone_40w: '40ÈÄ±ÔºöÈ†êÁî¢Êúü'
                },
                'ja': {
                    title: 'üë∂ Â¶äÂ®†„Å®ÂèóËÉéË®àÁÆó„ÉÑ„Éº„É´',
                    calculate_method: 'Ë®àÁÆóÊñπÊ≥ïÔºö',
                    last_period: 'ÊúÄÁµÇÊúàÁµå',
                    due_date: 'ÂàÜÂ®©‰∫àÂÆöÊó•',
                    conception_date: 'ÂèóËÉéÊó•',
                    first_day_lmp: 'ÊúÄÁµÇÊúàÁµå„ÅÆÂàùÊó•',
                    estimated_due_date: 'Êé®ÂÆöÂàÜÂ®©‰∫àÂÆöÊó•',
                    cycle_length: 'Âπ≥ÂùáÊúàÁµåÂë®ÊúüÔºàÊó•Ôºâ',
                    clear: '„ÇØ„É™„Ç¢',
                    calculate: 'Ë®àÁÆó',
                    results: 'ÁµêÊûú',
                    current_week: 'ÁèæÂú®„ÅÆÂ¶äÂ®†ÈÄ±Êï∞',
                    pregnancy_progress: 'Â¶äÂ®†„ÅÆÈÄ≤Ë°åÁä∂Ê≥Å',
                    days_remaining: 'ÊÆã„ÇäÊó•Êï∞Ôºö',
                    key_milestones: '‰∏ª„Å™ÁØÄÁõÆ',
                    notes: 'Ê≥®ÈáàÔºö',
                    note1: '„Åì„ÅÆË®àÁÆóÊ©ü„ÅØÊé®ÂÆöÂÄ§„ÇíÊèê‰æõ„Åô„Çã„ÇÇ„ÅÆ„Åß„ÅÇ„Çä„ÄÅÂ∞ÇÈñÄÁöÑ„Å™ÂåªÁôÇ„Ç¢„Éâ„Éê„Ç§„Çπ„Å´Âèñ„Å£„Å¶‰ª£„Çè„Çã„ÇÇ„ÅÆ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì',
                    note2: 'ÈÄöÂ∏∏„ÅÆÂ¶äÂ®†ÊúüÈñì„ÅØ„ÄÅÊúÄÁµÇÊúàÁµå„ÅÆÂàùÊó•„Åã„ÇâÁ¥Ñ40ÈÄ±ÈñìÔºà280Êó•Ôºâ„Åß„Åô',
                    note3: 'ÂèóËÉé„ÅØÈÄöÂ∏∏„ÄÅÊúÄÁµÇÊúàÁµå„ÅÆÂàùÊó•„Åã„ÇâÁ¥Ñ2ÈÄ±ÈñìÂæå„Å´Ëµ∑„Åì„Çä„Åæ„Åô',
                    err_invalid_date: 'ÊúâÂäπ„Å™Êó•‰ªò„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    milestone_4w: '4ÈÄ±ÔºöÂ¶äÂ®†Ê§úÊüª„ÅåÂèØËÉΩ',
                    milestone_8w: '8ÈÄ±Ôºö‰∏ªË¶ÅËáìÂô®„ÅÆÂΩ¢Êàê‰∏≠',
                    milestone_12w: '12ÈÄ±ÔºöÂâçÊúüÂ¶äÂ®†ÁµÇ‰∫Ü',
                    milestone_20w: '20ÈÄ±Ôºö‰∏≠ÊúüÂ¶äÂ®†ÁµÇ‰∫Ü',
                    milestone_24w: '24ÈÄ±ÔºöÁîüÂ≠òÂèØËÉΩÂπ¥ÈΩ¢',
                    milestone_37w: '37ÈÄ±ÔºöÊ∫ÄÊúü',
                    milestone_40w: '40ÈÄ±ÔºöÂàÜÂ®©‰∫àÂÆöÊó•'
                },
                'ru': {
                    title: 'üë∂ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞—á–∞—Ç–∏—è',
                    calculate_method: '–í—ã—á–∏—Å–ª–∏—Ç—å –ø–æ:',
                    last_period: '–ü–æ—Å–ª–µ–¥–Ω–µ–π –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏',
                    due_date: '–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–π –¥–∞—Ç–µ —Ä–æ–¥–æ–≤',
                    conception_date: '–î–∞—Ç–µ –∑–∞—á–∞—Ç–∏—è',
                    first_day_lmp: '–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏',
                    estimated_due_date: '–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –¥–∞—Ç–∞ —Ä–æ–¥–æ–≤',
                    cycle_length: '–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ–Ω—Å—Ç—Ä—É–∞–ª—å–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (–¥–Ω–µ–π)',
                    clear: '–û—á–∏—Å—Ç–∏—Ç—å',
                    calculate: '–í—ã—á–∏—Å–ª–∏—Ç—å',
                    results: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã',
                    current_week: '–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏',
                    pregnancy_progress: '–ü—Ä–æ–≥—Ä–µ—Å—Å –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏',
                    days_remaining: '–û—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–Ω–∏:',
                    key_milestones: '–ö–ª—é—á–µ–≤—ã–µ —ç—Ç–∞–ø—ã',
                    notes: '–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:',
                    note1: '–≠—Ç–æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ü–µ–Ω–∫–∏ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–º–µ–Ω—è—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
                    note2: '–¢–∏–ø–∏—á–Ω–∞—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å –¥–ª–∏—Ç—Å—è –æ–∫–æ–ª–æ 40 –Ω–µ–¥–µ–ª—å (280 –¥–Ω–µ–π) —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏',
                    note3: '–ó–∞—á–∞—Ç–∏–µ –æ–±—ã—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —á–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏',
                    err_invalid_date: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –¥–∞—Ç—É',
                    milestone_4w: '4 –Ω–µ–¥–µ–ª–∏: –í–æ–∑–º–æ–∂–µ–Ω —Ç–µ—Å—Ç –Ω–∞ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å',
                    milestone_8w: '8 –Ω–µ–¥–µ–ª—å: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤',
                    milestone_12w: '12 –Ω–µ–¥–µ–ª—å: –ö–æ–Ω–µ—Ü –ø–µ—Ä–≤–æ–≥–æ —Ç—Ä–∏–º–µ—Å—Ç—Ä–∞',
                    milestone_20w: '20 –Ω–µ–¥–µ–ª—å: –ö–æ–Ω–µ—Ü –≤—Ç–æ—Ä–æ–≥–æ —Ç—Ä–∏–º–µ—Å—Ç—Ä–∞',
                    milestone_24w: '24 –Ω–µ–¥–µ–ª–∏: –í–æ–∑—Ä–∞—Å—Ç –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏',
                    milestone_37w: '37 –Ω–µ–¥–µ–ª—å: –î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –ø–æ–ª–Ω–æ—Ç–∞ —Å—Ä–æ–∫–∞',
                    milestone_40w: '40 –Ω–µ–¥–µ–ª—å: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –¥–∞—Ç–∞ —Ä–æ–¥–æ–≤'
                }
            },
            
            // ÂàùÂßãÂåñ
            init: function() {
                const params = new URLSearchParams(window.location.search);
                const lang = params.get('lang');
                if (lang && this.i18n[lang]) {
                    document.getElementById('lang-selector').value = lang;
                    this.changeLang();
                    return;
                }
                // ËÆæÁΩÆÈªòËÆ§Êó•Êúü‰∏∫‰ªäÂ§©
                const today = new Date();
                const defaultDate = new Date(today.setMonth(today.getMonth() - 1)).toISOString().split('T')[0];
                document.getElementById('lmp-date').value = defaultDate;
                document.getElementById('due-date').value = new Date(today.setMonth(today.getMonth() + 9)).toISOString().split('T')[0];
                document.getElementById('conception-date').value = new Date(today.setMonth(today.getMonth() - 8)).toISOString().split('T')[0];
            },
            
            // ÂàáÊç¢ËæìÂÖ•Âå∫Âüü
            toggleInputs: function() {
                const method = document.querySelector('input[name="calc-method"]:checked').value;
                this.currentMethod = method;
                
                // ÈöêËóèÊâÄÊúâËæìÂÖ•Âå∫Âüü
                document.getElementById('lmp-input').classList.add('hidden');
                document.getElementById('due-input').classList.add('hidden');
                document.getElementById('conception-input').classList.add('hidden');
                
                // ÊòæÁ§∫ÂΩìÂâçÊñπÊ≥ïÂØπÂ∫îÁöÑËæìÂÖ•Âå∫Âüü
                document.getElementById(`${method}-input`).classList.remove('hidden');
            },
            
            // Êó•ÊúüËÆ°ÁÆóËæÖÂä©ÂáΩÊï∞ - Ê∑ªÂä†Â§©Êï∞
            addDays: function(date, days) {
                const result = new Date(date);
                result.setDate(result.getDate() + days);
                return result;
            },
            
            // ËÆ°ÁÆó‰∏§‰∏™Êó•Êúü‰πãÈó¥ÁöÑÂ§©Êï∞Â∑Æ
            daysBetween: function(date1, date2) {
                const oneDay = 24 * 60 * 60 * 1000; // ÊØ´Áßí
                const firstDate = new Date(date1);
                const secondDate = new Date(date2);
                return Math.round(Math.abs((firstDate - secondDate) / oneDay));
            },
            
            // Ê†ºÂºèÂåñÊó•ÊúüÊòæÁ§∫
            formatDate: function(date) {
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return new Date(date).toLocaleDateString(this.getCurrentLang(), options);
            },
            
            // ËÆ°ÁÆóÊÄÄÂ≠ïÁõ∏ÂÖ≥Êó•Êúü
            calculate: function() {
                let lmpDate, dueDate, conceptionDate;
                const cycleLength = parseInt(document.getElementById('cycle-length').value) || 28;
                const ovulationOffset = Math.floor(cycleLength / 2); // ÊéíÂçµÊó•Â§ßÁ∫¶Âú®Âë®Êúü‰∏≠Èó¥
                const today = new Date();
                
                const errorEl = document.getElementById('pregnancy-error');
                const resultsEl = document.getElementById('pregnancy-results');
                
                // Ê†πÊçÆÈÄâÊã©ÁöÑÊñπÊ≥ïËé∑ÂèñÂü∫Á°ÄÊó•Êúü
                if (this.currentMethod === 'lmp') {
                    lmpDate = document.getElementById('lmp-date').value;
                    if (!lmpDate) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_date;
                        errorEl.classList.remove('hidden');
                        return;
                    }
                    
                    // ‰ªéÊú´Ê¨°ÊúàÁªèËÆ°ÁÆóÈ¢Ñ‰∫ßÊúüÔºàÂä†280Â§©ÔºâÂíåÂèóÂ≠ïÊó•ÊúüÔºàÂä†ÊéíÂçµÂÅèÁßªÂ§©Ôºâ
                    dueDate = this.addDays(lmpDate, 280);
                    conceptionDate = this.addDays(lmpDate, ovulationOffset);
                } else if (this.currentMethod === 'due') {
                    dueDate = document.getElementById('due-date').value;
                    if (!dueDate) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_date;
                        errorEl.classList.remove('hidden');
                        return;
                    }
                    
                    // ‰ªéÈ¢Ñ‰∫ßÊúüÂÄíÊé®Êú´Ê¨°ÊúàÁªèÔºàÂáè280Â§©ÔºâÂíåÂèóÂ≠ïÊó•ÊúüÔºàÂáè280-ÊéíÂçµÂÅèÁßªÂ§©Ôºâ
                    lmpDate = this.addDays(dueDate, -280);
                    conceptionDate = this.addDays(dueDate, -(280 - ovulationOffset));
                } else { // conception
                    conceptionDate = document.getElementById('conception-date').value;
                    if (!conceptionDate) {
                        errorEl.textContent = this.i18n[this.getCurrentLang()].err_invalid_date;
                        errorEl.classList.remove('hidden');
                        return;
                    }
                    
                    // ‰ªéÂèóÂ≠ïÊó•ÊúüËÆ°ÁÆóÊú´Ê¨°ÊúàÁªèÔºàÂáèÊéíÂçµÂÅèÁßªÂ§©ÔºâÂíåÈ¢Ñ‰∫ßÊúüÔºàÂä†280-ÊéíÂçµÂÅèÁßªÂ§©Ôºâ
                    lmpDate = this.addDays(conceptionDate, -ovulationOffset);
                    dueDate = this.addDays(conceptionDate, 280 - ovulationOffset);
                }
                
                // Ê∏ÖÈô§ÈîôËØØ
                errorEl.classList.add('hidden');
                
                // ËÆ°ÁÆóÂΩìÂâçÂ≠ïÂë®Ôºà‰ªéÊú´Ê¨°ÊúàÁªèÂºÄÂßãËÆ°ÁÆóÔºâ
                const daysPregnant = this.daysBetween(lmpDate, today);
                const currentWeek = Math.min(Math.max(0, Math.floor(daysPregnant / 7)), 40);
                
                // ËÆ°ÁÆóÂâ©‰ΩôÂ§©Êï∞
                const daysRemaining = Math.max(0, this.daysBetween(today, dueDate));
                
                // ËÆ°ÁÆóÊÄÄÂ≠ïËøõÂ∫¶
                const progress = Math.min(100, Math.round((daysPregnant / 280) * 100));
                
                // ÊòæÁ§∫‰∏ªË¶ÅÁªìÊûú
                document.getElementById('due-date-result').textContent = this.formatDate(dueDate);
                document.getElementById('conception-date-result').textContent = this.formatDate(conceptionDate);
                document.getElementById('current-week-result').textContent = `${currentWeek} ${currentWeek === 1 ? 'week' : 'weeks'}`;
                document.getElementById('progress-percentage').textContent = `${progress}%`;
                document.getElementById('pregnancy-progress').style.width = `${progress}%`;
                document.getElementById('days-remaining').textContent = daysRemaining;
                
                // ÁîüÊàêÈáåÁ®ãÁ¢ë
                const milestones = [
                    { week: 4, date: this.addDays(lmpDate, 4 * 7), key: 'milestone_4w' },
                    { week: 8, date: this.addDays(lmpDate, 8 * 7), key: 'milestone_8w' },
                    { week: 12, date: this.addDays(lmpDate, 12 * 7), key: 'milestone_12w' },
                    { week: 20, date: this.addDays(lmpDate, 20 * 7), key: 'milestone_20w' },
                    { week: 24, date: this.addDays(lmpDate, 24 * 7), key: 'milestone_24w' },
                    { week: 37, date: this.addDays(lmpDate, 37 * 7), key: 'milestone_37w' },
                    { week: 40, date: dueDate, key: 'milestone_40w' }
                ];
                
                // ÊòæÁ§∫ÈáåÁ®ãÁ¢ë
                const milestonesEl = document.getElementById('milestones');
                milestonesEl.innerHTML = '';
                
                milestones.forEach(milestone => {
                    const milestoneEl = document.createElement('div');
                    milestoneEl.className = 'milestone-item';
                    
                    const dateStr = this.formatDate(milestone.date);
                    const isPast = new Date(milestone.date) < today;
                    
                    milestoneEl.innerHTML = `
                        <div class="milestone-date ${isPast ? 'text-gray-600' : ''}">${dateStr}</div>
                        <div class="text-sm ${isPast ? 'text-gray-500' : ''}" data-i18n="${milestone.key}">${this.i18n[this.getCurrentLang()][milestone.key]}</div>
                    `;
                    
                    milestonesEl.appendChild(milestoneEl);
                });
                
                // ÊòæÁ§∫ÁªìÊûúÂå∫Âüü
                resultsEl.classList.remove('hidden');
            },
            
            // Ê∏ÖÈô§ËæìÂÖ•
            clearValue: function() {
                document.getElementById('lmp-date').value = '';
                document.getElementById('due-date').value = '';
                document.getElementById('conception-date').value = '';
                document.getElementById('pregnancy-results').classList.add('hidden');
                document.getElementById('pregnancy-error').classList.add('hidden');
            },
            
            // ÂàáÊç¢ËØ≠Ë®Ä
            changeLang: function() {
                const lang = this.getCurrentLang();
                const elements = document.querySelectorAll('[data-i18n]');
                
                elements.forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (this.i18n[lang][key]) {
                        el.textContent = this.i18n[lang][key];
                    }
                });
                
                // Â¶ÇÊûúÊúâÁªìÊûúÔºåÈáçÊñ∞ËÆ°ÁÆó‰ª•Êõ¥Êñ∞Êó•ÊúüÊ†ºÂºèÂíåÊñáÊú¨
                if (!document.getElementById('pregnancy-results').classList.contains('hidden')) {
                    this.calculate();
                }
            },
            
            // Ëé∑ÂèñÂΩìÂâçËØ≠Ë®Ä
            getCurrentLang: function() {
                return document.getElementById('pregnancy-lang').value;
            }
        };
        
        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            PregnancyCalculator.init();
        });
    </script>

    <div id="related-tools-container"></div>
    <script src="../../scripts/related.js"></script>
    
</body>
</html>